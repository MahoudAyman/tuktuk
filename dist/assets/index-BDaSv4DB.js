function gb(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _b(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var Uv={exports:{}},_l={},Fv={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=Symbol.for("react.element"),yb=Symbol.for("react.portal"),wb=Symbol.for("react.fragment"),xb=Symbol.for("react.strict_mode"),Sb=Symbol.for("react.profiler"),bb=Symbol.for("react.provider"),Tb=Symbol.for("react.context"),Pb=Symbol.for("react.forward_ref"),kb=Symbol.for("react.suspense"),Eb=Symbol.for("react.memo"),Cb=Symbol.for("react.lazy"),Wp=Symbol.iterator;function Ob(t){return t===null||typeof t!="object"?null:(t=Wp&&t[Wp]||t["@@iterator"],typeof t=="function"?t:null)}var $v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wv=Object.assign,Hv={};function zr(t,e,n){this.props=t,this.context=e,this.refs=Hv,this.updater=n||$v}zr.prototype.isReactComponent={};zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zv(){}Zv.prototype=zr.prototype;function Zh(t,e,n){this.props=t,this.context=e,this.refs=Hv,this.updater=n||$v}var Kh=Zh.prototype=new Zv;Kh.constructor=Zh;Wv(Kh,zr.prototype);Kh.isPureReactComponent=!0;var Hp=Array.isArray,Kv=Object.prototype.hasOwnProperty,qh={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Gv(t,e,n){var i,s={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Kv.call(e,i)&&!qv.hasOwnProperty(i)&&(s[i]=e[i]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];s.children=h}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:po,type:t,key:o,ref:l,props:s,_owner:qh.current}}function Lb(t,e){return{$$typeof:po,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gh(t){return typeof t=="object"&&t!==null&&t.$$typeof===po}function Ab(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zp=/\/+/g;function yu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ab(""+t.key):e.toString(36)}function xa(t,e,n,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case po:case yb:l=!0}}if(l)return l=t,s=s(l),t=i===""?"."+yu(l,0):i,Hp(s)?(n="",t!=null&&(n=t.replace(Zp,"$&/")+"/"),xa(s,e,n,"",function(f){return f})):s!=null&&(Gh(s)&&(s=Lb(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Zp,"$&/")+"/")+t)),e.push(s)),1;if(l=0,i=i===""?".":i+":",Hp(t))for(var c=0;c<t.length;c++){o=t[c];var h=i+yu(o,c);l+=xa(o,e,n,h,s)}else if(h=Ob(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=i+yu(o,c++),l+=xa(o,e,n,h,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Wo(t,e,n){if(t==null)return t;var i=[],s=0;return xa(t,i,"","",function(o){return e.call(n,o,s++)}),i}function Rb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},Sa={transition:null},Ib={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:qh};function Jv(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Wo,forEach:function(t,e,n){Wo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wo(t,function(){e++}),e},toArray:function(t){return Wo(t,function(e){return e})||[]},only:function(t){if(!Gh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=zr;ie.Fragment=wb;ie.Profiler=Sb;ie.PureComponent=Zh;ie.StrictMode=xb;ie.Suspense=kb;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ib;ie.act=Jv;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Wv({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=qh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)Kv.call(e,h)&&!qv.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:po,type:t.type,key:s,ref:o,props:i,_owner:l}};ie.createContext=function(t){return t={$$typeof:Tb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bb,_context:t},t.Consumer=t};ie.createElement=Gv;ie.createFactory=function(t){var e=Gv.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:Pb,render:t}};ie.isValidElement=Gh;ie.lazy=function(t){return{$$typeof:Cb,_payload:{_status:-1,_result:t},_init:Rb}};ie.memo=function(t,e){return{$$typeof:Eb,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Sa.transition;Sa.transition={};try{t()}finally{Sa.transition=e}};ie.unstable_act=Jv;ie.useCallback=function(t,e){return ut.current.useCallback(t,e)};ie.useContext=function(t){return ut.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};ie.useEffect=function(t,e){return ut.current.useEffect(t,e)};ie.useId=function(){return ut.current.useId()};ie.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return ut.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};ie.useRef=function(t){return ut.current.useRef(t)};ie.useState=function(t){return ut.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return ut.current.useTransition()};ie.version="18.3.1";Fv.exports=ie;var B=Fv.exports;const Da=Vv(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=B,jb=Symbol.for("react.element"),Nb=Symbol.for("react.fragment"),Db=Object.prototype.hasOwnProperty,Bb=Mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zb={key:!0,ref:!0,__self:!0,__source:!0};function Yv(t,e,n){var i,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)Db.call(e,i)&&!zb.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:jb,type:t,key:o,ref:l,props:s,_owner:Bb.current}}_l.Fragment=Nb;_l.jsx=Yv;_l.jsxs=Yv;Uv.exports=_l;var R=Uv.exports,vc={},Xv={exports:{}},kt={},Qv={exports:{}},e_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,Z){var V=I.length;I.push(Z);e:for(;0<V;){var X=V-1>>>1,oe=I[X];if(0<s(oe,Z))I[X]=Z,I[V]=oe,V=X;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var Z=I[0],V=I.pop();if(V!==Z){I[0]=V;e:for(var X=0,oe=I.length,De=oe>>>1;X<De;){var he=2*(X+1)-1,le=I[he],Q=he+1,ht=I[Q];if(0>s(le,V))Q<oe&&0>s(ht,le)?(I[X]=ht,I[Q]=V,X=Q):(I[X]=le,I[he]=V,X=he);else if(Q<oe&&0>s(ht,V))I[X]=ht,I[Q]=V,X=Q;else break e}}return Z}function s(I,Z){var V=I.sortIndex-Z.sortIndex;return V!==0?V:I.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,g=null,v=3,_=!1,b=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var Z=n(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=I)i(f),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(f)}}function E(I){if(T=!1,x(I),!b)if(n(h)!==null)b=!0,Ue(A);else{var Z=n(f);Z!==null&&de(E,Z.startTime-I)}}function A(I,Z){b=!1,T&&(T=!1,S(N),N=-1),_=!0;var V=v;try{for(x(Z),g=n(h);g!==null&&(!(g.expirationTime>Z)||I&&!se());){var X=g.callback;if(typeof X=="function"){g.callback=null,v=g.priorityLevel;var oe=X(g.expirationTime<=Z);Z=t.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(h)&&i(h),x(Z)}else i(h);g=n(h)}if(g!==null)var De=!0;else{var he=n(f);he!==null&&de(E,he.startTime-Z),De=!1}return De}finally{g=null,v=V,_=!1}}var M=!1,D=null,N=-1,q=5,K=-1;function se(){return!(t.unstable_now()-K<q)}function Ce(){if(D!==null){var I=t.unstable_now();K=I;var Z=!0;try{Z=D(!0,I)}finally{Z?dn():(M=!1,D=null)}}else M=!1}var dn;if(typeof w=="function")dn=function(){w(Ce)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Vi=it.port2;it.port1.onmessage=Ce,dn=function(){Vi.postMessage(null)}}else dn=function(){k(Ce,0)};function Ue(I){D=I,M||(M=!0,dn())}function de(I,Z){N=k(function(){I(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){b||_||(b=!0,Ue(A))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(I){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var V=v;v=Z;try{return I()}finally{v=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,Z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=v;v=I;try{return Z()}finally{v=V}},t.unstable_scheduleCallback=function(I,Z,V){var X=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,I){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,I={id:p++,callback:Z,priorityLevel:I,startTime:V,expirationTime:oe,sortIndex:-1},V>X?(I.sortIndex=V,e(f,I),n(h)===null&&I===n(f)&&(T?(S(N),N=-1):T=!0,de(E,V-X))):(I.sortIndex=oe,e(h,I),b||_||(b=!0,Ue(A))),I},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(I){var Z=v;return function(){var V=v;v=Z;try{return I.apply(this,arguments)}finally{v=V}}}})(e_);Qv.exports=e_;var Vb=Qv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub=B,Pt=Vb;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t_=new Set,Vs={};function Bi(t,e){Or(t,e),Or(t+"Capture",e)}function Or(t,e){for(Vs[t]=e,t=0;t<e.length;t++)t_.add(e[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=Object.prototype.hasOwnProperty,Fb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kp={},qp={};function $b(t){return _c.call(qp,t)?!0:_c.call(Kp,t)?!1:Fb.test(t)?qp[t]=!0:(Kp[t]=!0,!1)}function Wb(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hb(t,e,n,i){if(e===null||typeof e>"u"||Wb(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,n,i,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jh=/[\-:]([a-z])/g;function Yh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jh,Yh);Ye[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jh,Yh);Ye[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jh,Yh);Ye[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xh(t,e,n,i){var s=Ye.hasOwnProperty(e)?Ye[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hb(e,n,s,i)&&(n=null),i||s===null?$b(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var On=Ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),rr=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),yc=Symbol.for("react.profiler"),n_=Symbol.for("react.provider"),i_=Symbol.for("react.context"),ed=Symbol.for("react.forward_ref"),wc=Symbol.for("react.suspense"),xc=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),r_=Symbol.for("react.offscreen"),Gp=Symbol.iterator;function ls(t){return t===null||typeof t!="object"?null:(t=Gp&&t[Gp]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,wu;function vs(t){if(wu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wu=e&&e[1]||""}return`
`+wu+t}var xu=!1;function Su(t,e){if(!t||xu)return"";xu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),o=i.stack.split(`
`),l=s.length-1,c=o.length-1;1<=l&&0<=c&&s[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==o[c]){var h=`
`+s[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=c);break}}}finally{xu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vs(t):""}function Zb(t){switch(t.tag){case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return t=Su(t.type,!1),t;case 11:return t=Su(t.type.render,!1),t;case 1:return t=Su(t.type,!0),t;default:return""}}function Sc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sr:return"Fragment";case rr:return"Portal";case yc:return"Profiler";case Qh:return"StrictMode";case wc:return"Suspense";case xc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i_:return(t.displayName||"Context")+".Consumer";case n_:return(t._context.displayName||"Context")+".Provider";case ed:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case td:return e=t.displayName||null,e!==null?e:Sc(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return Sc(t(e))}catch{}}return null}function Kb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sc(e);case 8:return e===Qh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qb(t){var e=s_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zo(t){t._valueTracker||(t._valueTracker=qb(t))}function o_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=s_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bc(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jp(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function a_(t,e){e=e.checked,e!=null&&Xh(t,"checked",e,!1)}function Tc(t,e){a_(t,e);var n=Xn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pc(t,e.type,Xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pc(t,e,n){(e!=="number"||Ba(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _s=Array.isArray;function xr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Xn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function kc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(_s(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xn(n)}}function l_(t,e){var n=Xn(e.value),i=Xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ec(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ko,c_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ko.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gb=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(t){Gb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ts[e]=Ts[t]})});function h_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ts.hasOwnProperty(t)&&Ts[t]?(""+e).trim():e+"px"}function d_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=h_(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var Jb=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cc(t,e){if(e){if(Jb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Oc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=null;function nd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ac=null,Sr=null,br=null;function em(t){if(t=vo(t)){if(typeof Ac!="function")throw Error(z(280));var e=t.stateNode;e&&(e=bl(e),Ac(t.stateNode,t.type,e))}}function f_(t){Sr?br?br.push(t):br=[t]:Sr=t}function p_(){if(Sr){var t=Sr,e=br;if(br=Sr=null,em(t),e)for(t=0;t<e.length;t++)em(e[t])}}function m_(t,e){return t(e)}function g_(){}var bu=!1;function v_(t,e,n){if(bu)return t(e,n);bu=!0;try{return m_(t,e,n)}finally{bu=!1,(Sr!==null||br!==null)&&(g_(),p_())}}function Fs(t,e){var n=t.stateNode;if(n===null)return null;var i=bl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Rc=!1;if(bn)try{var us={};Object.defineProperty(us,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Rc=!1}function Yb(t,e,n,i,s,o,l,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var Ps=!1,za=null,Va=!1,Ic=null,Xb={onError:function(t){Ps=!0,za=t}};function Qb(t,e,n,i,s,o,l,c,h){Ps=!1,za=null,Yb.apply(Xb,arguments)}function eT(t,e,n,i,s,o,l,c,h){if(Qb.apply(this,arguments),Ps){if(Ps){var f=za;Ps=!1,za=null}else throw Error(z(198));Va||(Va=!0,Ic=f)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function __(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tm(t){if(zi(t)!==t)throw Error(z(188))}function tT(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return tm(s),t;if(o===i)return tm(s),e;o=o.sibling}throw Error(z(188))}if(n.return!==i.return)n=s,i=o;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,i=o;break}if(c===i){l=!0,i=s,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,i=s;break}if(c===i){l=!0,i=o,n=s;break}c=c.sibling}if(!l)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function y_(t){return t=tT(t),t!==null?w_(t):null}function w_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w_(t);if(e!==null)return e;t=t.sibling}return null}var x_=Pt.unstable_scheduleCallback,nm=Pt.unstable_cancelCallback,nT=Pt.unstable_shouldYield,iT=Pt.unstable_requestPaint,Ae=Pt.unstable_now,rT=Pt.unstable_getCurrentPriorityLevel,id=Pt.unstable_ImmediatePriority,S_=Pt.unstable_UserBlockingPriority,Ua=Pt.unstable_NormalPriority,sT=Pt.unstable_LowPriority,b_=Pt.unstable_IdlePriority,yl=null,ln=null;function oT(t){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(yl,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:uT,aT=Math.log,lT=Math.LN2;function uT(t){return t>>>=0,t===0?32:31-(aT(t)/lT|0)|0}var qo=64,Go=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fa(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?i=ys(c):(o&=l,o!==0&&(i=ys(o)))}else l=n&~s,l!==0?i=ys(l):o!==0&&(i=ys(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Yt(e),s=1<<n,i|=t[n],e&=~s;return i}function cT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hT(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Yt(o),c=1<<l,h=s[l];h===-1?(!(c&n)||c&i)&&(s[l]=cT(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function Mc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T_(){var t=qo;return qo<<=1,!(qo&4194240)&&(qo=64),t}function Tu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function dT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yt(n),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~o}}function rd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Yt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ce=0;function P_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var k_,sd,E_,C_,O_,jc=!1,Jo=[],Wn=null,Hn=null,Zn=null,$s=new Map,Ws=new Map,zn=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function im(t,e){switch(t){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":$s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function cs(t,e,n,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=vo(e),e!==null&&sd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pT(t,e,n,i,s){switch(e){case"focusin":return Wn=cs(Wn,t,e,n,i,s),!0;case"dragenter":return Hn=cs(Hn,t,e,n,i,s),!0;case"mouseover":return Zn=cs(Zn,t,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return $s.set(o,cs($s.get(o)||null,t,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Ws.set(o,cs(Ws.get(o)||null,t,e,n,i,s)),!0}return!1}function L_(t){var e=Si(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=__(n),e!==null){t.blockedOn=e,O_(t.priority,function(){E_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ba(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Lc=i,n.target.dispatchEvent(i),Lc=null}else return e=vo(n),e!==null&&sd(e),t.blockedOn=n,!1;e.shift()}return!0}function rm(t,e,n){ba(t)&&n.delete(e)}function mT(){jc=!1,Wn!==null&&ba(Wn)&&(Wn=null),Hn!==null&&ba(Hn)&&(Hn=null),Zn!==null&&ba(Zn)&&(Zn=null),$s.forEach(rm),Ws.forEach(rm)}function hs(t,e){t.blockedOn===e&&(t.blockedOn=null,jc||(jc=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,mT)))}function Hs(t){function e(s){return hs(s,t)}if(0<Jo.length){hs(Jo[0],t);for(var n=1;n<Jo.length;n++){var i=Jo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Wn!==null&&hs(Wn,t),Hn!==null&&hs(Hn,t),Zn!==null&&hs(Zn,t),$s.forEach(e),Ws.forEach(e),n=0;n<zn.length;n++)i=zn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)L_(n),n.blockedOn===null&&zn.shift()}var Tr=On.ReactCurrentBatchConfig,$a=!0;function gT(t,e,n,i){var s=ce,o=Tr.transition;Tr.transition=null;try{ce=1,od(t,e,n,i)}finally{ce=s,Tr.transition=o}}function vT(t,e,n,i){var s=ce,o=Tr.transition;Tr.transition=null;try{ce=4,od(t,e,n,i)}finally{ce=s,Tr.transition=o}}function od(t,e,n,i){if($a){var s=Nc(t,e,n,i);if(s===null)Mu(t,e,i,Wa,n),im(t,i);else if(pT(s,t,e,n,i))i.stopPropagation();else if(im(t,i),e&4&&-1<fT.indexOf(t)){for(;s!==null;){var o=vo(s);if(o!==null&&k_(o),o=Nc(t,e,n,i),o===null&&Mu(t,e,i,Wa,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else Mu(t,e,i,null,n)}}var Wa=null;function Nc(t,e,n,i){if(Wa=null,t=nd(i),t=Si(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=__(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wa=t,null}function A_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rT()){case id:return 1;case S_:return 4;case Ua:case sT:return 16;case b_:return 536870912;default:return 16}default:return 16}}var Fn=null,ad=null,Ta=null;function R_(){if(Ta)return Ta;var t,e=ad,n=e.length,i,s="value"in Fn?Fn.value:Fn.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===s[o-i];i++);return Ta=s.slice(t,1<i?1-i:void 0)}function Pa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yo(){return!0}function sm(){return!1}function Et(t){function e(n,i,s,o,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yo:sm,this.isPropagationStopped=sm,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),e}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=Et(Vr),go=Pe({},Vr,{view:0,detail:0}),_T=Et(go),Pu,ku,ds,wl=Pe({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ds&&(ds&&t.type==="mousemove"?(Pu=t.screenX-ds.screenX,ku=t.screenY-ds.screenY):ku=Pu=0,ds=t),Pu)},movementY:function(t){return"movementY"in t?t.movementY:ku}}),om=Et(wl),yT=Pe({},wl,{dataTransfer:0}),wT=Et(yT),xT=Pe({},go,{relatedTarget:0}),Eu=Et(xT),ST=Pe({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),bT=Et(ST),TT=Pe({},Vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PT=Et(TT),kT=Pe({},Vr,{data:0}),am=Et(kT),ET={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OT[t])?!!e[t]:!1}function ud(){return LT}var AT=Pe({},go,{key:function(t){if(t.key){var e=ET[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(t){return t.type==="keypress"?Pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RT=Et(AT),IT=Pe({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=Et(IT),MT=Pe({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),jT=Et(MT),NT=Pe({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),DT=Et(NT),BT=Pe({},wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zT=Et(BT),VT=[9,13,27,32],cd=bn&&"CompositionEvent"in window,ks=null;bn&&"documentMode"in document&&(ks=document.documentMode);var UT=bn&&"TextEvent"in window&&!ks,I_=bn&&(!cd||ks&&8<ks&&11>=ks),um=" ",cm=!1;function M_(t,e){switch(t){case"keyup":return VT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var or=!1;function FT(t,e){switch(t){case"compositionend":return j_(e);case"keypress":return e.which!==32?null:(cm=!0,um);case"textInput":return t=e.data,t===um&&cm?null:t;default:return null}}function $T(t,e){if(or)return t==="compositionend"||!cd&&M_(t,e)?(t=R_(),Ta=ad=Fn=null,or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I_&&e.locale!=="ko"?null:e.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WT[t.type]:e==="textarea"}function N_(t,e,n,i){f_(i),e=Ha(e,"onChange"),0<e.length&&(n=new ld("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Es=null,Zs=null;function HT(t){K_(t,0)}function xl(t){var e=ur(t);if(o_(e))return t}function ZT(t,e){if(t==="change")return e}var D_=!1;if(bn){var Cu;if(bn){var Ou="oninput"in document;if(!Ou){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Ou=typeof dm.oninput=="function"}Cu=Ou}else Cu=!1;D_=Cu&&(!document.documentMode||9<document.documentMode)}function fm(){Es&&(Es.detachEvent("onpropertychange",B_),Zs=Es=null)}function B_(t){if(t.propertyName==="value"&&xl(Zs)){var e=[];N_(e,Zs,t,nd(t)),v_(HT,e)}}function KT(t,e,n){t==="focusin"?(fm(),Es=e,Zs=n,Es.attachEvent("onpropertychange",B_)):t==="focusout"&&fm()}function qT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xl(Zs)}function GT(t,e){if(t==="click")return xl(e)}function JT(t,e){if(t==="input"||t==="change")return xl(e)}function YT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qt=typeof Object.is=="function"?Object.is:YT;function Ks(t,e){if(Qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!_c.call(e,s)||!Qt(t[s],e[s]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,e){var n=pm(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pm(n)}}function z_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V_(){for(var t=window,e=Ba();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ba(t.document)}return e}function hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XT(t){var e=V_(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&z_(n.ownerDocument.documentElement,n)){if(i!==null&&hd(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=mm(n,o);var l=mm(n,i);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QT=bn&&"documentMode"in document&&11>=document.documentMode,ar=null,Dc=null,Cs=null,Bc=!1;function gm(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bc||ar==null||ar!==Ba(i)||(i=ar,"selectionStart"in i&&hd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cs&&Ks(Cs,i)||(Cs=i,i=Ha(Dc,"onSelect"),0<i.length&&(e=new ld("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ar)))}function Xo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lr={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Lu={},U_={};bn&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Sl(t){if(Lu[t])return Lu[t];if(!lr[t])return t;var e=lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U_)return Lu[t]=e[n];return t}var F_=Sl("animationend"),$_=Sl("animationiteration"),W_=Sl("animationstart"),H_=Sl("transitionend"),Z_=new Map,vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){Z_.set(t,e),Bi(e,[t])}for(var Au=0;Au<vm.length;Au++){var Ru=vm[Au],eP=Ru.toLowerCase(),tP=Ru[0].toUpperCase()+Ru.slice(1);ni(eP,"on"+tP)}ni(F_,"onAnimationEnd");ni($_,"onAnimationIteration");ni(W_,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(H_,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function _m(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,eT(i,e,void 0,t),t.currentTarget=null}function K_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var c=i[l],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&s.isPropagationStopped())break e;_m(s,c,f),o=h}else for(l=0;l<i.length;l++){if(c=i[l],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&s.isPropagationStopped())break e;_m(s,c,f),o=h}}}if(Va)throw t=Ic,Va=!1,Ic=null,t}function ge(t,e){var n=e[$c];n===void 0&&(n=e[$c]=new Set);var i=t+"__bubble";n.has(i)||(q_(e,t,2,!1),n.add(i))}function Iu(t,e,n){var i=0;e&&(i|=4),q_(n,t,i,e)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function qs(t){if(!t[Qo]){t[Qo]=!0,t_.forEach(function(n){n!=="selectionchange"&&(nP.has(n)||Iu(n,!1,t),Iu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qo]||(e[Qo]=!0,Iu("selectionchange",!1,e))}}function q_(t,e,n,i){switch(A_(e)){case 1:var s=gT;break;case 4:s=vT;break;default:s=od}n=s.bind(null,e,n,t),s=void 0,!Rc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mu(t,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Si(c),l===null)return;if(h=l.tag,h===5||h===6){i=o=l;continue e}c=c.parentNode}}i=i.return}v_(function(){var f=o,p=nd(n),g=[];e:{var v=Z_.get(t);if(v!==void 0){var _=ld,b=t;switch(t){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":_=RT;break;case"focusin":b="focus",_=Eu;break;case"focusout":b="blur",_=Eu;break;case"beforeblur":case"afterblur":_=Eu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=wT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=jT;break;case F_:case $_:case W_:_=bT;break;case H_:_=DT;break;case"scroll":_=_T;break;case"wheel":_=zT;break;case"copy":case"cut":case"paste":_=PT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=lm}var T=(e&4)!==0,k=!T&&t==="scroll",S=T?v!==null?v+"Capture":null:v;T=[];for(var w=f,x;w!==null;){x=w;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,S!==null&&(E=Fs(w,S),E!=null&&T.push(Gs(w,E,x)))),k)break;w=w.return}0<T.length&&(v=new _(v,b,null,n,p),g.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",v&&n!==Lc&&(b=n.relatedTarget||n.fromElement)&&(Si(b)||b[Tn]))break e;if((_||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,_?(b=n.relatedTarget||n.toElement,_=f,b=b?Si(b):null,b!==null&&(k=zi(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(_=null,b=f),_!==b)){if(T=om,E="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=lm,E="onPointerLeave",S="onPointerEnter",w="pointer"),k=_==null?v:ur(_),x=b==null?v:ur(b),v=new T(E,w+"leave",_,n,p),v.target=k,v.relatedTarget=x,E=null,Si(p)===f&&(T=new T(S,w+"enter",b,n,p),T.target=x,T.relatedTarget=k,E=T),k=E,_&&b)t:{for(T=_,S=b,w=0,x=T;x;x=Ji(x))w++;for(x=0,E=S;E;E=Ji(E))x++;for(;0<w-x;)T=Ji(T),w--;for(;0<x-w;)S=Ji(S),x--;for(;w--;){if(T===S||S!==null&&T===S.alternate)break t;T=Ji(T),S=Ji(S)}T=null}else T=null;_!==null&&ym(g,v,_,T,!1),b!==null&&k!==null&&ym(g,k,b,T,!0)}}e:{if(v=f?ur(f):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var A=ZT;else if(hm(v))if(D_)A=JT;else{A=qT;var M=KT}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=GT);if(A&&(A=A(t,f))){N_(g,A,n,p);break e}M&&M(t,v,f),t==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&Pc(v,"number",v.value)}switch(M=f?ur(f):window,t){case"focusin":(hm(M)||M.contentEditable==="true")&&(ar=M,Dc=f,Cs=null);break;case"focusout":Cs=Dc=ar=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,gm(g,n,p);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":gm(g,n,p)}var D;if(cd)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else or?M_(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(I_&&n.locale!=="ko"&&(or||N!=="onCompositionStart"?N==="onCompositionEnd"&&or&&(D=R_()):(Fn=p,ad="value"in Fn?Fn.value:Fn.textContent,or=!0)),M=Ha(f,N),0<M.length&&(N=new am(N,t,null,n,p),g.push({event:N,listeners:M}),D?N.data=D:(D=j_(n),D!==null&&(N.data=D)))),(D=UT?FT(t,n):$T(t,n))&&(f=Ha(f,"onBeforeInput"),0<f.length&&(p=new am("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=D))}K_(g,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ha(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Fs(t,n),o!=null&&i.unshift(Gs(t,o,s)),o=Fs(t,e),o!=null&&i.push(Gs(t,o,s))),t=t.return}return i}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ym(t,e,n,i,s){for(var o=e._reactName,l=[];n!==null&&n!==i;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&f!==null&&(c=f,s?(h=Fs(n,o),h!=null&&l.unshift(Gs(n,h,c))):s||(h=Fs(n,o),h!=null&&l.push(Gs(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var iP=/\r\n?/g,rP=/\u0000|\uFFFD/g;function wm(t){return(typeof t=="string"?t:""+t).replace(iP,`
`).replace(rP,"")}function ea(t,e,n){if(e=wm(e),wm(t)!==e&&n)throw Error(z(425))}function Za(){}var zc=null,Vc=null;function Uc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fc=typeof setTimeout=="function"?setTimeout:void 0,sP=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,oP=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(t){return xm.resolve(null).then(t).catch(aP)}:Fc;function aP(t){setTimeout(function(){throw t})}function ju(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Hs(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Hs(e)}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),an="__reactFiber$"+Ur,Js="__reactProps$"+Ur,Tn="__reactContainer$"+Ur,$c="__reactEvents$"+Ur,lP="__reactListeners$"+Ur,uP="__reactHandles$"+Ur;function Si(t){var e=t[an];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tn]||n[an]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sm(t);t!==null;){if(n=t[an])return n;t=Sm(t)}return e}t=n,n=t.parentNode}return null}function vo(t){return t=t[an]||t[Tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function bl(t){return t[Js]||null}var Wc=[],cr=-1;function ii(t){return{current:t}}function ve(t){0>cr||(t.current=Wc[cr],Wc[cr]=null,cr--)}function me(t,e){cr++,Wc[cr]=t.current,t.current=e}var Qn={},nt=ii(Qn),gt=ii(!1),Ii=Qn;function Lr(t,e){var n=t.type.contextTypes;if(!n)return Qn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vt(t){return t=t.childContextTypes,t!=null}function Ka(){ve(gt),ve(nt)}function bm(t,e,n){if(nt.current!==Qn)throw Error(z(168));me(nt,e),me(gt,n)}function G_(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(z(108,Kb(t)||"Unknown",s));return Pe({},n,i)}function qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Ii=nt.current,me(nt,t),me(gt,gt.current),!0}function Tm(t,e,n){var i=t.stateNode;if(!i)throw Error(z(169));n?(t=G_(t,e,Ii),i.__reactInternalMemoizedMergedChildContext=t,ve(gt),ve(nt),me(nt,t)):ve(gt),me(gt,n)}var yn=null,Tl=!1,Nu=!1;function J_(t){yn===null?yn=[t]:yn.push(t)}function cP(t){Tl=!0,J_(t)}function ri(){if(!Nu&&yn!==null){Nu=!0;var t=0,e=ce;try{var n=yn;for(ce=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}yn=null,Tl=!1}catch(s){throw yn!==null&&(yn=yn.slice(t+1)),x_(id,ri),s}finally{ce=e,Nu=!1}}return null}var hr=[],dr=0,Ga=null,Ja=0,It=[],Mt=0,Mi=null,wn=1,xn="";function mi(t,e){hr[dr++]=Ja,hr[dr++]=Ga,Ga=t,Ja=e}function Y_(t,e,n){It[Mt++]=wn,It[Mt++]=xn,It[Mt++]=Mi,Mi=t;var i=wn;t=xn;var s=32-Yt(i)-1;i&=~(1<<s),n+=1;var o=32-Yt(e)+s;if(30<o){var l=s-s%5;o=(i&(1<<l)-1).toString(32),i>>=l,s-=l,wn=1<<32-Yt(e)+s|n<<s|i,xn=o+t}else wn=1<<o|n<<s|i,xn=t}function dd(t){t.return!==null&&(mi(t,1),Y_(t,1,0))}function fd(t){for(;t===Ga;)Ga=hr[--dr],hr[dr]=null,Ja=hr[--dr],hr[dr]=null;for(;t===Mi;)Mi=It[--Mt],It[Mt]=null,xn=It[--Mt],It[Mt]=null,wn=It[--Mt],It[Mt]=null}var Tt=null,bt=null,_e=!1,Jt=null;function X_(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tt=t,bt=Kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:wn,overflow:xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tt=t,bt=null,!0):!1;default:return!1}}function Hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zc(t){if(_e){var e=bt;if(e){var n=e;if(!Pm(t,e)){if(Hc(t))throw Error(z(418));e=Kn(n.nextSibling);var i=Tt;e&&Pm(t,e)?X_(i,n):(t.flags=t.flags&-4097|2,_e=!1,Tt=t)}}else{if(Hc(t))throw Error(z(418));t.flags=t.flags&-4097|2,_e=!1,Tt=t}}}function km(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function ta(t){if(t!==Tt)return!1;if(!_e)return km(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uc(t.type,t.memoizedProps)),e&&(e=bt)){if(Hc(t))throw Q_(),Error(z(418));for(;e;)X_(t,e),e=Kn(e.nextSibling)}if(km(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=Kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=Tt?Kn(t.stateNode.nextSibling):null;return!0}function Q_(){for(var t=bt;t;)t=Kn(t.nextSibling)}function Ar(){bt=Tt=null,_e=!1}function pd(t){Jt===null?Jt=[t]:Jt.push(t)}var hP=On.ReactCurrentBatchConfig;function fs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var i=n.stateNode}if(!i)throw Error(z(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var c=s.refs;l===null?delete c[o]:c[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function na(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Em(t){var e=t._init;return e(t._payload)}function ey(t){function e(S,w){if(t){var x=S.deletions;x===null?(S.deletions=[w],S.flags|=16):x.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function i(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function s(S,w){return S=Yn(S,w),S.index=0,S.sibling=null,S}function o(S,w,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<w?(S.flags|=2,w):x):(S.flags|=2,w)):(S.flags|=1048576,w)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,w,x,E){return w===null||w.tag!==6?(w=$u(x,S.mode,E),w.return=S,w):(w=s(w,x),w.return=S,w)}function h(S,w,x,E){var A=x.type;return A===sr?p(S,w,x.props.children,E,x.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Dn&&Em(A)===w.type)?(E=s(w,x.props),E.ref=fs(S,w,x),E.return=S,E):(E=Ra(x.type,x.key,x.props,null,S.mode,E),E.ref=fs(S,w,x),E.return=S,E)}function f(S,w,x,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Wu(x,S.mode,E),w.return=S,w):(w=s(w,x.children||[]),w.return=S,w)}function p(S,w,x,E,A){return w===null||w.tag!==7?(w=Li(x,S.mode,E,A),w.return=S,w):(w=s(w,x),w.return=S,w)}function g(S,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$u(""+w,S.mode,x),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ho:return x=Ra(w.type,w.key,w.props,null,S.mode,x),x.ref=fs(S,null,w),x.return=S,x;case rr:return w=Wu(w,S.mode,x),w.return=S,w;case Dn:var E=w._init;return g(S,E(w._payload),x)}if(_s(w)||ls(w))return w=Li(w,S.mode,x,null),w.return=S,w;na(S,w)}return null}function v(S,w,x,E){var A=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return A!==null?null:c(S,w,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ho:return x.key===A?h(S,w,x,E):null;case rr:return x.key===A?f(S,w,x,E):null;case Dn:return A=x._init,v(S,w,A(x._payload),E)}if(_s(x)||ls(x))return A!==null?null:p(S,w,x,E,null);na(S,x)}return null}function _(S,w,x,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return S=S.get(x)||null,c(w,S,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ho:return S=S.get(E.key===null?x:E.key)||null,h(w,S,E,A);case rr:return S=S.get(E.key===null?x:E.key)||null,f(w,S,E,A);case Dn:var M=E._init;return _(S,w,x,M(E._payload),A)}if(_s(E)||ls(E))return S=S.get(x)||null,p(w,S,E,A,null);na(w,E)}return null}function b(S,w,x,E){for(var A=null,M=null,D=w,N=w=0,q=null;D!==null&&N<x.length;N++){D.index>N?(q=D,D=null):q=D.sibling;var K=v(S,D,x[N],E);if(K===null){D===null&&(D=q);break}t&&D&&K.alternate===null&&e(S,D),w=o(K,w,N),M===null?A=K:M.sibling=K,M=K,D=q}if(N===x.length)return n(S,D),_e&&mi(S,N),A;if(D===null){for(;N<x.length;N++)D=g(S,x[N],E),D!==null&&(w=o(D,w,N),M===null?A=D:M.sibling=D,M=D);return _e&&mi(S,N),A}for(D=i(S,D);N<x.length;N++)q=_(D,S,N,x[N],E),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?N:q.key),w=o(q,w,N),M===null?A=q:M.sibling=q,M=q);return t&&D.forEach(function(se){return e(S,se)}),_e&&mi(S,N),A}function T(S,w,x,E){var A=ls(x);if(typeof A!="function")throw Error(z(150));if(x=A.call(x),x==null)throw Error(z(151));for(var M=A=null,D=w,N=w=0,q=null,K=x.next();D!==null&&!K.done;N++,K=x.next()){D.index>N?(q=D,D=null):q=D.sibling;var se=v(S,D,K.value,E);if(se===null){D===null&&(D=q);break}t&&D&&se.alternate===null&&e(S,D),w=o(se,w,N),M===null?A=se:M.sibling=se,M=se,D=q}if(K.done)return n(S,D),_e&&mi(S,N),A;if(D===null){for(;!K.done;N++,K=x.next())K=g(S,K.value,E),K!==null&&(w=o(K,w,N),M===null?A=K:M.sibling=K,M=K);return _e&&mi(S,N),A}for(D=i(S,D);!K.done;N++,K=x.next())K=_(D,S,N,K.value,E),K!==null&&(t&&K.alternate!==null&&D.delete(K.key===null?N:K.key),w=o(K,w,N),M===null?A=K:M.sibling=K,M=K);return t&&D.forEach(function(Ce){return e(S,Ce)}),_e&&mi(S,N),A}function k(S,w,x,E){if(typeof x=="object"&&x!==null&&x.type===sr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ho:e:{for(var A=x.key,M=w;M!==null;){if(M.key===A){if(A=x.type,A===sr){if(M.tag===7){n(S,M.sibling),w=s(M,x.props.children),w.return=S,S=w;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Dn&&Em(A)===M.type){n(S,M.sibling),w=s(M,x.props),w.ref=fs(S,M,x),w.return=S,S=w;break e}n(S,M);break}else e(S,M);M=M.sibling}x.type===sr?(w=Li(x.props.children,S.mode,E,x.key),w.return=S,S=w):(E=Ra(x.type,x.key,x.props,null,S.mode,E),E.ref=fs(S,w,x),E.return=S,S=E)}return l(S);case rr:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(S,w.sibling),w=s(w,x.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=Wu(x,S.mode,E),w.return=S,S=w}return l(S);case Dn:return M=x._init,k(S,w,M(x._payload),E)}if(_s(x))return b(S,w,x,E);if(ls(x))return T(S,w,x,E);na(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(S,w.sibling),w=s(w,x),w.return=S,S=w):(n(S,w),w=$u(x,S.mode,E),w.return=S,S=w),l(S)):n(S,w)}return k}var Rr=ey(!0),ty=ey(!1),Ya=ii(null),Xa=null,fr=null,md=null;function gd(){md=fr=Xa=null}function vd(t){var e=Ya.current;ve(Ya),t._currentValue=e}function Kc(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Pr(t,e){Xa=t,md=fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pt=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(md!==t)if(t={context:t,memoizedValue:e,next:null},fr===null){if(Xa===null)throw Error(z(308));fr=t,Xa.dependencies={lanes:0,firstContext:t}}else fr=fr.next=t;return e}var bi=null;function _d(t){bi===null?bi=[t]:bi.push(t)}function ny(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,_d(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pn(t,i)}function Pn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bn=!1;function yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ae&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Pn(t,n)}return s=i.interleaved,s===null?(e.next=e,_d(i)):(e.next=s.next,s.next=e),i.interleaved=e,Pn(t,n)}function ka(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,rd(t,n)}}function Cm(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qa(t,e,n,i){var s=t.updateQueue;Bn=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var h=c,f=h.next;h.next=null,l===null?o=f:l.next=f,l=h;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=h))}if(o!==null){var g=s.baseState;l=0,p=f=h=null,c=o;do{var v=c.lane,_=c.eventTime;if((i&v)===v){p!==null&&(p=p.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=t,T=c;switch(v=e,_=n,T.tag){case 1:if(b=T.payload,typeof b=="function"){g=b.call(_,g,v);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=T.payload,v=typeof b=="function"?b.call(_,g,v):b,v==null)break e;g=Pe({},g,v);break e;case 2:Bn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[c]:v.push(c))}else _={eventTime:_,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(f=p=_,h=g):p=p.next=_,l|=v;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;v=c,c=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(p===null&&(h=g),s.baseState=h,s.firstBaseUpdate=f,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ni|=l,t.lanes=l,t.memoizedState=g}}function Om(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(z(191,s));s.call(i)}}}var _o={},un=ii(_o),Ys=ii(_o),Xs=ii(_o);function Ti(t){if(t===_o)throw Error(z(174));return t}function wd(t,e){switch(me(Xs,e),me(Ys,t),me(un,_o),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ec(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ec(e,t)}ve(un),me(un,e)}function Ir(){ve(un),ve(Ys),ve(Xs)}function ry(t){Ti(Xs.current);var e=Ti(un.current),n=Ec(e,t.type);e!==n&&(me(Ys,t),me(un,n))}function xd(t){Ys.current===t&&(ve(un),ve(Ys))}var Se=ii(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Du=[];function Sd(){for(var t=0;t<Du.length;t++)Du[t]._workInProgressVersionPrimary=null;Du.length=0}var Ea=On.ReactCurrentDispatcher,Bu=On.ReactCurrentBatchConfig,ji=0,Te=null,ze=null,$e=null,tl=!1,Os=!1,Qs=0,dP=0;function Xe(){throw Error(z(321))}function bd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qt(t[n],e[n]))return!1;return!0}function Td(t,e,n,i,s,o){if(ji=o,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ea.current=t===null||t.memoizedState===null?gP:vP,t=n(i,s),Os){o=0;do{if(Os=!1,Qs=0,25<=o)throw Error(z(301));o+=1,$e=ze=null,e.updateQueue=null,Ea.current=_P,t=n(i,s)}while(Os)}if(Ea.current=nl,e=ze!==null&&ze.next!==null,ji=0,$e=ze=Te=null,tl=!1,e)throw Error(z(300));return t}function Pd(){var t=Qs!==0;return Qs=0,t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Te.memoizedState=$e=t:$e=$e.next=t,$e}function Vt(){if(ze===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=$e===null?Te.memoizedState:$e.next;if(e!==null)$e=e,ze=t;else{if(t===null)throw Error(z(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},$e===null?Te.memoizedState=$e=t:$e=$e.next=t}return $e}function eo(t,e){return typeof e=="function"?e(t):e}function zu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=ze,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var c=l=null,h=null,f=o;do{var p=f.lane;if((ji&p)===p)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=g,l=i):h=h.next=g,Te.lanes|=p,Ni|=p}f=f.next}while(f!==null&&f!==o);h===null?l=i:h.next=c,Qt(i,e.memoizedState)||(pt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Te.lanes|=o,Ni|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);Qt(o,e.memoizedState)||(pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function sy(){}function oy(t,e){var n=Te,i=Vt(),s=e(),o=!Qt(i.memoizedState,s);if(o&&(i.memoizedState=s,pt=!0),i=i.queue,kd(uy.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,to(9,ly.bind(null,n,i,s,e),void 0,null),He===null)throw Error(z(349));ji&30||ay(n,e,s)}return s}function ay(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ly(t,e,n,i){e.value=n,e.getSnapshot=i,cy(e)&&hy(t)}function uy(t,e,n){return n(function(){cy(e)&&hy(t)})}function cy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qt(t,n)}catch{return!0}}function hy(t){var e=Pn(t,1);e!==null&&Xt(e,t,1,-1)}function Lm(t){var e=on();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:t},e.queue=t,t=t.dispatch=mP.bind(null,Te,t),[e.memoizedState,t]}function to(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function dy(){return Vt().memoizedState}function Ca(t,e,n,i){var s=on();Te.flags|=t,s.memoizedState=to(1|e,n,void 0,i===void 0?null:i)}function Pl(t,e,n,i){var s=Vt();i=i===void 0?null:i;var o=void 0;if(ze!==null){var l=ze.memoizedState;if(o=l.destroy,i!==null&&bd(i,l.deps)){s.memoizedState=to(e,n,o,i);return}}Te.flags|=t,s.memoizedState=to(1|e,n,o,i)}function Am(t,e){return Ca(8390656,8,t,e)}function kd(t,e){return Pl(2048,8,t,e)}function fy(t,e){return Pl(4,2,t,e)}function py(t,e){return Pl(4,4,t,e)}function my(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gy(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4,4,my.bind(null,e,t),n)}function Ed(){}function vy(t,e){var n=Vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&bd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function _y(t,e){var n=Vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&bd(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function yy(t,e,n){return ji&21?(Qt(n,e)||(n=T_(),Te.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pt=!0),t.memoizedState=n)}function fP(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var i=Bu.transition;Bu.transition={};try{t(!1),e()}finally{ce=n,Bu.transition=i}}function wy(){return Vt().memoizedState}function pP(t,e,n){var i=Jn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},xy(t))Sy(e,n);else if(n=ny(t,e,n,i),n!==null){var s=lt();Xt(n,t,i,s),by(n,e,i)}}function mP(t,e,n){var i=Jn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(xy(t))Sy(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(s.hasEagerState=!0,s.eagerState=c,Qt(c,l)){var h=e.interleaved;h===null?(s.next=s,_d(e)):(s.next=h.next,h.next=s),e.interleaved=s;return}}catch{}finally{}n=ny(t,e,s,i),n!==null&&(s=lt(),Xt(n,t,i,s),by(n,e,i))}}function xy(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Sy(t,e){Os=tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function by(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,rd(t,n)}}var nl={readContext:zt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},gP={readContext:zt,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:Am,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ca(4194308,4,my.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ca(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ca(4,2,t,e)},useMemo:function(t,e){var n=on();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=on();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=pP.bind(null,Te,t),[i.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:Lm,useDebugValue:Ed,useDeferredValue:function(t){return on().memoizedState=t},useTransition:function(){var t=Lm(!1),e=t[0];return t=fP.bind(null,t[1]),on().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Te,s=on();if(_e){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),He===null)throw Error(z(349));ji&30||ay(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Am(uy.bind(null,i,o,t),[t]),i.flags|=2048,to(9,ly.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=on(),e=He.identifierPrefix;if(_e){var n=xn,i=wn;n=(i&~(1<<32-Yt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vP={readContext:zt,useCallback:vy,useContext:zt,useEffect:kd,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:py,useMemo:_y,useReducer:zu,useRef:dy,useState:function(){return zu(eo)},useDebugValue:Ed,useDeferredValue:function(t){var e=Vt();return yy(e,ze.memoizedState,t)},useTransition:function(){var t=zu(eo)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:sy,useSyncExternalStore:oy,useId:wy,unstable_isNewReconciler:!1},_P={readContext:zt,useCallback:vy,useContext:zt,useEffect:kd,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:py,useMemo:_y,useReducer:Vu,useRef:dy,useState:function(){return Vu(eo)},useDebugValue:Ed,useDeferredValue:function(t){var e=Vt();return ze===null?e.memoizedState=t:yy(e,ze.memoizedState,t)},useTransition:function(){var t=Vu(eo)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:sy,useSyncExternalStore:oy,useId:wy,unstable_isNewReconciler:!1};function Zt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kl={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=lt(),s=Jn(t),o=Sn(i,s);o.payload=e,n!=null&&(o.callback=n),e=qn(t,o,s),e!==null&&(Xt(e,t,s,i),ka(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=lt(),s=Jn(t),o=Sn(i,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=qn(t,o,s),e!==null&&(Xt(e,t,s,i),ka(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),i=Jn(t),s=Sn(n,i);s.tag=2,e!=null&&(s.callback=e),e=qn(t,s,i),e!==null&&(Xt(e,t,i,n),ka(e,t,i))}};function Rm(t,e,n,i,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!Ks(n,i)||!Ks(s,o):!0}function Ty(t,e,n){var i=!1,s=Qn,o=e.contextType;return typeof o=="object"&&o!==null?o=zt(o):(s=vt(e)?Ii:nt.current,i=e.contextTypes,o=(i=i!=null)?Lr(t,s):Qn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kl,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Im(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&kl.enqueueReplaceState(e,e.state,null)}function Gc(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},yd(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=zt(o):(o=vt(e)?Ii:nt.current,s.context=Lr(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qc(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kl.enqueueReplaceState(s,s.state,null),Qa(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Mr(t,e){try{var n="",i=e;do n+=Zb(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Uu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yP=typeof WeakMap=="function"?WeakMap:Map;function Py(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){rl||(rl=!0,oh=i),Jc(t,e)},n}function ky(t,e,n){n=Sn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Jc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jc(t,e),typeof i!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Mm(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new yP;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=IP.bind(null,t,e,n),e.then(t,t))}function jm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nm(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,qn(n,e,1))),n.lanes|=1),t)}var wP=On.ReactCurrentOwner,pt=!1;function st(t,e,n,i){e.child=t===null?ty(e,null,n,i):Rr(e,t.child,n,i)}function Dm(t,e,n,i,s){n=n.render;var o=e.ref;return Pr(e,s),i=Td(t,e,n,i,o,s),n=Pd(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kn(t,e,s)):(_e&&n&&dd(e),e.flags|=1,st(t,e,i,s),e.child)}function Bm(t,e,n,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!jd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ey(t,e,o,i,s)):(t=Ra(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(l,i)&&t.ref===e.ref)return kn(t,e,s)}return e.flags|=1,t=Yn(o,i),t.ref=e.ref,t.return=e,e.child=t}function Ey(t,e,n,i,s){if(t!==null){var o=t.memoizedProps;if(Ks(o,i)&&t.ref===e.ref)if(pt=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,kn(t,e,s)}return Yc(t,e,n,i,s)}function Cy(t,e,n){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(mr,wt),wt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(mr,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,me(mr,wt),wt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,me(mr,wt),wt|=i;return st(t,e,s,n),e.child}function Oy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yc(t,e,n,i,s){var o=vt(n)?Ii:nt.current;return o=Lr(e,o),Pr(e,s),n=Td(t,e,n,i,o,s),i=Pd(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kn(t,e,s)):(_e&&i&&dd(e),e.flags|=1,st(t,e,n,s),e.child)}function zm(t,e,n,i,s){if(vt(n)){var o=!0;qa(e)}else o=!1;if(Pr(e,s),e.stateNode===null)Oa(t,e),Ty(e,n,i),Gc(e,n,i,s),i=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=zt(f):(f=vt(n)?Ii:nt.current,f=Lr(e,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||h!==f)&&Im(e,l,i,f),Bn=!1;var v=e.memoizedState;l.state=v,Qa(e,i,l,s),h=e.memoizedState,c!==i||v!==h||gt.current||Bn?(typeof p=="function"&&(qc(e,n,p,i),h=e.memoizedState),(c=Bn||Rm(e,n,c,i,v,h,f))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),l.props=i,l.state=h,l.context=f,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,iy(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:Zt(e.type,c),l.props=f,g=e.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=zt(h):(h=vt(n)?Ii:nt.current,h=Lr(e,h));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||v!==h)&&Im(e,l,i,h),Bn=!1,v=e.memoizedState,l.state=v,Qa(e,i,l,s);var b=e.memoizedState;c!==g||v!==b||gt.current||Bn?(typeof _=="function"&&(qc(e,n,_,i),b=e.memoizedState),(f=Bn||Rm(e,n,f,i,v,b,h)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,b,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,b,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=b),l.props=i,l.state=b,l.context=h,i=f):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Xc(t,e,n,i,o,s)}function Xc(t,e,n,i,s,o){Oy(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return s&&Tm(e,n,!1),kn(t,e,o);i=e.stateNode,wP.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Rr(e,t.child,null,o),e.child=Rr(e,null,c,o)):st(t,e,c,o),e.memoizedState=i.state,s&&Tm(e,n,!0),e.child}function Ly(t){var e=t.stateNode;e.pendingContext?bm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bm(t,e.context,!1),wd(t,e.containerInfo)}function Vm(t,e,n,i,s){return Ar(),pd(s),e.flags|=256,st(t,e,n,i),e.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function eh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ay(t,e,n){var i=e.pendingProps,s=Se.current,o=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(Se,s&1),t===null)return Zc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Ol(l,i,0,null),t=Li(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=eh(n),e.memoizedState=Qc,t):Cd(e,l));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return xP(t,e,l,i,c,s,n);if(o){o=i.fallback,l=e.mode,s=t.child,c=s.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Yn(s,h),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=Yn(c,o):(o=Li(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?eh(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Qc,i}return o=t.child,t=o.sibling,i=Yn(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Cd(t,e){return e=Ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ia(t,e,n,i){return i!==null&&pd(i),Rr(e,t.child,null,n),t=Cd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xP(t,e,n,i,s,o,l){if(n)return e.flags&256?(e.flags&=-257,i=Uu(Error(z(422))),ia(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Ol({mode:"visible",children:i.children},s,0,null),o=Li(o,s,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Rr(e,t.child,null,l),e.child.memoizedState=eh(l),e.memoizedState=Qc,o);if(!(e.mode&1))return ia(t,e,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(z(419)),i=Uu(o,i,void 0),ia(t,e,l,i)}if(c=(l&t.childLanes)!==0,pt||c){if(i=He,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Pn(t,s),Xt(i,t,s,-1))}return Md(),i=Uu(Error(z(421))),ia(t,e,l,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=MP.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,bt=Kn(s.nextSibling),Tt=e,_e=!0,Jt=null,t!==null&&(It[Mt++]=wn,It[Mt++]=xn,It[Mt++]=Mi,wn=t.id,xn=t.overflow,Mi=e),e=Cd(e,i.children),e.flags|=4096,e)}function Um(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Kc(t.return,e,n)}function Fu(t,e,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function Ry(t,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(st(t,e,i.children,n),i=Se.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Um(t,n,e);else if(t.tag===19)Um(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(me(Se,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&el(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fu(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&el(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fu(e,!0,n,null,o);break;case"together":Fu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Yn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SP(t,e,n){switch(e.tag){case 3:Ly(e),Ar();break;case 5:ry(e);break;case 1:vt(e.type)&&qa(e);break;case 4:wd(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;me(Ya,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(me(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?Ay(t,e,n):(me(Se,Se.current&1),t=kn(t,e,n),t!==null?t.sibling:null);me(Se,Se.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Ry(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Se,Se.current),i)break;return null;case 22:case 23:return e.lanes=0,Cy(t,e,n)}return kn(t,e,n)}var Iy,th,My,jy;Iy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};th=function(){};My=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Ti(un.current);var o=null;switch(n){case"input":s=bc(t,s),i=bc(t,i),o=[];break;case"select":s=Pe({},s,{value:void 0}),i=Pe({},i,{value:void 0}),o=[];break;case"textarea":s=kc(t,s),i=kc(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Za)}Cc(n,i);var l;n=null;for(f in s)if(!i.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var c=s[f];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Vs.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(c=s!=null?s[f]:void 0,i.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&ge("scroll",t),o||c===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};jy=function(t,e,n,i){n!==i&&(e.flags|=4)};function ps(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function bP(t,e,n){var i=e.pendingProps;switch(fd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return vt(e.type)&&Ka(),Qe(e),null;case 3:return i=e.stateNode,Ir(),ve(gt),ve(nt),Sd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ta(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jt!==null&&(uh(Jt),Jt=null))),th(t,e),Qe(e),null;case 5:xd(e);var s=Ti(Xs.current);if(n=e.type,t!==null&&e.stateNode!=null)My(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return Qe(e),null}if(t=Ti(un.current),ta(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[an]=e,i[Js]=o,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(s=0;s<ws.length;s++)ge(ws[s],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":Jp(i,o),ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ge("invalid",i);break;case"textarea":Xp(i,o),ge("invalid",i)}Cc(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&ea(i.textContent,c,t),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&ea(i.textContent,c,t),s=["children",""+c]):Vs.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&ge("scroll",i)}switch(n){case"input":Zo(i),Yp(i,o,!0);break;case"textarea":Zo(i),Qp(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Za)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[an]=e,t[Js]=i,Iy(t,e,!1,!1),e.stateNode=t;e:{switch(l=Oc(n,i),n){case"dialog":ge("cancel",t),ge("close",t),s=i;break;case"iframe":case"object":case"embed":ge("load",t),s=i;break;case"video":case"audio":for(s=0;s<ws.length;s++)ge(ws[s],t);s=i;break;case"source":ge("error",t),s=i;break;case"img":case"image":case"link":ge("error",t),ge("load",t),s=i;break;case"details":ge("toggle",t),s=i;break;case"input":Jp(t,i),s=bc(t,i),ge("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Pe({},i,{value:void 0}),ge("invalid",t);break;case"textarea":Xp(t,i),s=kc(t,i),ge("invalid",t);break;default:s=i}Cc(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?d_(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&c_(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Us(t,h):typeof h=="number"&&Us(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vs.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ge("scroll",t):h!=null&&Xh(t,o,h,l))}switch(n){case"input":Zo(t),Yp(t,i,!1);break;case"textarea":Zo(t),Qp(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Xn(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?xr(t,!!i.multiple,o,!1):i.defaultValue!=null&&xr(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)jy(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ti(Xs.current),Ti(un.current),ta(e)){if(i=e.stateNode,n=e.memoizedProps,i[an]=e,(o=i.nodeValue!==n)&&(t=Tt,t!==null))switch(t.tag){case 3:ea(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ea(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[an]=e,e.stateNode=i}return Qe(e),null;case 13:if(ve(Se),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&bt!==null&&e.mode&1&&!(e.flags&128))Q_(),Ar(),e.flags|=98560,o=!1;else if(o=ta(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[an]=e}else Ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),o=!1}else Jt!==null&&(uh(Jt),Jt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?Ve===0&&(Ve=3):Md())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return Ir(),th(t,e),t===null&&qs(e.stateNode.containerInfo),Qe(e),null;case 10:return vd(e.type._context),Qe(e),null;case 17:return vt(e.type)&&Ka(),Qe(e),null;case 19:if(ve(Se),o=e.memoizedState,o===null)return Qe(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)ps(o,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=el(t),l!==null){for(e.flags|=128,ps(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Se,Se.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ae()>jr&&(e.flags|=128,i=!0,ps(o,!1),e.lanes=4194304)}else{if(!i)if(t=el(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ps(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!_e)return Qe(e),null}else 2*Ae()-o.renderingStartTime>jr&&n!==1073741824&&(e.flags|=128,i=!0,ps(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ae(),e.sibling=null,n=Se.current,me(Se,i?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Id(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?wt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function TP(t,e){switch(fd(e),e.tag){case 1:return vt(e.type)&&Ka(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ir(),ve(gt),ve(nt),Sd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xd(e),null;case 13:if(ve(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Se),null;case 4:return Ir(),null;case 10:return vd(e.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var ra=!1,et=!1,PP=typeof WeakSet=="function"?WeakSet:Set,F=null;function pr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ee(t,e,i)}else n.current=null}function nh(t,e,n){try{n()}catch(i){Ee(t,e,i)}}var Fm=!1;function kP(t,e){if(zc=$a,t=V_(),hd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,f=0,p=0,g=t,v=null;t:for(;;){for(var _;g!==n||s!==0&&g.nodeType!==3||(c=l+s),g!==o||i!==0&&g.nodeType!==3||(h=l+i),g.nodeType===3&&(l+=g.nodeValue.length),(_=g.firstChild)!==null;)v=g,g=_;for(;;){if(g===t)break t;if(v===n&&++f===s&&(c=l),v===o&&++p===i&&(h=l),(_=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=_}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vc={focusedElem:t,selectionRange:n},$a=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var T=b.memoizedProps,k=b.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?T:Zt(e.type,T),k);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(E){Ee(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return b=Fm,Fm=!1,b}function Ls(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&nh(e,n,o)}s=s.next}while(s!==i)}}function El(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ih(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ny(t){var e=t.alternate;e!==null&&(t.alternate=null,Ny(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[Js],delete e[$c],delete e[lP],delete e[uP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dy(t){return t.tag===5||t.tag===3||t.tag===4}function $m(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Za));else if(i!==4&&(t=t.child,t!==null))for(rh(t,e,n),t=t.sibling;t!==null;)rh(t,e,n),t=t.sibling}function sh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(sh(t,e,n),t=t.sibling;t!==null;)sh(t,e,n),t=t.sibling}var qe=null,qt=!1;function Mn(t,e,n){for(n=n.child;n!==null;)By(t,e,n),n=n.sibling}function By(t,e,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 5:et||pr(n,e);case 6:var i=qe,s=qt;qe=null,Mn(t,e,n),qe=i,qt=s,qe!==null&&(qt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(qt?(t=qe,n=n.stateNode,t.nodeType===8?ju(t.parentNode,n):t.nodeType===1&&ju(t,n),Hs(t)):ju(qe,n.stateNode));break;case 4:i=qe,s=qt,qe=n.stateNode.containerInfo,qt=!0,Mn(t,e,n),qe=i,qt=s;break;case 0:case 11:case 14:case 15:if(!et&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&nh(n,e,l),s=s.next}while(s!==i)}Mn(t,e,n);break;case 1:if(!et&&(pr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Ee(n,e,c)}Mn(t,e,n);break;case 21:Mn(t,e,n);break;case 22:n.mode&1?(et=(i=et)||n.memoizedState!==null,Mn(t,e,n),et=i):Mn(t,e,n);break;default:Mn(t,e,n)}}function Wm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PP),e.forEach(function(i){var s=jP.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function $t(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:qe=c.stateNode,qt=!1;break e;case 3:qe=c.stateNode.containerInfo,qt=!0;break e;case 4:qe=c.stateNode.containerInfo,qt=!0;break e}c=c.return}if(qe===null)throw Error(z(160));By(o,l,s),qe=null,qt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(f){Ee(s,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zy(e,t),e=e.sibling}function zy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(e,t),sn(t),i&4){try{Ls(3,t,t.return),El(3,t)}catch(T){Ee(t,t.return,T)}try{Ls(5,t,t.return)}catch(T){Ee(t,t.return,T)}}break;case 1:$t(e,t),sn(t),i&512&&n!==null&&pr(n,n.return);break;case 5:if($t(e,t),sn(t),i&512&&n!==null&&pr(n,n.return),t.flags&32){var s=t.stateNode;try{Us(s,"")}catch(T){Ee(t,t.return,T)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&a_(s,o),Oc(c,l);var f=Oc(c,o);for(l=0;l<h.length;l+=2){var p=h[l],g=h[l+1];p==="style"?d_(s,g):p==="dangerouslySetInnerHTML"?c_(s,g):p==="children"?Us(s,g):Xh(s,p,g,f)}switch(c){case"input":Tc(s,o);break;case"textarea":l_(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?xr(s,!!o.multiple,_,!1):v!==!!o.multiple&&(o.defaultValue!=null?xr(s,!!o.multiple,o.defaultValue,!0):xr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Js]=o}catch(T){Ee(t,t.return,T)}}break;case 6:if($t(e,t),sn(t),i&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(T){Ee(t,t.return,T)}}break;case 3:if($t(e,t),sn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(e.containerInfo)}catch(T){Ee(t,t.return,T)}break;case 4:$t(e,t),sn(t);break;case 13:$t(e,t),sn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ad=Ae())),i&4&&Wm(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(et=(f=et)||p,$t(e,t),et=f):$t(e,t),sn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(F=t,p=t.child;p!==null;){for(g=F=p;F!==null;){switch(v=F,_=v.child,v.tag){case 0:case 11:case 14:case 15:Ls(4,v,v.return);break;case 1:pr(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(T){Ee(i,n,T)}}break;case 5:pr(v,v.return);break;case 22:if(v.memoizedState!==null){Zm(g);continue}}_!==null?(_.return=v,F=_):Zm(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,f?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,h=g.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=h_("display",l))}catch(T){Ee(t,t.return,T)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(T){Ee(t,t.return,T)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:$t(e,t),sn(t),i&4&&Wm(t);break;case 21:break;default:$t(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dy(n)){var i=n;break e}n=n.return}throw Error(z(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Us(s,""),i.flags&=-33);var o=$m(t);sh(t,o,s);break;case 3:case 4:var l=i.stateNode.containerInfo,c=$m(t);rh(t,c,l);break;default:throw Error(z(161))}}catch(h){Ee(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EP(t,e,n){F=t,Vy(t)}function Vy(t,e,n){for(var i=(t.mode&1)!==0;F!==null;){var s=F,o=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||ra;if(!l){var c=s.alternate,h=c!==null&&c.memoizedState!==null||et;c=ra;var f=et;if(ra=l,(et=h)&&!f)for(F=s;F!==null;)l=F,h=l.child,l.tag===22&&l.memoizedState!==null?Km(s):h!==null?(h.return=l,F=h):Km(s);for(;o!==null;)F=o,Vy(o),o=o.sibling;F=s,ra=c,et=f}Hm(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,F=o):Hm(t)}}function Hm(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||El(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!et)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Om(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Om(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Hs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}et||e.flags&512&&ih(e)}catch(v){Ee(e,e.return,v)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function Zm(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Km(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{El(4,e)}catch(h){Ee(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(h){Ee(e,s,h)}}var o=e.return;try{ih(e)}catch(h){Ee(e,o,h)}break;case 5:var l=e.return;try{ih(e)}catch(h){Ee(e,l,h)}}}catch(h){Ee(e,e.return,h)}if(e===t){F=null;break}var c=e.sibling;if(c!==null){c.return=e.return,F=c;break}F=e.return}}var CP=Math.ceil,il=On.ReactCurrentDispatcher,Od=On.ReactCurrentOwner,Dt=On.ReactCurrentBatchConfig,ae=0,He=null,Ne=null,Je=0,wt=0,mr=ii(0),Ve=0,no=null,Ni=0,Cl=0,Ld=0,As=null,ft=null,Ad=0,jr=1/0,vn=null,rl=!1,oh=null,Gn=null,sa=!1,$n=null,sl=0,Rs=0,ah=null,La=-1,Aa=0;function lt(){return ae&6?Ae():La!==-1?La:La=Ae()}function Jn(t){return t.mode&1?ae&2&&Je!==0?Je&-Je:hP.transition!==null?(Aa===0&&(Aa=T_()),Aa):(t=ce,t!==0||(t=window.event,t=t===void 0?16:A_(t.type)),t):1}function Xt(t,e,n,i){if(50<Rs)throw Rs=0,ah=null,Error(z(185));mo(t,n,i),(!(ae&2)||t!==He)&&(t===He&&(!(ae&2)&&(Cl|=n),Ve===4&&Vn(t,Je)),_t(t,i),n===1&&ae===0&&!(e.mode&1)&&(jr=Ae()+500,Tl&&ri()))}function _t(t,e){var n=t.callbackNode;hT(t,e);var i=Fa(t,t===He?Je:0);if(i===0)n!==null&&nm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&nm(n),e===1)t.tag===0?cP(qm.bind(null,t)):J_(qm.bind(null,t)),oP(function(){!(ae&6)&&ri()}),n=null;else{switch(P_(i)){case 1:n=id;break;case 4:n=S_;break;case 16:n=Ua;break;case 536870912:n=b_;break;default:n=Ua}n=qy(n,Uy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Uy(t,e){if(La=-1,Aa=0,ae&6)throw Error(z(327));var n=t.callbackNode;if(kr()&&t.callbackNode!==n)return null;var i=Fa(t,t===He?Je:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=ol(t,i);else{e=i;var s=ae;ae|=2;var o=$y();(He!==t||Je!==e)&&(vn=null,jr=Ae()+500,Oi(t,e));do try{AP();break}catch(c){Fy(t,c)}while(!0);gd(),il.current=o,ae=s,Ne!==null?e=0:(He=null,Je=0,e=Ve)}if(e!==0){if(e===2&&(s=Mc(t),s!==0&&(i=s,e=lh(t,s))),e===1)throw n=no,Oi(t,0),Vn(t,i),_t(t,Ae()),n;if(e===6)Vn(t,i);else{if(s=t.current.alternate,!(i&30)&&!OP(s)&&(e=ol(t,i),e===2&&(o=Mc(t),o!==0&&(i=o,e=lh(t,o))),e===1))throw n=no,Oi(t,0),Vn(t,i),_t(t,Ae()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:gi(t,ft,vn);break;case 3:if(Vn(t,i),(i&130023424)===i&&(e=Ad+500-Ae(),10<e)){if(Fa(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fc(gi.bind(null,t,ft,vn),e);break}gi(t,ft,vn);break;case 4:if(Vn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var l=31-Yt(i);o=1<<l,l=e[l],l>s&&(s=l),i&=~o}if(i=s,i=Ae()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*CP(i/1960))-i,10<i){t.timeoutHandle=Fc(gi.bind(null,t,ft,vn),i);break}gi(t,ft,vn);break;case 5:gi(t,ft,vn);break;default:throw Error(z(329))}}}return _t(t,Ae()),t.callbackNode===n?Uy.bind(null,t):null}function lh(t,e){var n=As;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=ol(t,e),t!==2&&(e=ft,ft=n,e!==null&&uh(e)),t}function uh(t){ft===null?ft=t:ft.push.apply(ft,t)}function OP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!Qt(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vn(t,e){for(e&=~Ld,e&=~Cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),i=1<<n;t[n]=-1,e&=~i}}function qm(t){if(ae&6)throw Error(z(327));kr();var e=Fa(t,0);if(!(e&1))return _t(t,Ae()),null;var n=ol(t,e);if(t.tag!==0&&n===2){var i=Mc(t);i!==0&&(e=i,n=lh(t,i))}if(n===1)throw n=no,Oi(t,0),Vn(t,e),_t(t,Ae()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gi(t,ft,vn),_t(t,Ae()),null}function Rd(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(jr=Ae()+500,Tl&&ri())}}function Di(t){$n!==null&&$n.tag===0&&!(ae&6)&&kr();var e=ae;ae|=1;var n=Dt.transition,i=ce;try{if(Dt.transition=null,ce=1,t)return t()}finally{ce=i,Dt.transition=n,ae=e,!(ae&6)&&ri()}}function Id(){wt=mr.current,ve(mr)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sP(n)),Ne!==null)for(n=Ne.return;n!==null;){var i=n;switch(fd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ka();break;case 3:Ir(),ve(gt),ve(nt),Sd();break;case 5:xd(i);break;case 4:Ir();break;case 13:ve(Se);break;case 19:ve(Se);break;case 10:vd(i.type._context);break;case 22:case 23:Id()}n=n.return}if(He=t,Ne=t=Yn(t.current,null),Je=wt=e,Ve=0,no=null,Ld=Cl=Ni=0,ft=As=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,i.next=l}n.pending=i}bi=null}return t}function Fy(t,e){do{var n=Ne;try{if(gd(),Ea.current=nl,tl){for(var i=Te.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}tl=!1}if(ji=0,$e=ze=Te=null,Os=!1,Qs=0,Od.current=null,n===null||n.return===null){Ve=1,no=e,Ne=null;break}e:{var o=t,l=n.return,c=n,h=e;if(e=Je,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=jm(l);if(_!==null){_.flags&=-257,Nm(_,l,c,o,e),_.mode&1&&Mm(o,f,e),e=_,h=f;var b=e.updateQueue;if(b===null){var T=new Set;T.add(h),e.updateQueue=T}else b.add(h);break e}else{if(!(e&1)){Mm(o,f,e),Md();break e}h=Error(z(426))}}else if(_e&&c.mode&1){var k=jm(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Nm(k,l,c,o,e),pd(Mr(h,c));break e}}o=h=Mr(h,c),Ve!==4&&(Ve=2),As===null?As=[o]:As.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=Py(o,h,e);Cm(o,S);break e;case 1:c=h;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gn===null||!Gn.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=ky(o,c,e);Cm(o,E);break e}}o=o.return}while(o!==null)}Hy(n)}catch(A){e=A,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function $y(){var t=il.current;return il.current=nl,t===null?nl:t}function Md(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),He===null||!(Ni&268435455)&&!(Cl&268435455)||Vn(He,Je)}function ol(t,e){var n=ae;ae|=2;var i=$y();(He!==t||Je!==e)&&(vn=null,Oi(t,e));do try{LP();break}catch(s){Fy(t,s)}while(!0);if(gd(),ae=n,il.current=i,Ne!==null)throw Error(z(261));return He=null,Je=0,Ve}function LP(){for(;Ne!==null;)Wy(Ne)}function AP(){for(;Ne!==null&&!nT();)Wy(Ne)}function Wy(t){var e=Ky(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?Hy(t):Ne=e,Od.current=null}function Hy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TP(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Ne=null;return}}else if(n=bP(n,e,wt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Ve===0&&(Ve=5)}function gi(t,e,n){var i=ce,s=Dt.transition;try{Dt.transition=null,ce=1,RP(t,e,n,i)}finally{Dt.transition=s,ce=i}return null}function RP(t,e,n,i){do kr();while($n!==null);if(ae&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(dT(t,o),t===He&&(Ne=He=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,qy(Ua,function(){return kr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dt.transition,Dt.transition=null;var l=ce;ce=1;var c=ae;ae|=4,Od.current=null,kP(t,n),zy(n,t),XT(Vc),$a=!!zc,Vc=zc=null,t.current=n,EP(n),iT(),ae=c,ce=l,Dt.transition=o}else t.current=n;if(sa&&(sa=!1,$n=t,sl=s),o=t.pendingLanes,o===0&&(Gn=null),oT(n.stateNode),_t(t,Ae()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(rl)throw rl=!1,t=oh,oh=null,t;return sl&1&&t.tag!==0&&kr(),o=t.pendingLanes,o&1?t===ah?Rs++:(Rs=0,ah=t):Rs=0,ri(),null}function kr(){if($n!==null){var t=P_(sl),e=Dt.transition,n=ce;try{if(Dt.transition=null,ce=16>t?16:t,$n===null)var i=!1;else{if(t=$n,$n=null,sl=0,ae&6)throw Error(z(331));var s=ae;for(ae|=4,F=t.current;F!==null;){var o=F,l=o.child;if(F.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(F=f;F!==null;){var p=F;switch(p.tag){case 0:case 11:case 15:Ls(8,p,o)}var g=p.child;if(g!==null)g.return=p,F=g;else for(;F!==null;){p=F;var v=p.sibling,_=p.return;if(Ny(p),p===f){F=null;break}if(v!==null){v.return=_,F=v;break}F=_}}}var b=o.alternate;if(b!==null){var T=b.child;if(T!==null){b.child=null;do{var k=T.sibling;T.sibling=null,T=k}while(T!==null)}}F=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,F=l;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ls(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,F=S;break e}F=o.return}}var w=t.current;for(F=w;F!==null;){l=F;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,F=x;else e:for(l=w;F!==null;){if(c=F,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:El(9,c)}}catch(A){Ee(c,c.return,A)}if(c===l){F=null;break e}var E=c.sibling;if(E!==null){E.return=c.return,F=E;break e}F=c.return}}if(ae=s,ri(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(yl,t)}catch{}i=!0}return i}finally{ce=n,Dt.transition=e}}return!1}function Gm(t,e,n){e=Mr(n,e),e=Py(t,e,1),t=qn(t,e,1),e=lt(),t!==null&&(mo(t,1,e),_t(t,e))}function Ee(t,e,n){if(t.tag===3)Gm(t,t,n);else for(;e!==null;){if(e.tag===3){Gm(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gn===null||!Gn.has(i))){t=Mr(n,t),t=ky(e,t,1),e=qn(e,t,1),t=lt(),e!==null&&(mo(e,1,t),_t(e,t));break}}e=e.return}}function IP(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Je&n)===n&&(Ve===4||Ve===3&&(Je&130023424)===Je&&500>Ae()-Ad?Oi(t,0):Ld|=n),_t(t,e)}function Zy(t,e){e===0&&(t.mode&1?(e=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):e=1);var n=lt();t=Pn(t,e),t!==null&&(mo(t,e,n),_t(t,n))}function MP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zy(t,n)}function jP(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),Zy(t,n)}var Ky;Ky=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gt.current)pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pt=!1,SP(t,e,n);pt=!!(t.flags&131072)}else pt=!1,_e&&e.flags&1048576&&Y_(e,Ja,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Oa(t,e),t=e.pendingProps;var s=Lr(e,nt.current);Pr(e,n),s=Td(null,e,i,t,s,n);var o=Pd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(i)?(o=!0,qa(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yd(e),s.updater=kl,e.stateNode=s,s._reactInternals=e,Gc(e,i,t,n),e=Xc(null,e,i,!0,o,n)):(e.tag=0,_e&&o&&dd(e),st(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Oa(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=DP(i),t=Zt(i,t),s){case 0:e=Yc(null,e,i,t,n);break e;case 1:e=zm(null,e,i,t,n);break e;case 11:e=Dm(null,e,i,t,n);break e;case 14:e=Bm(null,e,i,Zt(i.type,t),n);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Zt(i,s),Yc(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Zt(i,s),zm(t,e,i,s,n);case 3:e:{if(Ly(e),t===null)throw Error(z(387));i=e.pendingProps,o=e.memoizedState,s=o.element,iy(t,e),Qa(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Mr(Error(z(423)),e),e=Vm(t,e,i,n,s);break e}else if(i!==s){s=Mr(Error(z(424)),e),e=Vm(t,e,i,n,s);break e}else for(bt=Kn(e.stateNode.containerInfo.firstChild),Tt=e,_e=!0,Jt=null,n=ty(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),i===s){e=kn(t,e,n);break e}st(t,e,i,n)}e=e.child}return e;case 5:return ry(e),t===null&&Zc(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,Uc(i,s)?l=null:o!==null&&Uc(i,o)&&(e.flags|=32),Oy(t,e),st(t,e,l,n),e.child;case 6:return t===null&&Zc(e),null;case 13:return Ay(t,e,n);case 4:return wd(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Rr(e,null,i,n):st(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Zt(i,s),Dm(t,e,i,s,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,me(Ya,i._currentValue),i._currentValue=l,o!==null)if(Qt(o.value,l)){if(o.children===s.children&&!gt.current){e=kn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=Sn(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?h.next=h:(h.next=p.next,p.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Kc(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(z(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Kc(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}st(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Pr(e,n),s=zt(s),i=i(s),e.flags|=1,st(t,e,i,n),e.child;case 14:return i=e.type,s=Zt(i,e.pendingProps),s=Zt(i.type,s),Bm(t,e,i,s,n);case 15:return Ey(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Zt(i,s),Oa(t,e),e.tag=1,vt(i)?(t=!0,qa(e)):t=!1,Pr(e,n),Ty(e,i,s),Gc(e,i,s,n),Xc(null,e,i,!0,t,n);case 19:return Ry(t,e,n);case 22:return Cy(t,e,n)}throw Error(z(156,e.tag))};function qy(t,e){return x_(t,e)}function NP(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,i){return new NP(t,e,n,i)}function jd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DP(t){if(typeof t=="function")return jd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ed)return 11;if(t===td)return 14}return 2}function Yn(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ra(t,e,n,i,s,o){var l=2;if(i=t,typeof t=="function")jd(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case sr:return Li(n.children,s,o,e);case Qh:l=8,s|=8;break;case yc:return t=jt(12,n,e,s|2),t.elementType=yc,t.lanes=o,t;case wc:return t=jt(13,n,e,s),t.elementType=wc,t.lanes=o,t;case xc:return t=jt(19,n,e,s),t.elementType=xc,t.lanes=o,t;case r_:return Ol(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n_:l=10;break e;case i_:l=9;break e;case ed:l=11;break e;case td:l=14;break e;case Dn:l=16,i=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=jt(l,n,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function Li(t,e,n,i){return t=jt(7,t,i,e),t.lanes=n,t}function Ol(t,e,n,i){return t=jt(22,t,i,e),t.elementType=r_,t.lanes=n,t.stateNode={isHidden:!1},t}function $u(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function Wu(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BP(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nd(t,e,n,i,s,o,l,c,h){return t=new BP(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(o),t}function zP(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Gy(t){if(!t)return Qn;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(vt(n))return G_(t,n,e)}return e}function Jy(t,e,n,i,s,o,l,c,h){return t=Nd(n,i,!0,t,s,o,l,c,h),t.context=Gy(null),n=t.current,i=lt(),s=Jn(n),o=Sn(i,s),o.callback=e??null,qn(n,o,s),t.current.lanes=s,mo(t,s,i),_t(t,i),t}function Ll(t,e,n,i){var s=e.current,o=lt(),l=Jn(s);return n=Gy(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=qn(s,e,l),t!==null&&(Xt(t,s,l,o),ka(t,s,l)),l}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dd(t,e){Jm(t,e),(t=t.alternate)&&Jm(t,e)}function VP(){return null}var Yy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bd(t){this._internalRoot=t}Al.prototype.render=Bd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Ll(t,e,null,null)};Al.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Di(function(){Ll(null,t,null,null)}),e[Tn]=null}};function Al(t){this._internalRoot=t}Al.prototype.unstable_scheduleHydration=function(t){if(t){var e=C_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&L_(t)}};function zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ym(){}function UP(t,e,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var f=al(l);o.call(f)}}var l=Jy(e,i,t,0,null,!1,!1,"",Ym);return t._reactRootContainer=l,t[Tn]=l.current,qs(t.nodeType===8?t.parentNode:t),Di(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var f=al(h);c.call(f)}}var h=Nd(t,0,!1,null,null,!1,!1,"",Ym);return t._reactRootContainer=h,t[Tn]=h.current,qs(t.nodeType===8?t.parentNode:t),Di(function(){Ll(e,h,n,i)}),h}function Il(t,e,n,i,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var c=s;s=function(){var h=al(l);c.call(h)}}Ll(e,l,t,s)}else l=UP(n,e,t,s,i);return al(l)}k_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ys(e.pendingLanes);n!==0&&(rd(e,n|1),_t(e,Ae()),!(ae&6)&&(jr=Ae()+500,ri()))}break;case 13:Di(function(){var i=Pn(t,1);if(i!==null){var s=lt();Xt(i,t,1,s)}}),Dd(t,1)}};sd=function(t){if(t.tag===13){var e=Pn(t,134217728);if(e!==null){var n=lt();Xt(e,t,134217728,n)}Dd(t,134217728)}};E_=function(t){if(t.tag===13){var e=Jn(t),n=Pn(t,e);if(n!==null){var i=lt();Xt(n,t,e,i)}Dd(t,e)}};C_=function(){return ce};O_=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Ac=function(t,e,n){switch(e){case"input":if(Tc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=bl(i);if(!s)throw Error(z(90));o_(i),Tc(i,s)}}}break;case"textarea":l_(t,n);break;case"select":e=n.value,e!=null&&xr(t,!!n.multiple,e,!1)}};m_=Rd;g_=Di;var FP={usingClientEntryPoint:!1,Events:[vo,ur,bl,f_,p_,Rd]},ms={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$P={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=y_(t),t===null?null:t.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||VP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{yl=oa.inject($P),ln=oa}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FP;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(e))throw Error(z(200));return zP(t,e,null,n)};kt.createRoot=function(t,e){if(!zd(t))throw Error(z(299));var n=!1,i="",s=Yy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Nd(t,1,!1,null,null,n,!1,i,s),t[Tn]=e.current,qs(t.nodeType===8?t.parentNode:t),new Bd(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=y_(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return Di(t)};kt.hydrate=function(t,e,n){if(!Rl(e))throw Error(z(200));return Il(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!zd(t))throw Error(z(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",l=Yy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Jy(e,null,t,1,n??null,s,!1,o,l),t[Tn]=e.current,qs(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Al(e)};kt.render=function(t,e,n){if(!Rl(e))throw Error(z(200));return Il(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!Rl(t))throw Error(z(40));return t._reactRootContainer?(Di(function(){Il(null,null,t,!1,function(){t._reactRootContainer=null,t[Tn]=null})}),!0):!1};kt.unstable_batchedUpdates=Rd;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Rl(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Il(t,e,n,!1,i)};kt.version="18.3.1-next-f1338f8080-20240426";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(t){console.error(t)}}Xy(),Xv.exports=kt;var Qy=Xv.exports,Xm=Qy;vc.createRoot=Xm.createRoot,vc.hydrateRoot=Xm.hydrateRoot;/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Qm=t=>{const e=HP(t);return e.charAt(0).toUpperCase()+e.slice(1)},e0=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),ZP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},h)=>B.createElement("svg",{ref:h,...KP,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:e0("lucide",s),...!o&&!ZP(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>B.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=(t,e)=>{const n=B.forwardRef(({className:i,...s},o)=>B.createElement(qP,{ref:o,iconNode:e,className:e0(`lucide-${WP(Qm(t))}`,`lucide-${t}`,i),...s}));return n.displayName=Qm(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],JP=Ln("car-taxi-front",GP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],XP=Ln("car",YP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ek=Ln("check",QP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],t0=Ln("loader-circle",tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ik=Ln("log-out",nk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vd=Ln("map-pin",rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ok=Ln("navigation",sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],n0=Ln("phone",ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uk=Ln("star",lk),ck=({children:t,currentView:e,onNavigate:n,onLogout:i})=>R.jsxs("div",{className:"min-h-screen flex flex-col bg-brand-black text-white font-sans",children:[R.jsx("header",{className:"bg-brand-yellow text-brand-black py-4 px-6 sticky top-0 z-50 shadow-lg",children:R.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[R.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>n("landing"),children:[R.jsx(JP,{size:32,strokeWidth:2.5}),R.jsx("h1",{className:"text-2xl font-black tracking-tighter",children:"TukTuk Go"})]}),e!=="landing"&&R.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-black/10 hover:bg-black/20 px-3 py-1.5 rounded-full text-sm font-bold transition-colors",children:[R.jsx(ik,{size:16}),R.jsx("span",{children:""})]})]})}),R.jsx("main",{className:"flex-1 relative",children:t})]}),i0=B.createContext({});function hk(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ud=typeof window<"u",dk=Ud?B.useLayoutEffect:B.useEffect,Fd=B.createContext(null);function $d(t,e){t.indexOf(e)===-1&&t.push(e)}function Wd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const En=(t,e,n)=>n>e?e:n<t?t:n;let Hd=()=>{};const Cn={},r0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function s0(t){return typeof t=="object"&&t!==null}const o0=t=>/^0[^.\s]+$/u.test(t);function Zd(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bt=t=>t,fk=(t,e)=>n=>e(t(n)),yo=(...t)=>t.reduce(fk),io=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Kd{constructor(){this.subscriptions=[]}add(e){return $d(this.subscriptions,e),()=>Wd(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cn=t=>t*1e3,Nt=t=>t/1e3;function a0(t,e){return e?t*(1e3/e):0}const l0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pk=1e-7,mk=12;function gk(t,e,n,i,s){let o,l,c=0;do l=e+(n-e)/2,o=l0(l,i,s)-t,o>0?n=l:e=l;while(Math.abs(o)>pk&&++c<mk);return l}function wo(t,e,n,i){if(t===e&&n===i)return Bt;const s=o=>gk(o,0,1,t,n);return o=>o===0||o===1?o:l0(s(o),e,i)}const u0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,c0=t=>e=>1-t(1-e),h0=wo(.33,1.53,.69,.99),qd=c0(h0),d0=u0(qd),f0=t=>(t*=2)<1?.5*qd(t):.5*(2-Math.pow(2,-10*(t-1))),Gd=t=>1-Math.sin(Math.acos(t)),p0=c0(Gd),m0=u0(Gd),vk=wo(.42,0,1,1),_k=wo(0,0,.58,1),g0=wo(.42,0,.58,1),yk=t=>Array.isArray(t)&&typeof t[0]!="number",v0=t=>Array.isArray(t)&&typeof t[0]=="number",wk={linear:Bt,easeIn:vk,easeInOut:g0,easeOut:_k,circIn:Gd,circInOut:m0,circOut:p0,backIn:qd,backInOut:d0,backOut:h0,anticipate:f0},xk=t=>typeof t=="string",eg=t=>{if(v0(t)){Hd(t.length===4);const[e,n,i,s]=t;return wo(e,n,i,s)}else if(xk(t))return wk[t];return t},aa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Sk(t,e){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,g=!1,v=!1)=>{const b=v&&s?n:i;return g&&l.add(p),b.has(p)||b.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(c=p,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(h),n.clear(),s=!1,o&&(o=!1,f.process(p))}};return f}const bk=40;function _0(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=aa.reduce((x,E)=>(x[E]=Sk(o),x),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:_,postRender:b}=l,T=()=>{const x=Cn.useManualTiming?s.timestamp:performance.now();n=!1,Cn.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(x-s.timestamp,bk),1)),s.timestamp=x,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),p.process(s),g.process(s),v.process(s),_.process(s),b.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(T))},k=()=>{n=!0,i=!0,s.isProcessing||t(T)};return{schedule:aa.reduce((x,E)=>{const A=l[E];return x[E]=(M,D=!1,N=!1)=>(n||k(),A.schedule(M,D,N)),x},{}),cancel:x=>{for(let E=0;E<aa.length;E++)l[aa[E]].cancel(x)},state:s,steps:l}}const{schedule:ye,cancel:ei,state:Ge,steps:Hu}=_0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0);let Ia;function Tk(){Ia=void 0}const mt={now:()=>(Ia===void 0&&mt.set(Ge.isProcessing||Cn.useManualTiming?Ge.timestamp:performance.now()),Ia),set:t=>{Ia=t,queueMicrotask(Tk)}},y0=t=>e=>typeof e=="string"&&e.startsWith(t),Jd=y0("--"),Pk=y0("var(--"),Yd=t=>Pk(t)?kk.test(t.split("/*")[0].trim()):!1,kk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ro={...Fr,transform:t=>En(0,1,t)},la={...Fr,default:1},Is=t=>Math.round(t*1e5)/1e5,Xd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ek(t){return t==null}const Ck=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qd=(t,e)=>n=>!!(typeof n=="string"&&Ck.test(n)&&n.startsWith(t)||e&&!Ek(n)&&Object.prototype.hasOwnProperty.call(n,e)),w0=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(Xd);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Ok=t=>En(0,255,t),Zu={...Fr,transform:t=>Math.round(Ok(t))},Pi={test:Qd("rgb","red"),parse:w0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Zu.transform(t)+", "+Zu.transform(e)+", "+Zu.transform(n)+", "+Is(ro.transform(i))+")"};function Lk(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const ch={test:Qd("#"),parse:Lk,transform:Pi.transform},xo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nn=xo("deg"),hn=xo("%"),Y=xo("px"),Ak=xo("vh"),Rk=xo("vw"),tg={...hn,parse:t=>hn.parse(t)/100,transform:t=>hn.transform(t*100)},gr={test:Qd("hsl","hue"),parse:w0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+hn.transform(Is(e))+", "+hn.transform(Is(n))+", "+Is(ro.transform(i))+")"},je={test:t=>Pi.test(t)||ch.test(t)||gr.test(t),parse:t=>Pi.test(t)?Pi.parse(t):gr.test(t)?gr.parse(t):ch.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Pi.transform(t):gr.transform(t),getAnimatableNone:t=>{const e=je.parse(t);return e.alpha=0,je.transform(e)}},Ik=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Mk(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xd))==null?void 0:e.length)||0)+(((n=t.match(Ik))==null?void 0:n.length)||0)>0}const x0="number",S0="color",jk="var",Nk="var(",ng="${}",Dk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function so(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(Dk,h=>(je.test(h)?(i.color.push(o),s.push(S0),n.push(je.parse(h))):h.startsWith(Nk)?(i.var.push(o),s.push(jk),n.push(h)):(i.number.push(o),s.push(x0),n.push(parseFloat(h))),++o,ng)).split(ng);return{values:n,split:c,indexes:i,types:s}}function b0(t){return so(t).values}function T0(t){const{split:e,types:n}=so(t),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===x0?o+=Is(s[l]):c===S0?o+=je.transform(s[l]):o+=s[l]}return o}}const Bk=t=>typeof t=="number"?0:je.test(t)?je.getAnimatableNone(t):t;function zk(t){const e=b0(t);return T0(t)(e.map(Bk))}const ti={test:Mk,parse:b0,createTransformer:T0,getAnimatableNone:zk};function Ku(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Vk({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;s=Ku(h,c,t+1/3),o=Ku(h,c,t),l=Ku(h,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function ll(t,e){return n=>n>0?e:t}const be=(t,e,n)=>t+(e-t)*n,qu=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},Uk=[ch,Pi,gr],Fk=t=>Uk.find(e=>e.test(t));function ig(t){const e=Fk(t);if(!e)return!1;let n=e.parse(t);return e===gr&&(n=Vk(n)),n}const rg=(t,e)=>{const n=ig(t),i=ig(e);if(!n||!i)return ll(t,e);const s={...n};return o=>(s.red=qu(n.red,i.red,o),s.green=qu(n.green,i.green,o),s.blue=qu(n.blue,i.blue,o),s.alpha=be(n.alpha,i.alpha,o),Pi.transform(s))},hh=new Set(["none","hidden"]);function $k(t,e){return hh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Wk(t,e){return n=>be(t,e,n)}function ef(t){return typeof t=="number"?Wk:typeof t=="string"?Yd(t)?ll:je.test(t)?rg:Kk:Array.isArray(t)?P0:typeof t=="object"?je.test(t)?rg:Hk:ll}function P0(t,e){const n=[...t],i=n.length,s=t.map((o,l)=>ef(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function Hk(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=ef(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function Zk(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],c=t.values[l]??0;n[s]=c,i[o]++}return n}const Kk=(t,e)=>{const n=ti.createTransformer(e),i=so(t),s=so(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?hh.has(t)&&!s.values.length||hh.has(e)&&!i.values.length?$k(t,e):yo(P0(Zk(i,s),s.values),n):ll(t,e)};function k0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?be(t,e,n):ef(t)(t,e)}const qk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ye.update(e,n),stop:()=>ei(e),now:()=>Ge.isProcessing?Ge.timestamp:mt.now()}},E0=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ul=2e4;function tf(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<ul;)e+=n,i=t.next(e);return e>=ul?1/0:e}function Gk(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(tf(i),ul);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:Nt(s)}}const Jk=5;function C0(t,e,n){const i=Math.max(e-Jk,0);return a0(n-t(i),e-i)}const ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gu=.001;function Yk({duration:t=ke.duration,bounce:e=ke.bounce,velocity:n=ke.velocity,mass:i=ke.mass}){let s,o,l=1-e;l=En(ke.minDamping,ke.maxDamping,l),t=En(ke.minDuration,ke.maxDuration,Nt(t)),l<1?(s=f=>{const p=f*l,g=p*t,v=p-n,_=dh(f,l),b=Math.exp(-g);return Gu-v/_*b},o=f=>{const g=f*l*t,v=g*n+n,_=Math.pow(l,2)*Math.pow(f,2)*t,b=Math.exp(-g),T=dh(Math.pow(f,2),l);return(-s(f)+Gu>0?-1:1)*((v-_)*b)/T}):(s=f=>{const p=Math.exp(-f*t),g=(f-n)*t+1;return-Gu+p*g},o=f=>{const p=Math.exp(-f*t),g=(n-f)*(t*t);return p*g});const c=5/t,h=Qk(s,o,c);if(t=cn(t),isNaN(h))return{stiffness:ke.stiffness,damping:ke.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:t}}}const Xk=12;function Qk(t,e,n){let i=n;for(let s=1;s<Xk;s++)i=i-t(i)/e(i);return i}function dh(t,e){return t*Math.sqrt(1-e*e)}const eE=["duration","bounce"],tE=["stiffness","damping","mass"];function sg(t,e){return e.some(n=>t[n]!==void 0)}function nE(t){let e={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...t};if(!sg(t,tE)&&sg(t,eE))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*En(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ke.mass,stiffness:s,damping:o}}else{const n=Yk(t);e={...e,...n,mass:ke.mass},e.isResolvedFromDuration=!0}return e}function cl(t=ke.visualDuration,e=ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:_}=nE({...n,velocity:-Nt(n.velocity||0)}),b=v||0,T=f/(2*Math.sqrt(h*p)),k=l-o,S=Nt(Math.sqrt(h/p)),w=Math.abs(k)<5;i||(i=w?ke.restSpeed.granular:ke.restSpeed.default),s||(s=w?ke.restDelta.granular:ke.restDelta.default);let x;if(T<1){const A=dh(S,T);x=M=>{const D=Math.exp(-T*S*M);return l-D*((b+T*S*k)/A*Math.sin(A*M)+k*Math.cos(A*M))}}else if(T===1)x=A=>l-Math.exp(-S*A)*(k+(b+S*k)*A);else{const A=S*Math.sqrt(T*T-1);x=M=>{const D=Math.exp(-T*S*M),N=Math.min(A*M,300);return l-D*((b+T*S*k)*Math.sinh(N)+A*k*Math.cosh(N))/A}}const E={calculatedDuration:_&&g||null,next:A=>{const M=x(A);if(_)c.done=A>=g;else{let D=A===0?b:0;T<1&&(D=A===0?cn(b):C0(x,A,M));const N=Math.abs(D)<=i,q=Math.abs(l-M)<=s;c.done=N&&q}return c.value=c.done?l:M,c},toString:()=>{const A=Math.min(tf(E),ul),M=E0(D=>E.next(A*D).value,A,30);return A+"ms "+M},toTransition:()=>{}};return E}cl.applyToOptions=t=>{const e=Gk(t,100,cl);return t.ease=e.ease,t.duration=cn(e.duration),t.type="keyframes",t};function fh({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},_=N=>c!==void 0&&N<c||h!==void 0&&N>h,b=N=>c===void 0?h:h===void 0||Math.abs(c-N)<Math.abs(h-N)?c:h;let T=n*e;const k=g+T,S=l===void 0?k:l(k);S!==k&&(T=S-g);const w=N=>-T*Math.exp(-N/i),x=N=>S+w(N),E=N=>{const q=w(N),K=x(N);v.done=Math.abs(q)<=f,v.value=v.done?S:K};let A,M;const D=N=>{_(v.value)&&(A=N,M=cl({keyframes:[v.value,b(v.value)],velocity:C0(x,N,v.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return D(0),{calculatedDuration:null,next:N=>{let q=!1;return!M&&A===void 0&&(q=!0,E(N),D(N)),A!==void 0&&N>=A?M.next(N-A):(!q&&E(N),v)}}}function iE(t,e,n){const i=[],s=n||Cn.mix||k0,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Bt:e;c=yo(h,c)}i.push(c)}return i}function rE(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(Hd(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=iE(e,i,s),h=c.length,f=p=>{if(l&&p<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=io(t[g],t[g+1],p);return c[g](v)};return n?p=>f(En(t[0],t[o-1],p)):f}function sE(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=io(0,e,i);t.push(be(n,1,s))}}function oE(t){const e=[0];return sE(e,t.length-1),e}function aE(t,e){return t.map(n=>n*e)}function lE(t,e){return t.map(()=>e||g0).splice(0,t.length-1)}function Ms({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=yk(i)?i.map(eg):eg(i),o={done:!1,value:e[0]},l=aE(n&&n.length===e.length?n:oE(e),t),c=rE(l,e,{ease:Array.isArray(s)?s:lE(e,s)});return{calculatedDuration:t,next:h=>(o.value=c(h),o.done=h>=t,o)}}const uE=t=>t!==null;function nf(t,{repeat:e,repeatType:n="loop"},i,s=1){const o=t.filter(uE),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const cE={decay:fh,inertia:fh,tween:Ms,keyframes:Ms,spring:cl};function O0(t){typeof t.type=="string"&&(t.type=cE[t.type])}class rf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hE=t=>t/100;class sf extends rf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==mt.now()&&this.tick(mt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;O0(e);const{type:n=Ms,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const h=n||Ms;h!==Ms&&typeof c[0]!="number"&&(this.mixKeyframes=yo(hE,k0(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=tf(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:_,type:b,onUpdate:T,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?S<0:S>s;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,E=i;if(g){const N=Math.min(this.currentTime,s)/c;let q=Math.floor(N),K=N%1;!K&&N>=1&&(K=1),K===1&&q--,q=Math.min(q,g+1),!!(q%2)&&(v==="reverse"?(K=1-K,_&&(K-=_/c)):v==="mirror"&&(E=l)),x=En(0,1,K)*c}const A=w?{done:!1,value:p[0]}:E.next(x);o&&(A.value=o(A.value));let{done:M}=A;!w&&h!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return D&&b!==fh&&(A.value=nf(p,this.options,k,this.speed)),T&&T(A.value),D&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return Nt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nt(e)}get time(){return Nt(this.currentTime)}set time(e){var n;e=cn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nt(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=qk,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function dE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ki=t=>t*180/Math.PI,ph=t=>{const e=ki(Math.atan2(t[1],t[0]));return mh(e)},fE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ph,rotateZ:ph,skewX:t=>ki(Math.atan(t[1])),skewY:t=>ki(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mh=t=>(t=t%360,t<0&&(t+=360),t),og=ph,ag=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ag,scaleY:lg,scale:t=>(ag(t)+lg(t))/2,rotateX:t=>mh(ki(Math.atan2(t[6],t[5]))),rotateY:t=>mh(ki(Math.atan2(-t[2],t[0]))),rotateZ:og,rotate:og,skewX:t=>ki(Math.atan(t[4])),skewY:t=>ki(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gh(t){return t.includes("scale")?1:0}function vh(t,e){if(!t||t==="none")return gh(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=pE,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=fE,s=c}if(!s)return gh(e);const o=i[e],l=s[1].split(",").map(gE);return typeof o=="function"?o(l):l[o]}const mE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vh(n,e)};function gE(t){return parseFloat(t.trim())}const $r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wr=new Set($r),ug=t=>t===Fr||t===Y,vE=new Set(["x","y","z"]),_E=$r.filter(t=>!vE.has(t));function yE(t){const e=[];return _E.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ai={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vh(e,"x"),y:(t,{transform:e})=>vh(e,"y")};Ai.translateX=Ai.x;Ai.translateY=Ai.y;const Ri=new Set;let _h=!1,yh=!1,wh=!1;function L0(){if(yh){const t=Array.from(Ri).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=yE(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{var c;(c=i.getValue(o))==null||c.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yh=!1,_h=!1,Ri.forEach(t=>t.complete(wh)),Ri.clear()}function A0(){Ri.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yh=!0)})}function wE(){wh=!0,A0(),L0(),wh=!1}class of{constructor(e,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ri.add(this),_h||(_h=!0,ye.read(A0),ye.resolveKeyframes(L0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const c=i.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}dE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ri.delete(this)}cancel(){this.state==="scheduled"&&(Ri.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xE=t=>t.startsWith("--");function SE(t,e,n){xE(e)?t.style.setProperty(e,n):t.style[e]=n}const bE=Zd(()=>window.ScrollTimeline!==void 0),TE={};function PE(t,e){const n=Zd(t);return()=>TE[e]??n()}const R0=PE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xs=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,cg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xs([0,.65,.55,1]),circOut:xs([.55,0,1,.45]),backIn:xs([.31,.01,.66,-.59]),backOut:xs([.33,1.53,.69,.99])};function I0(t,e){if(t)return typeof t=="function"?R0()?E0(t,e):"ease-out":v0(t)?xs(t):Array.isArray(t)?t.map(n=>I0(n,e)||cg.easeOut):cg[t]}function kE(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:h}={},f=void 0){const p={[e]:n};h&&(p.offset=h);const g=I0(c,s);Array.isArray(g)&&(p.easing=g);const v={delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(p,v)}function M0(t){return typeof t=="function"&&"applyToOptions"in t}function EE({type:t,...e}){return M0(t)&&R0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CE extends rf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Hd(typeof e.type!="string");const f=EE(e);this.animation=kE(n,i,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=nf(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):SE(n,i,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Nt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nt(e)}get time(){return Nt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&bE()?(this.animation.timeline=e,Bt):n(this)}}const j0={anticipate:f0,backInOut:d0,circInOut:m0};function OE(t){return t in j0}function LE(t){typeof t.ease=="string"&&OE(t.ease)&&(t.ease=j0[t.ease])}const hg=10;class AE extends CE{constructor(e){LE(e),O0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new sf({...l,autoplay:!1}),h=cn(this.finishedTime??this.time);n.setWithVelocity(c.sample(h-hg).value,c.sample(h).value,hg),c.stop()}}const dg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ti.test(t)||t==="0")&&!t.startsWith("url("));function RE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IE(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=dg(s,e),c=dg(o,e);return!l||!c?!1:RE(t)||(n==="spring"||M0(n))&&i}function xh(t){t.duration=0,t.type="keyframes"}const ME=new Set(["opacity","clipPath","filter","transform"]),jE=Zd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NE(t){var p;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return jE()&&n&&ME.has(n)&&(n!=="transform"||!f)&&!h&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const DE=40;class BE extends rf{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:h,motionValue:f,element:p,...g}){var b;super(),this.stop=()=>{var T,k;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=mt.now();const v={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:p,...g},_=(p==null?void 0:p.KeyframeResolver)||of;this.keyframeResolver=new _(c,(T,k,S)=>this.onKeyframesResolved(T,k,v,!S),h,f,p),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:h,isHandoff:f,onUpdate:p}=i;this.resolvedAt=mt.now(),IE(e,o,l,c)||((Cn.instantAnimations||!h)&&(p==null||p(nf(e,i,n))),e[0]=e[e.length-1],xh(i),i.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>DE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!f&&NE(v)?new AE({...v,element:v.motionValue.owner.current}):new sf(v);_.finished.then(()=>this.notifyFinished()).catch(Bt),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VE(t){const e=zE.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function N0(t,e,n=1){const[i,s]=VE(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return r0(l)?parseFloat(l):l}return Yd(s)?N0(s,e,n+1):s}function af(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const D0=new Set(["width","height","top","left","right","bottom",...$r]),UE={test:t=>t==="auto",parse:t=>t},B0=t=>e=>e.test(t),z0=[Fr,Y,hn,Nn,Rk,Ak,UE],fg=t=>z0.find(B0(t));function FE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||o0(t):!0}const $E=new Set(["brightness","contrast","saturate","opacity"]);function WE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Xd)||[];if(!i)return t;const s=n.replace(i,"");let o=$E.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const HE=/\b([a-z-]*)\(.*?\)/gu,Sh={...ti,getAnimatableNone:t=>{const e=t.match(HE);return e?e.map(WE).join(" "):t}},pg={...Fr,transform:Math.round},ZE={rotate:Nn,rotateX:Nn,rotateY:Nn,rotateZ:Nn,scale:la,scaleX:la,scaleY:la,scaleZ:la,skew:Nn,skewX:Nn,skewY:Nn,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:ro,originX:tg,originY:tg,originZ:Y},lf={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y,...ZE,zIndex:pg,fillOpacity:ro,strokeOpacity:ro,numOctaves:pg},KE={...lf,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:Sh,WebkitFilter:Sh},V0=t=>KE[t];function U0(t,e){let n=V0(t);return n!==Sh&&(n=ti),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qE=new Set(["auto","none","0"]);function GE(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!qE.has(o)&&so(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=U0(n,s)}class JE extends of{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Yd(f))){const p=N0(f,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!D0.has(i)||e.length!==2)return;const[s,o]=e,l=fg(s),c=fg(o);if(l!==c)if(ug(l)&&ug(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Ai[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||FE(e[s]))&&i.push(s);i.length&&GE(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ai[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Ai[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function YE(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const F0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function XE(t){return s0(t)&&"offsetHeight"in t}const mg=30,QE=t=>!isNaN(parseFloat(t));class e1{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var o;const s=mt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Kd);const i=this.events[e].add(n);return e==="change"?()=>{i(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mg);return a0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nr(t,e){return new e1(t,e)}const{schedule:uf}=_0(queueMicrotask,!1),Ht={x:!1,y:!1};function $0(){return Ht.x||Ht.y}function t1(t){return t==="x"||t==="y"?Ht[t]?null:(Ht[t]=!0,()=>{Ht[t]=!1}):Ht.x||Ht.y?null:(Ht.x=Ht.y=!0,()=>{Ht.x=Ht.y=!1})}function W0(t,e){const n=YE(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function gg(t){return!(t.pointerType==="touch"||$0())}function n1(t,e,n={}){const[i,s,o]=W0(t,n),l=c=>{if(!gg(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const p=g=>{gg(g)&&(f(g),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const H0=(t,e)=>e?t===e?!0:H0(t,e.parentElement):!1,cf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,i1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r1(t){return i1.has(t.tagName)||t.tabIndex!==-1}const Ma=new WeakSet;function vg(t){return e=>{e.key==="Enter"&&t(e)}}function Ju(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const s1=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=vg(()=>{if(Ma.has(n))return;Ju(n,"down");const s=vg(()=>{Ju(n,"up")}),o=()=>Ju(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function _g(t){return cf(t)&&!$0()}function o1(t,e,n={}){const[i,s,o]=W0(t,n),l=c=>{const h=c.currentTarget;if(!_g(c))return;Ma.add(h);const f=e(h,c),p=(_,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Ma.has(h)&&Ma.delete(h),_g(_)&&typeof f=="function"&&f(_,{success:b})},g=_=>{p(_,h===window||h===document||n.useGlobalTarget||H0(h,_.target))},v=_=>{p(_,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),XE(c)&&(c.addEventListener("focus",f=>s1(f,s)),!r1(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function Z0(t){return s0(t)&&"ownerSVGElement"in t}function a1(t){return Z0(t)&&t.tagName==="svg"}const tt=t=>!!(t&&t.getVelocity),l1=[...z0,je,ti],u1=t=>l1.find(B0(t)),K0=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function c1(t=!0){const e=B.useContext(Fd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=B.useId();B.useEffect(()=>{if(t)return s(o)},[t]);const l=B.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const q0=B.createContext({strict:!1}),yg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dr={};for(const t in yg)Dr[t]={isEnabled:e=>yg[t].some(n=>!!e[n])};function h1(t){for(const e in t)Dr[e]={...Dr[e],...t[e]}}const d1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||d1.has(t)}let G0=t=>!hl(t);function f1(t){typeof t=="function"&&(G0=e=>e.startsWith("on")?!hl(e):t(e))}try{f1(require("@emotion/is-prop-valid").default)}catch{}function p1(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(G0(s)||n===!0&&hl(s)||!e&&!hl(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const Ml=B.createContext({});function jl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function oo(t){return typeof t=="string"||Array.isArray(t)}const hf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],df=["initial",...hf];function Nl(t){return jl(t.animate)||df.some(e=>oo(t[e]))}function J0(t){return!!(Nl(t)||t.variants)}function m1(t,e){if(Nl(t)){const{initial:n,animate:i}=t;return{initial:n===!1||oo(n)?n:void 0,animate:oo(i)?i:void 0}}return t.inherit!==!1?e:{}}function g1(t){const{initial:e,animate:n}=m1(t,B.useContext(Ml));return B.useMemo(()=>({initial:e,animate:n}),[wg(e),wg(n)])}function wg(t){return Array.isArray(t)?t.join(" "):t}const ao={};function v1(t){for(const e in t)ao[e]=t[e],Jd(e)&&(ao[e].isCSSVariable=!0)}function Y0(t,{layout:e,layoutId:n}){return Wr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ao[t]||t==="opacity")}const _1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y1=$r.length;function w1(t,e,n){let i="",s=!0;for(let o=0;o<y1;o++){const l=$r[o],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=F0(c,lf[l]);if(!h){s=!1;const p=_1[l]||l;i+=`${p}(${f}) `}n&&(e[l]=f)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function ff(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const h in e){const f=e[h];if(Wr.has(h)){l=!0;continue}else if(Jd(h)){s[h]=f;continue}else{const p=F0(f,lf[h]);h.startsWith("origin")?(c=!0,o[h]=p):i[h]=p}}if(e.transform||(l||n?i.transform=w1(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;i.transformOrigin=`${h} ${f} ${p}`}}const pf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function X0(t,e,n){for(const i in e)!tt(e[i])&&!Y0(i,n)&&(t[i]=e[i])}function x1({transformTemplate:t},e){return B.useMemo(()=>{const n=pf();return ff(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S1(t,e){const n=t.style||{},i={};return X0(i,n,t),Object.assign(i,x1(t,e)),i}function b1(t,e){const n={},i=S1(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const T1={offset:"stroke-dashoffset",array:"stroke-dasharray"},P1={offset:"strokeDashoffset",array:"strokeDasharray"};function k1(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?T1:P1;t[o.offset]=Y.transform(-i);const l=Y.transform(e),c=Y.transform(n);t[o.array]=`${l} ${c}`}function Q0(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},h,f,p){if(ff(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),s!==void 0&&k1(g,s,o,l,!1)}const ew=()=>({...pf(),attrs:{}}),tw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function E1(t,e,n,i){const s=B.useMemo(()=>{const o=ew();return Q0(o,e,tw(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};X0(o,t.style,t),s.style={...o,...s.style}}return s}const C1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mf(t){return typeof t!="string"||t.includes("-")?!1:!!(C1.indexOf(t)>-1||/[A-Z]/u.test(t))}function O1(t,e,n,{latestValues:i},s,o=!1){const c=(mf(t)?E1:b1)(e,i,s,t),h=p1(e,typeof t=="string",o),f=t!==B.Fragment?{...h,...c,ref:n}:{},{children:p}=e,g=B.useMemo(()=>tt(p)?p.get():p,[p]);return B.createElement(t,{...f,children:g})}function xg(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function gf(t,e,n,i){if(typeof e=="function"){const[s,o]=xg(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=xg(i);e=e(n!==void 0?n:t.custom,s,o)}return e}function ja(t){return tt(t)?t.get():t}function L1({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:A1(n,i,s,t),renderState:e()}}function A1(t,e,n,i){const s={},o=i(t,{});for(const v in o)s[v]=ja(o[v]);let{initial:l,animate:c}=t;const h=Nl(t),f=J0(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?c:l;if(g&&typeof g!="boolean"&&!jl(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const b=gf(t,v[_]);if(b){const{transitionEnd:T,transition:k,...S}=b;for(const w in S){let x=S[w];if(Array.isArray(x)){const E=p?x.length-1:0;x=x[E]}x!==null&&(s[w]=x)}for(const w in T)s[w]=T[w]}}}return s}const nw=t=>(e,n)=>{const i=B.useContext(Ml),s=B.useContext(Fd),o=()=>L1(t,e,i,s);return n?o():hk(o)};function vf(t,e,n){var o;const{style:i}=t,s={};for(const l in i)(tt(i[l])||e.style&&tt(e.style[l])||Y0(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const R1=nw({scrapeMotionValuesFromProps:vf,createRenderState:pf});function iw(t,e,n){const i=vf(t,e,n);for(const s in t)if(tt(t[s])||tt(e[s])){const o=$r.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const I1=nw({scrapeMotionValuesFromProps:iw,createRenderState:ew}),M1=Symbol.for("motionComponentSymbol");function vr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function j1(t,e,n){return B.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):vr(n)&&(n.current=i))},[e])}const _f=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),N1="framerAppearId",rw="data-"+_f(N1),sw=B.createContext({});function D1(t,e,n,i,s){var T,k;const{visualElement:o}=B.useContext(Ml),l=B.useContext(q0),c=B.useContext(Fd),h=B.useContext(K0).reducedMotion,f=B.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,g=B.useContext(sw);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&B1(f.current,n,s,g);const v=B.useRef(!1);B.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const _=n[rw],b=B.useRef(!!_&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,_))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,_)));return dk(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),B.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,_)}),b.current=!1),p.enteringChildren=void 0)}),p}function B1(t,e,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ow(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&vr(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:f})}function ow(t){if(t)return t.options.allowProjection!==!1?t.projection:ow(t.parent)}function Yu(t,{forwardMotionProps:e=!1}={},n,i){n&&h1(n);const s=mf(t)?I1:R1;function o(c,h){let f;const p={...B.useContext(K0),...c,layoutId:z1(c)},{isStatic:g}=p,v=g1(c),_=s(c,g);if(!g&&Ud){V1();const b=U1(p);f=b.MeasureLayout,v.visualElement=D1(t,_,p,i,b.ProjectionNode)}return R.jsxs(Ml.Provider,{value:v,children:[f&&v.visualElement?R.jsx(f,{visualElement:v.visualElement,...p}):null,O1(t,c,j1(_,v.visualElement,h),_,g,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=B.forwardRef(o);return l[M1]=t,l}function z1({layoutId:t}){const e=B.useContext(i0).id;return e&&t!==void 0?e+"-"+t:t}function V1(t,e){B.useContext(q0).strict}function U1(t){const{drag:e,layout:n}=Dr;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function F1(t,e){if(typeof Proxy>"u")return Yu;const n=new Map,i=(o,l)=>Yu(o,l,t,e),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,Yu(l,void 0,t,e)),n.get(l))})}function aw({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function $1({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W1(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Xu(t){return t===void 0||t===1}function bh({scale:t,scaleX:e,scaleY:n}){return!Xu(t)||!Xu(e)||!Xu(n)}function vi(t){return bh(t)||lw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lw(t){return Sg(t.x)||Sg(t.y)}function Sg(t){return t&&t!=="0%"}function dl(t,e,n){const i=t-n,s=e*i;return n+s}function bg(t,e,n,i,s){return s!==void 0&&(t=dl(t,s,i)),dl(t,n,i)+e}function Th(t,e=0,n=1,i,s){t.min=bg(t.min,e,n,i,s),t.max=bg(t.max,e,n,i,s)}function uw(t,{x:e,y:n}){Th(t.x,e.translate,e.scale,e.originPoint),Th(t.y,n.translate,n.scale,n.originPoint)}const Tg=.999999999999,Pg=1.0000000000001;function H1(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&yr(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,uw(t,l)),i&&vi(o.latestValues)&&yr(t,o.latestValues))}e.x<Pg&&e.x>Tg&&(e.x=1),e.y<Pg&&e.y>Tg&&(e.y=1)}function _r(t,e){t.min=t.min+e,t.max=t.max+e}function kg(t,e,n,i,s=.5){const o=be(t.min,t.max,s);Th(t,e,n,o,i)}function yr(t,e){kg(t.x,e.x,e.scaleX,e.scale,e.originX),kg(t.y,e.y,e.scaleY,e.scale,e.originY)}function cw(t,e){return aw(W1(t.getBoundingClientRect(),e))}function Z1(t,e,n){const i=cw(t,n),{scroll:s}=e;return s&&(_r(i.x,s.offset.x),_r(i.y,s.offset.y)),i}const Eg=()=>({translate:0,scale:1,origin:0,originPoint:0}),wr=()=>({x:Eg(),y:Eg()}),Cg=()=>({min:0,max:0}),Le=()=>({x:Cg(),y:Cg()}),Ph={current:null},hw={current:!1};function K1(){if(hw.current=!0,!!Ud)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ph.current=t.matches;t.addEventListener("change",e),e()}else Ph.current=!1}const q1=new WeakMap;function G1(t,e,n){for(const i in e){const s=e[i],o=n[i];if(tt(s))t.addValue(i,s);else if(tt(o))t.addValue(i,Nr(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,Nr(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Og=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J1{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=of,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=mt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ye.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Nl(n),this.isVariantNode=J0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const _=g[v];h[v]!==void 0&&tt(_)&&_.set(h[v])}}mount(e){var n;this.current=e,q1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),hw.current||K1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ph.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ei(this.notifyUpdate),ei(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Wr.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ye.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dr){const n=Dr[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Og.length;i++){const s=Og[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=G1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Nr(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(r0(i)||o0(i))?i=parseFloat(i):!u1(i)&&ti.test(n)&&(i=U0(e,n)),this.setBaseTarget(e,tt(i)?i.get():i)),tt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=gf(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!tt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Kd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){uf.render(this.render)}}class dw extends J1{constructor(){super(...arguments),this.KeyframeResolver=JE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fw(t,{style:e,vars:n},i,s){const o=t.style;let l;for(l in e)o[l]=e[l];s==null||s.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function Y1(t){return window.getComputedStyle(t)}class X1 extends dw{constructor(){super(...arguments),this.type="html",this.renderInstance=fw}readValueFromInstance(e,n){var i;if(Wr.has(n))return(i=this.projection)!=null&&i.isProjecting?gh(n):mE(e,n);{const s=Y1(e),o=(Jd(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cw(e,n)}build(e,n,i){ff(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return vf(e,n,i)}}const pw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q1(t,e,n,i){fw(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(pw.has(s)?s:_f(s),e.attrs[s])}class eC extends dw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wr.has(n)){const i=V0(n);return i&&i.default||0}return n=pw.has(n)?n:_f(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return iw(e,n,i)}build(e,n,i){Q0(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){Q1(e,n,i,s)}mount(e){this.isSVGTag=tw(e.tagName),super.mount(e)}}const tC=(t,e)=>mf(t)?new eC(e):new X1(e,{allowProjection:t!==B.Fragment});function Er(t,e,n){const i=t.getProps();return gf(i,e,n!==void 0?n:i.custom,t)}const kh=t=>Array.isArray(t);function nC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nr(n))}function iC(t){return kh(t)?t[t.length-1]||0:t}function rC(t,e){const n=Er(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=iC(o[l]);nC(t,l,c)}}function sC(t){return!!(tt(t)&&t.add)}function Eh(t,e){const n=t.getValue("willChange");if(sC(n))return n.add(e);if(!n&&Cn.WillChange){const i=new Cn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function mw(t){return t.props[rw]}const oC=t=>t!==null;function aC(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(oC),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const lC={type:"spring",stiffness:500,damping:25,restSpeed:10},uC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cC={type:"keyframes",duration:.8},hC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dC=(t,{keyframes:e})=>e.length>2?cC:Wr.has(t)?t.startsWith("scale")?uC(e[1]):lC:hC;function fC({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const yf=(t,e,n,i={},s,o)=>l=>{const c=af(i,t)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-cn(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};fC(c)||Object.assign(p,dC(t,p)),p.duration&&(p.duration=cn(p.duration)),p.repeatDelay&&(p.repeatDelay=cn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(xh(p),p.delay===0&&(g=!0)),(Cn.instantAnimations||Cn.skipAnimations)&&(g=!0,xh(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!o&&e.get()!==void 0){const v=aC(p.keyframes,c);if(v!==void 0){ye.update(()=>{p.onUpdate(v),p.onComplete()});return}}return c.isSync?new sf(p):new BE(p)};function pC({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function gw(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;i&&(o=i);const h=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const g=t.getValue(p,t.latestValues[p]??null),v=c[p];if(v===void 0||f&&pC(f,p))continue;const _={delay:n,...af(o||{},p)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===b&&!_.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const S=mw(t);if(S){const w=window.MotionHandoffAnimation(S,p,ye);w!==null&&(_.startTime=w,T=!0)}}Eh(t,p),g.start(yf(p,g,v,t.shouldReduceMotion&&D0.has(p)?{type:!1}:_,t,T));const k=g.animation;k&&h.push(k)}return l&&Promise.all(h).then(()=>{ye.update(()=>{l&&rC(t,l)})}),h}function vw(t,e,n,i=0,s=1){const o=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),l=t.size,c=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:c-o*i}function Ch(t,e,n={}){var h;const i=Er(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(gw(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return mC(t,e,f,p,g,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[o,l]:[l,o];return f().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function mC(t,e,n=0,i=0,s=0,o=1,l){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(Ch(h,e,{...l,delay:n+(typeof i=="function"?0:i)+vw(t.variantChildren,h,i,s,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function gC(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Ch(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=Ch(t,e,n);else{const s=typeof e=="function"?Er(t,e,n.custom):e;i=Promise.all(gw(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function _w(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const vC=df.length;function yw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vC;n++){const i=df[n],s=t.props[i];(oo(s)||s===!1)&&(e[i]=s)}return e}const _C=[...hf].reverse(),yC=hf.length;function wC(t){return e=>Promise.all(e.map(({animation:n,options:i})=>gC(t,n,i)))}function xC(t){let e=wC(t),n=Lg(),i=!0;const s=h=>(f,p)=>{var v;const g=Er(t,p,h==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:_,transitionEnd:b,...T}=g;f={...f,...T,...b}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,p=yw(t.parent)||{},g=[],v=new Set;let _={},b=1/0;for(let k=0;k<yC;k++){const S=_C[k],w=n[S],x=f[S]!==void 0?f[S]:p[S],E=oo(x),A=S===h?w.isActive:null;A===!1&&(b=k);let M=x===p[S]&&x!==f[S]&&E;if(M&&i&&t.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={..._},!w.isActive&&A===null||!x&&!w.prevProp||jl(x)||typeof x=="boolean")continue;const D=SC(w.prevProp,x);let N=D||S===h&&w.isActive&&!M&&E||k>b&&E,q=!1;const K=Array.isArray(x)?x:[x];let se=K.reduce(s(S),{});A===!1&&(se={});const{prevResolvedValues:Ce={}}=w,dn={...Ce,...se},it=de=>{N=!0,v.has(de)&&(q=!0,v.delete(de)),w.needsAnimating[de]=!0;const I=t.getValue(de);I&&(I.liveStyle=!1)};for(const de in dn){const I=se[de],Z=Ce[de];if(_.hasOwnProperty(de))continue;let V=!1;kh(I)&&kh(Z)?V=!_w(I,Z):V=I!==Z,V?I!=null?it(de):v.add(de):I!==void 0&&v.has(de)?it(de):w.protectedKeys[de]=!0}w.prevProp=x,w.prevResolvedValues=se,w.isActive&&(_={..._,...se}),i&&t.blockInitialAnimation&&(N=!1);const Vi=M&&D;N&&(!Vi||q)&&g.push(...K.map(de=>{const I={type:S};if(typeof de=="string"&&i&&!Vi&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,V=Er(Z,de);if(Z.enteringChildren&&V){const{delayChildren:X}=V.transition||{};I.delay=vw(Z.enteringChildren,t,X)}}return{animation:de,options:I}}))}if(v.size){const k={};if(typeof f.initial!="boolean"){const S=Er(t,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(k.transition=S.transition)}v.forEach(S=>{const w=t.getBaseTarget(S),x=t.getValue(S);x&&(x.liveStyle=!0),k[S]=w??null}),g.push({animation:k})}let T=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(g):Promise.resolve()}function c(h,f){var g;if(n[h].isActive===f)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(h,f)}),n[h].isActive=f;const p=l(h);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Lg()}}}function SC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_w(e,t):!1}function di(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lg(){return{animate:di(!0),whileInView:di(),whileHover:di(),whileTap:di(),whileDrag:di(),whileFocus:di(),exit:di()}}class si{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bC extends si{constructor(e){super(e),e.animationState||(e.animationState=xC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let TC=0;class PC extends si{constructor(){super(...arguments),this.id=TC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kC={animation:{Feature:bC},exit:{Feature:PC}};function lo(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function So(t){return{point:{x:t.pageX,y:t.pageY}}}const EC=t=>e=>cf(e)&&t(e,So(e));function js(t,e,n,i){return lo(t,e,EC(n),i)}const ww=1e-4,CC=1-ww,OC=1+ww,xw=.01,LC=0-xw,AC=0+xw;function at(t){return t.max-t.min}function RC(t,e,n){return Math.abs(t-e)<=n}function Ag(t,e,n,i=.5){t.origin=i,t.originPoint=be(e.min,e.max,t.origin),t.scale=at(n)/at(e),t.translate=be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CC&&t.scale<=OC||isNaN(t.scale))&&(t.scale=1),(t.translate>=LC&&t.translate<=AC||isNaN(t.translate))&&(t.translate=0)}function Ns(t,e,n,i){Ag(t.x,e.x,n.x,i?i.originX:void 0),Ag(t.y,e.y,n.y,i?i.originY:void 0)}function Rg(t,e,n){t.min=n.min+e.min,t.max=t.min+at(e)}function IC(t,e,n){Rg(t.x,e.x,n.x),Rg(t.y,e.y,n.y)}function Ig(t,e,n){t.min=e.min-n.min,t.max=t.min+at(e)}function Ds(t,e,n){Ig(t.x,e.x,n.x),Ig(t.y,e.y,n.y)}function Rt(t){return[t("x"),t("y")]}const Sw=({current:t})=>t?t.ownerDocument.defaultView:null,Mg=(t,e)=>Math.abs(t-e);function MC(t,e){const n=Mg(t.x,e.x),i=Mg(t.y,e.y);return Math.sqrt(n**2+i**2)}class bw{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ec(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=MC(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!b)return;const{point:T}=v,{timestamp:k}=Ge;this.history.push({...T,timestamp:k});const{onStart:S,onMove:w}=this.handlers;_||(S&&S(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Qu(_,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ec(v.type==="pointercancel"?this.lastMoveEventInfo:Qu(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(v,S),T&&T(v,S)},!cf(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const c=So(e),h=Qu(c,this.transformPagePoint),{point:f}=h,{timestamp:p}=Ge;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,ec(h,this.history)),this.removeListeners=yo(js(this.contextWindow,"pointermove",this.handlePointerMove),js(this.contextWindow,"pointerup",this.handlePointerUp),js(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ei(this.updatePoint)}}function Qu(t,e){return e?{point:e(t.point)}:t}function jg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ec({point:t},e){return{point:t,delta:jg(t,Tw(e)),offset:jg(t,jC(e)),velocity:NC(e,.1)}}function jC(t){return t[0]}function Tw(t){return t[t.length-1]}function NC(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=Tw(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>cn(e)));)n--;if(!i)return{x:0,y:0};const o=Nt(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function DC(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?be(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?be(n,t,i.max):Math.min(t,n)),t}function Ng(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BC(t,{top:e,left:n,bottom:i,right:s}){return{x:Ng(t.x,n,s),y:Ng(t.y,e,i)}}function Dg(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function zC(t,e){return{x:Dg(t.x,e.x),y:Dg(t.y,e.y)}}function VC(t,e){let n=.5;const i=at(t),s=at(e);return s>i?n=io(e.min,e.max-i,t.min):i>s&&(n=io(t.min,t.max-s,e.min)),En(0,1,n)}function UC(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Oh=.35;function FC(t=Oh){return t===!1?t=0:t===!0&&(t=Oh),{x:Bg(t,"left","right"),y:Bg(t,"top","bottom")}}function Bg(t,e,n){return{min:zg(t,e),max:zg(t,n)}}function zg(t,e){return typeof t=="number"?t:t[e]||0}const $C=new WeakMap;class WC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(So(g).point)},l=(g,v)=>{const{drag:_,dragPropagation:b,onDragStart:T}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t1(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(S=>{let w=this.getAxisMotionValue(S).get()||0;if(hn.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[S];E&&(w=at(E)*(parseFloat(w)/100))}}this.originPoint[S]=w}),T&&ye.postRender(()=>T(g,v)),Eh(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:T,onDrag:k}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:S}=v;if(b&&this.currentDirection===null){this.currentDirection=HC(S),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,S),this.updateAxis("y",v.point,S),this.visualElement.render(),k&&k(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Rt(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new bw(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:Sw(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&ye.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!ua(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=DC(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&vr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=BC(i.layoutBox,e):this.constraints=!1,this.elastic=FC(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=UC(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!vr(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Z1(i,s.root,this.visualElement.getTransformPagePoint());let l=zC(s.layout.layoutBox,o);if(n){const c=n($1(l));this.hasMutatedConstraints=!!c,c&&(l=aw(c))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Rt(p=>{if(!ua(p,n,this.currentDirection))return;let g=h&&h[p]||{};l&&(g={min:0,max:0});const v=s?200:1e6,_=s?40:1e7,b={type:"inertia",velocity:i?e[p]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Eh(this.visualElement,e),i.start(yf(e,i,0,n,this.visualElement,!1))}stopAnimation(){Rt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rt(n=>{const{drag:i}=this.getProps();if(!ua(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-be(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!vr(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rt(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=VC({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rt(l=>{if(!ua(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(be(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;$C.set(this.visualElement,this);const e=this.visualElement.current,n=js(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();vr(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ye.read(i);const l=lo(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Rt(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Oh,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function ua(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HC(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZC extends si{constructor(e){super(e),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new WC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vg=t=>(e,n)=>{t&&ye.postRender(()=>t(e,n))};class KC extends si{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(e){this.session=new bw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Vg(e),onStart:Vg(n),onMove:i,onEnd:(o,l)=>{delete this.session,s&&ye.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=js(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Na={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ug(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=Ug(t,e.target.x),i=Ug(t,e.target.y);return`${n}% ${i}%`}},qC={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=ti.parse(t);if(s.length>5)return i;const o=ti.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const f=be(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};let tc=!1;class GC extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;v1(JC),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),tc&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Na.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,tc=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||ye.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;tc=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Pw(t){const[e,n]=c1(),i=B.useContext(i0);return R.jsx(GC,{...t,layoutGroup:i,switchLayoutGroup:B.useContext(sw),isPresent:e,safeToRemove:n})}const JC={borderRadius:{...gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gs,borderTopRightRadius:gs,borderBottomLeftRadius:gs,borderBottomRightRadius:gs,boxShadow:qC};function YC(t,e,n){const i=tt(t)?t:Nr(t);return i.start(yf("",i,e,n)),i.animation}const XC=(t,e)=>t.depth-e.depth;class QC{constructor(){this.children=[],this.isDirty=!1}add(e){$d(this.children,e),this.isDirty=!0}remove(e){Wd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XC),this.isDirty=!1,this.children.forEach(e)}}function eO(t,e){const n=mt.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(ei(i),t(o-e))};return ye.setup(i,!0),()=>ei(i)}const kw=["TopLeft","TopRight","BottomLeft","BottomRight"],tO=kw.length,Fg=t=>typeof t=="string"?parseFloat(t):t,$g=t=>typeof t=="number"||Y.test(t);function nO(t,e,n,i,s,o){s?(t.opacity=be(0,n.opacity??1,iO(i)),t.opacityExit=be(e.opacity??1,0,rO(i))):o&&(t.opacity=be(e.opacity??1,n.opacity??1,i));for(let l=0;l<tO;l++){const c=`border${kw[l]}Radius`;let h=Wg(e,c),f=Wg(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||$g(h)===$g(f)?(t[c]=Math.max(be(Fg(h),Fg(f),i),0),(hn.test(f)||hn.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=be(e.rotate||0,n.rotate||0,i))}function Wg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iO=Ew(0,.5,p0),rO=Ew(.5,.95,Bt);function Ew(t,e,n){return i=>i<t?0:i>e?1:n(io(t,e,i))}function Hg(t,e){t.min=e.min,t.max=e.max}function At(t,e){Hg(t.x,e.x),Hg(t.y,e.y)}function Zg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Kg(t,e,n,i,s){return t-=e,t=dl(t,1/n,i),s!==void 0&&(t=dl(t,1/s,i)),t}function sO(t,e=0,n=1,i=.5,s,o=t,l=t){if(hn.test(e)&&(e=parseFloat(e),e=be(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=be(o.min,o.max,i);t===o&&(c-=e),t.min=Kg(t.min,e,n,c,s),t.max=Kg(t.max,e,n,c,s)}function qg(t,e,[n,i,s],o,l){sO(t,e[n],e[i],e[s],e.scale,o,l)}const oO=["x","scaleX","originX"],aO=["y","scaleY","originY"];function Gg(t,e,n,i){qg(t.x,e,oO,n?n.x:void 0,i?i.x:void 0),qg(t.y,e,aO,n?n.y:void 0,i?i.y:void 0)}function Jg(t){return t.translate===0&&t.scale===1}function Cw(t){return Jg(t.x)&&Jg(t.y)}function Yg(t,e){return t.min===e.min&&t.max===e.max}function lO(t,e){return Yg(t.x,e.x)&&Yg(t.y,e.y)}function Xg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ow(t,e){return Xg(t.x,e.x)&&Xg(t.y,e.y)}function Qg(t){return at(t.x)/at(t.y)}function ev(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uO{constructor(){this.members=[]}add(e){$d(this.members,e),e.scheduleRender()}remove(e){if(Wd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cO(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:_,skewY:b}=n;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),_&&(i+=`skewX(${_}deg) `),b&&(i+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const nc=["","X","Y","Z"],hO=1e3;let dO=0;function ic(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Lw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Lw(i)}function Aw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=dO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mO),this.nodes.forEach(yO),this.nodes.forEach(wO),this.nodes.forEach(gO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new QC)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Kd),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Z0(l)&&!a1(l),this.instance=l;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;ye.read(()=>{g=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,p&&p(),p=eO(v,250),Na.hasAnimatedSinceResize&&(Na.hasAnimatedSinceResize=!1,this.nodes.forEach(iv)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||PO,{onLayoutAnimationStart:T,onLayoutAnimationComplete:k}=f.getProps(),S=!this.targetLayout||!Ow(this.targetLayout,_),w=!g&&v;if(this.options.layoutRoot||this.resumeFrom||w||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...af(b,"layout"),onPlay:T,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(p,w)}else g||iv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xO),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_O),this.nodes.forEach(fO),this.nodes.forEach(pO)):this.nodes.forEach(nv),this.clearAllSnapshots();const c=mt.now();Ge.delta=En(0,1e3/60,c-Ge.timestamp),Ge.timestamp=c,Ge.isProcessing=!0,Hu.update.process(Ge),Hu.preRender.process(Ge),Hu.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vO),this.sharedNodes.forEach(SO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!at(this.snapshot.measuredBox.x)&&!at(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Cw(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||vi(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),kO(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return Le();const c=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(EO))){const{scroll:p}=this.root;p&&(_r(c.x,p.offset.x),_r(c.y,p.offset.y))}return c}removeElementScroll(l){var h;const c=Le();if(At(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&At(c,l),_r(c.x,g.offset.x),_r(c.y,g.offset.y))}return c}applyTransform(l,c=!1){const h=Le();At(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&yr(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),vi(p.latestValues)&&yr(h,p.latestValues)}return vi(this.latestValues)&&yr(h,this.latestValues),h}removeTransform(l){const c=Le();At(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!vi(f.latestValues))continue;bh(f.latestValues)&&f.updateSnapshot();const p=Le(),g=f.measurePageBox();At(p,g),Gg(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return vi(this.latestValues)&&Gg(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Ds(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),uw(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Ds(this.relativeTargetOrigin,this.target,_.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bh(this.parent.latestValues)||lw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;At(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;H1(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Le());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zg(this.prevProjectionDelta.x,this.projectionDelta.x),Zg(this.prevProjectionDelta.y,this.projectionDelta.y)),Ns(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!ev(this.projectionDelta.x,this.prevProjectionDelta.x)||!ev(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wr(),this.projectionDelta=wr(),this.projectionDeltaWithTransform=wr()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},g=wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Le(),_=h?h.source:void 0,b=this.layout?this.layout.source:void 0,T=_!==b,k=this.getStack(),S=!k||k.members.length<=1,w=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(TO));this.animationProgress=0;let x;this.mixTargetDelta=E=>{const A=E/1e3;rv(g.x,l.x,A),rv(g.y,l.y,A),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ds(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bO(this.relativeTarget,this.relativeTargetOrigin,v,A),x&&lO(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Le()),At(x,this.relativeTarget)),T&&(this.animationValues=p,nO(p,f,this.latestValues,A,w,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,h,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Na.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nr(0)),this.currentAnimation=YC(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:p}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&Rw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Le();const g=at(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const v=at(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}At(c,h),yr(c,p),Ns(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new uO),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&ic("z",l,f,this.animationValues);for(let p=0;p<nc.length;p++)ic(`rotate${nc[p]}`,l,f,this.animationValues),ic(`skew${nc[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ja(c==null?void 0:c.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ja(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!vi(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=cO(this.projectionDeltaWithTransform,this.treeScale,p);h&&(g=h(p,g)),l.transform=g;const{x:v,y:_}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in ao){if(p[b]===void 0)continue;const{correct:T,applyTo:k,isCSSVariable:S}=ao[b],w=g==="none"?p[b]:T(p[b],f);if(k){const x=k.length;for(let E=0;E<x;E++)l[k[E]]=w}else S?this.options.visualElement.renderState.vars[b]=w:l[b]=w}this.options.layoutId&&(l.pointerEvents=f===this?ja(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(tv),this.root.sharedNodes.clear()}}}function fO(t){t.updateLayout()}function pO(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Rt(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=at(v);v.min=i[g].min,v.max=v.min+_}):Rw(o,e.layoutBox,i)&&Rt(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=at(i[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=wr();Ns(c,i,e.layoutBox);const h=wr();l?Ns(h,t.applyTransform(s,!0),e.measuredBox):Ns(h,i,e.layoutBox);const f=!Cw(c);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const b=Le();Ds(b,e.layoutBox,v.layoutBox);const T=Le();Ds(T,i,_.layoutBox),Ow(b,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=b,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function mO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vO(t){t.clearSnapshot()}function tv(t){t.clearMeasurements()}function nv(t){t.isLayoutDirty=!1}function _O(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yO(t){t.resolveTargetDelta()}function wO(t){t.calcProjection()}function xO(t){t.resetSkewAndRotation()}function SO(t){t.removeLeadSnapshot()}function rv(t,e,n){t.translate=be(e.translate,0,n),t.scale=be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sv(t,e,n,i){t.min=be(e.min,n.min,i),t.max=be(e.max,n.max,i)}function bO(t,e,n,i){sv(t.x,e.x,n.x,i),sv(t.y,e.y,n.y,i)}function TO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PO={duration:.45,ease:[.4,0,.1,1]},ov=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),av=ov("applewebkit/")&&!ov("chrome/")?Math.round:Bt;function lv(t){t.min=av(t.min),t.max=av(t.max)}function kO(t){lv(t.x),lv(t.y)}function Rw(t,e,n){return t==="position"||t==="preserve-aspect"&&!RC(Qg(e),Qg(n),.2)}function EO(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const CO=Aw({attachResizeListener:(t,e)=>lo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rc={current:void 0},Iw=Aw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rc.current){const t=new CO({});t.mount(window),t.setOptions({layoutScroll:!0}),rc.current=t}return rc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OO={pan:{Feature:KC},drag:{Feature:ZC,ProjectionNode:Iw,MeasureLayout:Pw}};function uv(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&ye.postRender(()=>o(e,So(e)))}class LO extends si{mount(){const{current:e}=this.node;e&&(this.unmount=n1(e,(n,i)=>(uv(this.node,i,"Start"),s=>uv(this.node,s,"End"))))}unmount(){}}class AO extends si{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yo(lo(this.node.current,"focus",()=>this.onFocus()),lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&ye.postRender(()=>o(e,So(e)))}class RO extends si{mount(){const{current:e}=this.node;e&&(this.unmount=o1(e,(n,i)=>(cv(this.node,i,"Start"),(s,{success:o})=>cv(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lh=new WeakMap,sc=new WeakMap,IO=t=>{const e=Lh.get(t.target);e&&e(t)},MO=t=>{t.forEach(IO)};function jO({root:t,...e}){const n=t||document;sc.has(n)||sc.set(n,{});const i=sc.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(MO,{root:t,...e})),i[s]}function NO(t,e,n){const i=jO(e);return Lh.set(t,n),i.observe(t),()=>{Lh.delete(t),i.unobserve(t)}}const DO={some:0,all:1};class BO extends si{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:DO[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(h)};return NO(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zO(e,n))&&this.startObserver()}unmount(){}}function zO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VO={inView:{Feature:BO},tap:{Feature:RO},focus:{Feature:AO},hover:{Feature:LO}},UO={layout:{ProjectionNode:Iw,MeasureLayout:Pw}},FO={...kC,...VO,...OO,...UO},ca=F1(FO,tC),$O=({onNavigate:t})=>R.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 text-center bg-[url('https://images.unsplash.com/photo-1596451832228-1f9804657315?q=80&w=2500&auto=format&fit=crop')] bg-cover bg-center relative",children:[R.jsx("div",{className:"absolute inset-0 bg-black/80 z-0"}),R.jsxs("div",{className:"relative z-10 max-w-3xl",children:[R.jsxs(ca.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8},children:[R.jsx("h1",{className:"text-6xl md:text-8xl font-black text-brand-yellow mb-4 drop-shadow-lg",children:"TukTuk Go"}),R.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-12 font-light",children:"       .   ."})]}),R.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center w-full",children:[R.jsxs(ca.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("register-user"),className:"group flex flex-col items-center justify-center gap-4 bg-brand-yellow text-black w-full md:w-64 h-40 rounded-2xl shadow-xl border-4 border-brand-yellow hover:bg-transparent hover:text-brand-yellow transition-all",children:[R.jsx(Vd,{size:48}),R.jsx("span",{className:"text-2xl font-bold",children:" "})]}),R.jsxs(ca.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("register-driver"),className:"group flex flex-col items-center justify-center gap-4 bg-gray-800 text-white w-full md:w-64 h-40 rounded-2xl shadow-xl border-4 border-gray-700 hover:border-brand-yellow transition-all",children:[R.jsx(XP,{size:48,className:"group-hover:text-brand-yellow transition-colors"}),R.jsx("span",{className:"text-2xl font-bold group-hover:text-brand-yellow transition-colors",children:" "})]})]})]}),R.jsx(ca.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},className:"absolute bottom-8 z-10",children:R.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center pt-2",children:R.jsx("div",{className:"w-1.5 h-1.5 bg-brand-yellow rounded-full"})})})]});var Ah=function(t,e){return Ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},Ah(t,e)};function Mw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ah(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fl=function(){return fl=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fl.apply(this,arguments)};function Hr(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function jw(t,e,n,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(o=(s<3?l(o):s>3?l(e,n,o):l(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function Nw(t,e){return function(n,i){e(n,i,t)}}function Dw(t,e,n,i,s,o){function l(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var c=i.kind,h=c==="getter"?"get":c==="setter"?"set":"value",f=!e&&t?i.static?t:t.prototype:null,p=e||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),g,v=!1,_=n.length-1;_>=0;_--){var b={};for(var T in i)b[T]=T==="access"?{}:i[T];for(var T in i.access)b.access[T]=i.access[T];b.addInitializer=function(S){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(S||null))};var k=(0,n[_])(c==="accessor"?{get:p.get,set:p.set}:p[h],b);if(c==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(g=l(k.get))&&(p.get=g),(g=l(k.set))&&(p.set=g),(g=l(k.init))&&s.unshift(g)}else(g=l(k))&&(c==="field"?s.unshift(g):p[h]=g)}f&&Object.defineProperty(f,i.name,p),v=!0}function Bw(t,e,n){for(var i=arguments.length>2,s=0;s<e.length;s++)n=i?e[s].call(t,n):e[s].call(t);return i?n:void 0}function zw(t){return typeof t=="symbol"?t:"".concat(t)}function Vw(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Uw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $(t,e,n,i){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{f(i.next(p))}catch(g){l(g)}}function h(p){try{f(i.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):s(p.value).then(c,h)}f((i=i.apply(t,e||[])).next())})}function Fw(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return h([f,p])}}function h(f){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(n=0)),n;)try{if(i=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],s=0}finally{i=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Dl=Object.create?function(t,e,n,i){i===void 0&&(i=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,s)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]};function $w(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Dl(e,t,n)}function pl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),s,o=[],l;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(l)throw l.error}}return o}function Ww(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(wf(arguments[e]));return t}function Hw(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),s=0,e=0;e<n;e++)for(var o=arguments[e],l=0,c=o.length;l<c;l++,s++)i[s]=o[l];return i}function Zw(t,e,n){if(n||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function Kw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(_){return function(b){return Promise.resolve(b).then(_,g)}}function c(_,b){i[_]&&(s[_]=function(T){return new Promise(function(k,S){o.push([_,T,k,S])>1||h(_,T)})},b&&(s[_]=b(s[_])))}function h(_,b){try{f(i[_](b))}catch(T){v(o[0][3],T)}}function f(_){_.value instanceof Br?Promise.resolve(_.value.v).then(p,g):v(o[0][2],_)}function p(_){h("next",_)}function g(_){h("throw",_)}function v(_,b){_(b),o.shift(),o.length&&h(o[0][0],o[0][1])}}function qw(t){var e,n;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,o){e[s]=t[s]?function(l){return(n=!n)?{value:Br(t[s](l)),done:!1}:o?o(l):l}:o}}function Gw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pl=="function"?pl(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(l){return new Promise(function(c,h){l=t[o](l),s(c,h,l.done,l.value)})}}function s(o,l,c,h){Promise.resolve(h).then(function(f){o({value:f,done:c})},l)}}function Jw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var WO=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Rh=function(t){return Rh=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},Rh(t)};function Yw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Rh(t),i=0;i<n.length;i++)n[i]!=="default"&&Dl(e,t,n[i]);return WO(e,t),e}function Xw(t){return t&&t.__esModule?t:{default:t}}function Qw(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function ex(t,e,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function tx(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function nx(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var HO=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function ix(t){function e(o){t.error=t.hasError?new HO(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,i=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(s,function(l){return e(l),s()})}else i|=1}catch(l){e(l)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function rx(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,s,o,l){return i?e?".jsx":".js":s&&(!o||!l)?n:s+o+"."+l.toLowerCase()+"js"}):t}const ZO={__extends:Mw,__assign:fl,__rest:Hr,__decorate:jw,__param:Nw,__esDecorate:Dw,__runInitializers:Bw,__propKey:zw,__setFunctionName:Vw,__metadata:Uw,__awaiter:$,__generator:Fw,__createBinding:Dl,__exportStar:$w,__values:pl,__read:wf,__spread:Ww,__spreadArrays:Hw,__spreadArray:Zw,__await:Br,__asyncGenerator:Kw,__asyncDelegator:qw,__asyncValues:Gw,__makeTemplateObject:Jw,__importStar:Yw,__importDefault:Xw,__classPrivateFieldGet:Qw,__classPrivateFieldSet:ex,__classPrivateFieldIn:tx,__addDisposableResource:nx,__disposeResources:ix,__rewriteRelativeImportExtension:rx},KO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nx,get __assign(){return fl},__asyncDelegator:qw,__asyncGenerator:Kw,__asyncValues:Gw,__await:Br,__awaiter:$,__classPrivateFieldGet:Qw,__classPrivateFieldIn:tx,__classPrivateFieldSet:ex,__createBinding:Dl,__decorate:jw,__disposeResources:ix,__esDecorate:Dw,__exportStar:$w,__extends:Mw,__generator:Fw,__importDefault:Xw,__importStar:Yw,__makeTemplateObject:Jw,__metadata:Uw,__param:Nw,__propKey:zw,__read:wf,__rest:Hr,__rewriteRelativeImportExtension:rx,__runInitializers:Bw,__setFunctionName:Vw,__spread:Ww,__spreadArray:Zw,__spreadArrays:Hw,__values:pl,default:ZO},Symbol.toStringTag,{value:"Module"})),qO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class xf extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class GO extends xf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hv extends xf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dv extends xf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ih;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ih||(Ih={}));class JO{constructor(e,{headers:n={},customFetch:i,region:s=Ih.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=qO(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $(this,arguments,void 0,function*(n,i={}){var s;let o,l;try{const{headers:c,method:h,body:f,signal:p,timeout:g}=i;let v={},{region:_}=i;_||(_=this.region);const b=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let T;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(v["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(v["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let k=p;g&&(l=new AbortController,o=setTimeout(()=>l.abort(),g),p?(k=l.signal,p.addEventListener("abort",()=>l.abort())):k=l.signal);const S=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:T,signal:k}).catch(A=>{throw new GO(A)}),w=S.headers.get("x-relay-error");if(w&&w==="true")throw new hv(S);if(!S.ok)throw new dv(S);let x=((s=S.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield S.json():x==="application/octet-stream"||x==="application/pdf"?E=yield S.blob():x==="text/event-stream"?E=S:x==="multipart/form-data"?E=yield S.formData():E=yield S.text(),{data:E,error:null,response:S}}catch(c){return{data:null,error:c,response:c instanceof dv||c instanceof hv?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var ot={};const Zr=_b(KO);var ha={},da={},fa={},pa={},ma={},ga={},fv;function sx(){if(fv)return ga;fv=1,Object.defineProperty(ga,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ga.default=t,ga}var pv;function ox(){if(pv)return ma;pv=1,Object.defineProperty(ma,"__esModule",{value:!0});const e=Zr.__importDefault(sx());class n{constructor(s){var o,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,p,g,v;let _=null,b=null,T=null,k=h.status,S=h.statusText;if(h.ok){if(this.method!=="HEAD"){const A=await h.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=A:b=JSON.parse(A))}const x=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),E=(g=h.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");x&&E&&E.length>1&&(T=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,T=null,k=406,S="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const x=await h.text();try{_=JSON.parse(x),Array.isArray(_)&&h.status===404&&(b=[],_=null,k=200,S="OK")}catch{h.status===404&&x===""?(k=204,S="No Content"):_={message:x}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,k=200,S="OK"),_&&this.shouldThrowOnError)throw new e.default(_)}return{error:_,data:b,count:T,status:k,statusText:S}});return this.shouldThrowOnError||(c=c.catch(h=>{var f,p,g,v,_,b;let T="";const k=h==null?void 0:h.cause;if(k){const S=(f=k==null?void 0:k.message)!==null&&f!==void 0?f:"",w=(p=k==null?void 0:k.code)!==null&&p!==void 0?p:"";T=`${(g=h==null?void 0:h.name)!==null&&g!==void 0?g:"FetchError"}: ${h==null?void 0:h.message}`,T+=`

Caused by: ${(v=k==null?void 0:k.name)!==null&&v!==void 0?v:"Error"}: ${S}`,w&&(T+=` (${w})`),k!=null&&k.stack&&(T+=`
${k.stack}`)}else T=(_=h==null?void 0:h.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(b=h==null?void 0:h.name)!==null&&b!==void 0?b:"FetchError"}: ${h==null?void 0:h.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return ma.default=n,ma}var mv;function ax(){if(mv)return pa;mv=1,Object.defineProperty(pa,"__esModule",{value:!0});const e=Zr.__importDefault(ox());class n extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:h=c}={}){const f=h?`${h}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:h=!1,format:f="text"}={}){var p;const g=[s?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return pa.default=n,pa}var gv;function Sf(){if(gv)return fa;gv=1,Object.defineProperty(fa,"__esModule",{value:!0});const e=Zr.__importDefault(ax()),n=new RegExp("[,()]");class i extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}regexMatch(o,l){return this.url.searchParams.append(o,`match.${l}`),this}regexIMatch(o,l){return this.url.searchParams.append(o,`imatch.${l}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}isDistinct(o,l){return this.url.searchParams.append(o,`isdistinct.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${p}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return fa.default=i,fa}var vv;function lx(){if(vv)return da;vv=1,Object.defineProperty(da,"__esModule",{value:!0});const e=Zr.__importDefault(Sf());class n{constructor(s,{headers:o={},schema:l,fetch:c}){this.url=s,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(s,o){const{head:l=!1,count:c}=o??{},h=l?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:l=!0}={}){var c;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:h=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var o;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return da.default=n,da}var _v;function YO(){if(_v)return ha;_v=1,Object.defineProperty(ha,"__esModule",{value:!0});const t=Zr,e=t.__importDefault(lx()),n=t.__importDefault(Sf());class i{constructor(o,{headers:l={},schema:c,fetch:h}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=h}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:h=!1,count:f}={}){var p;let g;const v=new URL(`${this.url}/rpc/${o}`);let _;c||h?(g=c?"HEAD":"GET",Object.entries(l).filter(([T,k])=>k!==void 0).map(([T,k])=>[T,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([T,k])=>{v.searchParams.append(T,k)})):(g="POST",_=l);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new n.default({method:g,url:v,headers:b,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return ha.default=i,ha}Object.defineProperty(ot,"__esModule",{value:!0});var ux=ot.PostgrestError=yx=ot.PostgrestBuilder=vx=ot.PostgrestTransformBuilder=mx=ot.PostgrestFilterBuilder=fx=ot.PostgrestQueryBuilder=hx=ot.PostgrestClient=void 0;const Kr=Zr,cx=Kr.__importDefault(YO());var hx=ot.PostgrestClient=cx.default;const dx=Kr.__importDefault(lx());var fx=ot.PostgrestQueryBuilder=dx.default;const px=Kr.__importDefault(Sf());var mx=ot.PostgrestFilterBuilder=px.default;const gx=Kr.__importDefault(ax());var vx=ot.PostgrestTransformBuilder=gx.default;const _x=Kr.__importDefault(ox());var yx=ot.PostgrestBuilder=_x.default;const wx=Kr.__importDefault(sx());ux=ot.PostgrestError=wx.default;var xx=ot.default={PostgrestClient:cx.default,PostgrestQueryBuilder:dx.default,PostgrestFilterBuilder:px.default,PostgrestTransformBuilder:gx.default,PostgrestBuilder:_x.default,PostgrestError:wx.default};const XO=gb({__proto__:null,get PostgrestBuilder(){return yx},get PostgrestClient(){return hx},get PostgrestError(){return ux},get PostgrestFilterBuilder(){return mx},get PostgrestQueryBuilder(){return fx},get PostgrestTransformBuilder(){return vx},default:xx},[ot]),{PostgrestClient:QO,PostgrestQueryBuilder:BR,PostgrestFilterBuilder:zR,PostgrestTransformBuilder:VR,PostgrestBuilder:UR,PostgrestError:FR}=xx||XO;class eL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tL="2.84.0",nL=`realtime-js/${tL}`,Sx="1.0.0",iL="2.0.0",yv=Sx,Mh=1e4,rL=1e3,sL=100;var yi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yi||(yi={}));var Be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Be||(Be={}));var Gt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gt||(Gt={}));var jh;(function(t){t.websocket="websocket"})(jh||(jh={}));var wi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wi||(wi={}));class oL{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i,s,o;const l=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",h=(i=e.join_ref)!==null&&i!==void 0?i:"",f=e.payload.event,p=(o=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),g=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+l.length+f.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let _=new DataView(v),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,h.length),_.setUint8(b++,c.length),_.setUint8(b++,l.length),_.setUint8(b++,f.length),_.setUint8(b++,this.BINARY_ENCODING),Array.from(h,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(c,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(l,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(f,k=>_.setUint8(b++,k.charCodeAt(0)));var T=new Uint8Array(v.byteLength+p.byteLength);return T.set(new Uint8Array(v),0),T.set(new Uint8Array(p),v.byteLength),T.buffer}_encodeJsonUserBroadcastPush(e){var n,i,s,o;const l=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",h=(i=e.join_ref)!==null&&i!==void 0?i:"",f=e.payload.event,p=(o=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},v=new TextEncoder().encode(JSON.stringify(p)).buffer,_=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+l.length+f.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(b),k=0;T.setUint8(k++,this.KINDS.userBroadcastPush),T.setUint8(k++,h.length),T.setUint8(k++,c.length),T.setUint8(k++,l.length),T.setUint8(k++,f.length),T.setUint8(k++,this.JSON_ENCODING),Array.from(h,w=>T.setUint8(k++,w.charCodeAt(0))),Array.from(c,w=>T.setUint8(k++,w.charCodeAt(0))),Array.from(l,w=>T.setUint8(k++,w.charCodeAt(0))),Array.from(f,w=>T.setUint8(k++,w.charCodeAt(0)));var S=new Uint8Array(b.byteLength+v.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(v),b.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[s,o,l,c,h]=i;return n({join_ref:s,ref:o,topic:l,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,i){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=i.decode(e.slice(h,h+s));h=h+s;const p=i.decode(e.slice(h,h+o));h=h+o;const g=i.decode(e.slice(h,h+l));h=h+l;const v=e.slice(h,e.byteLength),_=c===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,b={type:this.BROADCAST_EVENT,event:p,payload:_};return l>0&&(b.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class bx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pe||(pe={}));const wv=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=aL(l,t,e,s),o),{}):{}},aL=(t,e,n,i)=>{const s=e.find(c=>c.name===t),o=s==null?void 0:s.type,l=n[t];return o&&!i.includes(o)?Tx(o,l):Nh(l)},Tx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return hL(e,n)}switch(t){case pe.bool:return lL(e);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return uL(e);case pe.json:case pe.jsonb:return cL(e);case pe.timestamp:return dL(e);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return Nh(e);default:return Nh(e)}},Nh=t=>t,lL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},uL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},hL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>Tx(e,c))}return t},dL=t=>typeof t=="string"?t.replace(" ","T"):t,Px=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class oc{constructor(e,n,i={},s=Mh){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xv||(xv={}));class Bs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,s,o,l),this.pendingDiffs.forEach(h=>{this.state=Bs.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bs.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const o=this.cloneDeep(e),l=this.transformState(n),c={},h={};return this.map(o,(f,p)=>{l[f]||(h[f]=p)}),this.map(l,(f,p)=>{const g=o[f];if(g){const v=p.map(k=>k.presence_ref),_=g.map(k=>k.presence_ref),b=p.filter(k=>_.indexOf(k.presence_ref)<0),T=g.filter(k=>v.indexOf(k.presence_ref)<0);b.length>0&&(c[f]=b),T.length>0&&(h[f]=T)}else c[f]=p}),this.syncDiff(o,{joins:c,leaves:h},i,s)}static syncDiff(e,n,i,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,h)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(h),p.length>0){const g=e[c].map(_=>_.presence_ref),v=p.filter(_=>g.indexOf(_.presence_ref)<0);e[c].unshift(...v)}i(c,p,h)}),this.map(l,(c,h)=>{let f=e[c];if(!f)return;const p=h.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),e[c]=f,s(c,f,h),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Sv||(Sv={}));var zs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zs||(zs={}));var _n;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class bf{constructor(e,n={config:{}},i){var s,o;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oc(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new bx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Bs(this),this.broadcastEndpointURL=Px(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params,f=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[zs.PRESENCE]&&this.bindings[zs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(_n.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket.setAuth(),_===void 0){e==null||e(_n.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,k=(b=T==null?void 0:T.length)!==null&&b!==void 0?b:0,S=[];for(let w=0;w<k;w++){const x=T[w],{filter:{event:E,schema:A,table:M,filter:D}}=x,N=_&&_[w];if(N&&N.event===E&&N.schema===A&&N.table===M&&N.filter===D)S.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=Be.errored,e==null||e(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(_n.SUBSCRIBED);return}}).receive("error",_=>{this.state=Be.errored,e==null||e(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Be.joined&&e===zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const f=await c.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new oc(this,Gt.leave,{},e),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oc(this,e,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,o;const l=e.toLocaleLowerCase(),{close:c,error:h,leave:f,join:p}=Gt;if(i&&[c,h,f,p].indexOf(l)>=0&&i!==this._joinRef())return;let v=this._onMessage(l,n,i);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var b,T,k;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(T=_.filter)===null||T===void 0?void 0:T.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(_=>_.callback(v,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var b,T,k,S,w,x;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const E=_.id,A=(b=_.filter)===null||b===void 0?void 0:b.event;return E&&((T=n.ids)===null||T===void 0?void 0:T.includes(E))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(w=(S=_==null?void 0:_.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:T,table:k,commit_timestamp:S,type:w,errors:x}=b;v=Object.assign(Object.assign({},{schema:T,table:k,commit_timestamp:S,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(b))}_.callback(v,i)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&bf.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gt.close,{},e)}_onError(e){this._on(Gt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wv(e.columns,e.old_record)),n}}const ac=()=>{},va={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fL=[1e3,2e3,5e3,1e4],pL=1e4,mL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gL{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mh,this.transport=null,this.heartbeatIntervalMs=va.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ac,this.ref=0,this.reconnectTimer=null,this.vsn=yv,this.logger=ac,this.conn=null,this.sendBuffer=[],this.serializer=new oL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${jh.websocket}`,this.httpEndpoint=Px(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case yi.connecting:return wi.Connecting;case yi.open:return wi.Open;case yi.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new bf(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:i,payload:s,ref:o}=e,l=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},va.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${s} ${c}`.trim(),o),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===yi.open||this.conn.readyState===yi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${i}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([mL],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:nL};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Gt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new bx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},va.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,s,o,l,c,h,f,p,g,v,_;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Mh,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:va.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:ac,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:yv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:b=>fL[b-1]||pL,this.vsn){case Sx:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(b,T)=>T(JSON.stringify(b)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:(b,T)=>T(JSON.parse(b));break;case iL:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Tf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vL extends Tf{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dh extends Tf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Pf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_L=()=>Response,Bh=t=>{if(Array.isArray(t))return t.map(n=>Bh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Bh(i)}),e},yL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},wL=(t,e,n)=>$(void 0,void 0,void 0,function*(){const i=yield _L();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,l=(s==null?void 0:s.statusCode)||o+"";e(new vL(lc(s),o,l))}).catch(s=>{e(new Dh(lc(s),s))}):e(new Dh(lc(t),t))}),xL=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?s:(yL(i)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function bo(t,e,n,i,s,o){return $(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,xL(e,i,s,o)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>wL(h,c,i))})})}function uo(t,e,n,i){return $(this,void 0,void 0,function*(){return bo(t,"GET",e,n,i)})}function Kt(t,e,n,i,s){return $(this,void 0,void 0,function*(){return bo(t,"POST",e,i,s,n)})}function zh(t,e,n,i,s){return $(this,void 0,void 0,function*(){return bo(t,"PUT",e,i,s,n)})}function SL(t,e,n,i){return $(this,void 0,void 0,function*(){return bo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function kf(t,e,n,i,s){return $(this,void 0,void 0,function*(){return bo(t,"DELETE",e,i,s,n)})}class bL{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return $(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xe(e))return{data:null,error:e};throw e}})}}var kx;class TL{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[kx]="BlobDownloadBuilder",this.promise=null}asStream(){return new bL(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xe(e))return{data:null,error:e};throw e}})}}kx=Symbol.toStringTag;const PL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kL{constructor(e,n={},i,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=Pf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,s){return $(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},bv),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),h&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(h))):(o=i,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),g=yield(e=="PUT"?zh:Kt)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}})}upload(e,n,i){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,s){return $(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let h;const f=Object.assign({upsert:bv.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",f.cacheControl)):(h=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield zh(this.fetch,c.toString(),h,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(xe(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return $(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Kt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new Tf("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}update(e,n,i){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return $(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}copy(e,n,i){return $(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,i){return $(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Kt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,i){return $(this,void 0,void 0,function*(){try{const s=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(e),h=()=>uo(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new TL(h,this.shouldThrowOnError)}info(e){return $(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield uo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Bh(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}exists(e){return $(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield SL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i)&&i instanceof Dh){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&s.push(h);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${f}`)}}}remove(e){return $(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}list(e,n,i){return $(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},PL),n),{prefix:e||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}listV2(e,n){return $(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ex="2.84.0",Cx={"X-Client-Info":`storage-js/${Ex}`};class EL{constructor(e,n={},i,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),n),this.fetch=Pf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return $(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield uo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}createBucket(e){return $(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return $(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}emptyBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class CL{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),n),this.fetch=Pf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}listBuckets(e){return $(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const i=n.toString(),s=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield uo(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}}const Ef={"X-Client-Info":`storage-js/${Ex}`,"Content-Type":"application/json"};class Ox extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class uc extends Ox{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OL extends Ox{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Tv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Tv||(Tv={}));const Cf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),LL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),AL=(t,e,n)=>$(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new uc(Pv(l),s,c))}).catch(()=>{const l=s+"",c=o.statusText||`HTTP ${s} error`;e(new uc(c,s,l))});else{const l=s+"",c=o.statusText||`HTTP ${s} error`;e(new uc(c,s,l))}}else e(new OL(Pv(t),t))}),RL=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(LL(i)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,Object.assign(Object.assign({},s),n)):s};function IL(t,e,n,i,s,o){return $(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,RL(e,i,s,o)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>l(h)).catch(h=>AL(h,c,i))})})}function St(t,e,n,i,s){return $(this,void 0,void 0,function*(){return IL(t,"POST",e,i,s,n)})}class ML{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ef),n),this.fetch=Cf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return $(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return $(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}listIndexes(e){return $(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return $(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}}class jL{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ef),n),this.fetch=Cf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return $(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield St(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listVectors(e){return $(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield St(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}queryVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return $(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield St(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}class NL{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ef),n),this.fetch=Cf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listBuckets(){return $(this,arguments,void 0,function*(e={}){try{return{data:yield St(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}class DL extends NL{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new BL(this.url,this.headers,e,this.fetch)}}class BL extends ML{constructor(e,n,i,s){super(e,n,s),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new zL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class zL extends jL{constructor(e,n,i,s,o){super(e,n,o),this.vectorBucketName=i,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class VL extends EL{constructor(e,n={},i,s){super(e,n,i,s)}from(e){return new kL(this.url,this.headers,e,this.fetch)}get vectors(){return new DL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CL(this.url+"/iceberg",this.headers,this.fetch)}}const UL="2.84.0";let Ss="";typeof Deno<"u"?Ss="deno":typeof document<"u"?Ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ss="react-native":Ss="node";const FL={"X-Client-Info":`supabase-js-${Ss}/${UL}`},$L={headers:FL},WL={schema:"public"},HL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZL={},KL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qL=()=>Headers,GL=(t,e,n)=>{const i=KL(n),s=qL();return async(o,l)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},l),{headers:f}))}};function JL(t){return t.endsWith("/")?t:t+"/"}function YL(t,e){var n,i;const{db:s,auth:o,realtime:l,global:c}=t,{db:h,auth:f,realtime:p,global:g}=e,v={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function XL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(JL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lx="2.84.0",nr=30*1e3,Vh=3,cc=Vh*nr,QL="http://localhost:9999",eA="supabase.auth.token",tA={"X-Client-Info":`gotrue-js/${Lx}`},Uh="X-Supabase-Api-Version",Ax={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iA=10*60*1e3;class co extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rA extends co{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function sA(t){return W(t)&&t.name==="AuthApiError"}class xi extends co{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class oi extends co{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class yt extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oA(t){return W(t)&&t.name==="AuthSessionMissingError"}class Yi extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _a extends oi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ya extends oi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aA(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class kv extends oi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fh extends oi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function hc(t){return W(t)&&t.name==="AuthRetryableFetchError"}class Ev extends oi{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class $h extends oi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cv=` 	
\r=`.split(""),lA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Cv.length;e+=1)t[Cv[e].charCodeAt(0)]=-2;for(let e=0;e<ml.length;e+=1)t[ml[e].charCodeAt(0)]=e;return t})();function Ov(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ml[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ml[i]),e.queuedBits-=6}}function Rx(t,e,n){const i=lA[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lv(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{hA(l,i,n)};for(let l=0;l<t.length;l+=1)Rx(t.charCodeAt(l),s,o);return e.join("")}function uA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cA(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}uA(i,e)}}function hA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Cr(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Rx(t.charCodeAt(s),n,i);return new Uint8Array(e)}function dA(t){const e=[];return cA(t,n=>e.push(n)),new Uint8Array(e)}function Ei(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};return t.forEach(s=>Ov(s,n,i)),Ov(null,n,i),e.join("")}function fA(t){return Math.round(Date.now()/1e3)+t}function pA(){return Symbol("auth-callback")}const Ke=()=>typeof window<"u"&&typeof document<"u",fi={tested:!1,writable:!1},Ix=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fi.tested)return fi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fi.tested=!0,fi.writable=!0}catch{fi.tested=!0,fi.writable=!1}return fi.writable};function mA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const Mx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ir=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},pi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jn=async(t,e)=>{await t.removeItem(e)};class Bl{constructor(){this.promise=new Bl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Bl.promiseConstructor=Promise;function dc(t){const e=t.split(".");if(e.length!==3)throw new $h("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!nA.test(e[i]))throw new $h("JWT not in base64url format");return{header:JSON.parse(Lv(e[0])),payload:JSON.parse(Lv(e[1])),signature:Cr(e[2]),raw:{header:e[0],payload:e[1]}}}async function vA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _A(t,e){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){i(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function yA(t){return("0"+t.toString(16)).substr(-2)}function wA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,yA).join("")}async function xA(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function SA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xA(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xi(t,e,n=!1){const i=wA();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await ir(t,`${e}-code-verifier`,s);const o=await SA(i);return[o,i===o?"plain":"s256"]}const bA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TA(t){const e=t.headers.get(Uh);if(!e||!e.match(bA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function PA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function kA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qi(t){if(!EA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CA(t,e){return new Proxy(t,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,s)}})}function Av(t){return JSON.parse(JSON.stringify(t))}const _i=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OA=[502,503,504];async function Rv(t){var e;if(!gA(t))throw new Fh(_i(t),0);if(OA.includes(t.status))throw new Fh(_i(t),t.status);let n;try{n=await t.json()}catch(o){throw new xi(_i(o),o)}let i;const s=TA(t);if(s&&s.getTime()>=Ax["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Ev(_i(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new yt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Ev(_i(n),t.status,n.weak_password.reasons);throw new rA(_i(n),t.status||500,i)}const LA=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function G(t,e,n,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[Uh]||(o[Uh]=Ax["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await AA(t,e,n+c,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function AA(t,e,n,i,s,o){const l=LA(e,i,s,o);let c;try{c=await t(n,Object.assign({},l))}catch(h){throw console.error(h),new Fh(_i(h),0)}if(c.ok||await Rv(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(h){await Rv(h)}}function Wt(t){var e;let n=null;MA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=fA(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Iv(t){const e=Wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Un(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RA(t){return{data:t,error:null}}function IA(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=t,l=Hr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function Mv(t){return t}function MA(t){return t.access_token&&t.refresh_token&&t.expires_in}const pc=["global","local","others"];class jA{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Mx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pc[0]){if(pc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pc.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Un})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Hr(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:IA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(W(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Un})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,o,l,c,h;try{const f={nextPage:null,lastPage:0,total:0},p=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Mv});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(b=>{const T=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=T}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(W(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Qi(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Un})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Qi(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Un})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Qi(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Un})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Qi(e.userId);try{const{data:n,error:i}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Qi(e.userId),Qi(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,s,o,l,c,h;try{const f={nextPage:null,lastPage:0,total:0},p=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Mv});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(b=>{const T=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=T}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(W(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await G(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}}function jv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const er={debug:!!(globalThis&&Ix()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NA extends jx{}async function DA(t,e,n){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(er.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function BA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Nx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zA(t){return parseInt(t,16)}function VA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function UA(t){var e;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:h,resources:f,scheme:p,uri:g,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=Nx(t.address),b=p?`${p}://${i}`:i,T=t.statement?`${t.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${_}

${T}`;let S=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(S+=`
Expiration Time: ${s.toISOString()}`),c&&(S+=`
Not Before: ${c.toISOString()}`),h&&(S+=`
Request ID: ${h}`),f){let w=`
Resources:`;for(const x of f){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}S+=w}return`${k}
${S}`}class Me extends Error{constructor({message:e,code:n,cause:i,name:s}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class gl extends Me{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function FA({error:t,options:e}){var n,i,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Dx(l)){if(o.rp.id!==l)return new Me({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $A({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Dx(i)){if(n.rpId!==i)return new Me({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const HA=new WA;function ZA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,s=Hr(t,["challenge","user","excludeCredentials"]),o=Cr(e).buffer,l=Object.assign(Object.assign({},n),{id:Cr(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const f=i[h];c.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:Cr(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function KA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Hr(t,["challenge","allowCredentials"]),s=Cr(e).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Cr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function qA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ei(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ei(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function GA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ei(new Uint8Array(s.authenticatorData)),clientDataJSON:Ei(new Uint8Array(s.clientDataJSON)),signature:Ei(new Uint8Array(s.signature)),userHandle:s.userHandle?Ei(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Nv(){var t,e;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gl("Browser returned unexpected credential type",e)}:{data:null,error:new gl("Empty credential response",e)}}catch(e){return{data:null,error:FA({error:e,options:t})}}}async function YA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gl("Browser returned unexpected credential type",e)}:{data:null,error:new gl("Empty credential response",e)}}catch(e){return{data:null,error:$A({error:e,options:t})}}}const XA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vl(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of t)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(n(l))i[o]=l;else if(e(l)){const c=i[o];e(c)?i[o]=vl(c,l):i[o]=vl(l)}else i[o]=l}return i}function eR(t,e){return vl(XA,t,e||{})}function tR(t,e){return vl(QA,t,e||{})}class nR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:s},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:c};const h=s??HA.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=eR(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await JA({publicKey:f,signal:h});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=tR(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await YA(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:h}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return W(l)?{data:null,error:l}:{data:null,error:new xi("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new co("rpId is required for WebAuthn authentication")};try{if(!Nv())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:h}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(l){return W(l)?{data:null,error:l}:{data:null,error:new xi("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new co("rpId is required for WebAuthn registration")};try{if(!Nv())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:h,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(l){return W(l)?{data:null,error:l}:{data:null,error:new xi("Unexpected error in register",l)}}}}BA();const iR={url:QL,storageKey:eA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Dv(t,e,n){return await n()}const tr={};class ho{get jwks(){var e,n;return(n=(e=tr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){tr[this.storageKey]=Object.assign(Object.assign({},tr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=tr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tr[this.storageKey]=Object.assign(Object.assign({},tr[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},iR),e);if(this.storageKey=o.storageKey,this.instanceID=(n=ho.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ho.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ke()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new jA({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Mx(o.fetch),this.lock=o.lock||Dv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Ke()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=DA:this.lock=Dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ix()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=jv(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Ke()&&(n=mA(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Ke()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),aA(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?this._returnResult({error:n}):this._returnResult({error:new xi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wt}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,i,s;try{let o;if("email"in e){const{email:p,password:g,options:v}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await Xi(this.storage,this.storageKey)),o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:b},xform:Wt})}else if("phone"in e){const{phone:p,password:g,options:v}=e;o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Wt})}else throw new _a("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:c}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Iv})}else if("phone"in e){const{phone:o,password:l,options:c}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Iv})}else throw new _a("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new Yi;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,s,o,l,c,h,f,p,g,v;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:T,wallet:k,statement:S,options:w}=e;let x;if(Ke())if(typeof k=="object")x=k;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")x=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=k}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),A=await x.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Nx(A[0]);let D=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!D){const q=await x.request({method:"eth_chainId"});D=zA(q)}const N={domain:E.host,address:M,statement:S,uri:E.href,version:"1",chainId:D,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=w==null?void 0:w.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=w==null?void 0:w.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=w==null?void 0:w.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=UA(N),b=await x.request({method:"personal_sign",params:[VA(_),M]})}try{const{data:T,error:k}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Wt});if(k)throw k;if(!T||!T.session||!T.user){const S=new Yi;return this._returnResult({data:{user:null,session:null},error:S})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(W(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,i,s,o,l,c,h,f,p,g,v,_;let b,T;if("message"in e)b=e.message,T=e.signature;else{const{chain:k,wallet:S,statement:w,options:x}=e;let E;if(Ke())if(typeof S=="object")E=S;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))E=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const A=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const M=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),w?{statement:w}:null));let D;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")D=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)D=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)b=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),T=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${A.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(i=x==null?void 0:x.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((f=x==null?void 0:x.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((g=(p=x==null?void 0:x.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...x.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const M=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=M}}try{const{data:k,error:S}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ei(T)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Wt});if(S)throw S;if(!k||!k.session||!k.user){const w=new Yi;return this._returnResult({data:{user:null,session:null},error:w})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:S})}catch(k){if(W(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await pi(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Wt});if(await jn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Yi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(W(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:o,nonce:l}=e,c=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wt}),{data:h,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const p=new Yi;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,s,o,l;try{if("email"in e){const{email:c,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Xi(this.storage,this.storageKey));const{error:g}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:c,options:h}=e,{data:f,error:p}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new _a("You must provide either an email or phone number.")}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,i;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Wt});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,i,s,o,l;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Xi(this.storage,this.storageKey));const f=await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:RA});return!((o=f.data)===null||o===void 0)&&o.url&&Ke()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(W(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new yt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(W(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:o}=e,{error:l}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:i,type:s,options:o}=e,{data:l,error:c}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new _a("You must provide either an email or phone number and a type")}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<cc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await pi(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=fc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=CA(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Un}):await this._useSession(async n=>{var i,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Un})})}catch(n){if(W(n))return oA(n)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new yt;const l=s.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await Xi(this.storage,this.storageKey));const{data:f,error:p}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:Un});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(W(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yt;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:l}=dc(e.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(W(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new yt;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new ya("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ya(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ya("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kv("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:h,token_type:f}=e;if(!o||!c||!l||!f)throw new ya("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(c);let v=p+g;h&&(v=parseInt(h));const _=v-p;_*1e3<=nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const b=v-g;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,p);const{data:T,error:k}=await this._getUser(o);if(k)throw k;const S={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await pi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(sA(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=pA(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Xi(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(W(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var l,c,h,f,p;const{data:g,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(W(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:h,access_token:f,nonce:p}=e,g=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:h,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wt}),{data:v,error:_}=g;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Yi}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)throw l;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await _A(async s=>(s>0&&await vA(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(s,o)=>{const l=200*Math.pow(2,s);return o&&hc(o)&&Date.now()+l-i<nr})}catch(i){if(this._debug(n,"error",i),W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ke()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await pi(this.storage,this.storageKey);if(s&&this.userStorage){let l=await pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await ir(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:fc()}else if(s&&!s.user&&!s.user){const l=await pi(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await jn(this.storage,this.storageKey+"-user"),await ir(this.storage,this.storageKey,s)):s.user=fc()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cc;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${cc}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),hc(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bl;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new yt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),W(o)){const l={data:null,error:o};return hc(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ir(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Av(s);await ir(this.storage,this.storageKey,o)}else{const s=Av(n);await ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${nr}ms, refresh threshold is ${Vh} ticks`),s<=Vh&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await Xi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await G(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qA(e.webauthn.credential_response):GA(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ZA(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:KA(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dc(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await G(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new yt})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new yt});const l=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new yt});const l=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await G(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new yt})})}catch(e){if(W(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await G(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new yt})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+iA>s)return i;const{data:o,error:l}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:h}}=dc(i);n!=null&&n.allowExpired||PA(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const p=kA(s.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,dA(`${c}.${h}`)))throw new $h("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}}ho.nextInstanceID={};const rR=ho;class sR extends rR{constructor(e){super(e)}}class oR{constructor(e,n,i){var s,o,l;this.supabaseUrl=e,this.supabaseKey=n;const c=XL(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:WL,realtime:ZL,auth:Object.assign(Object.assign({},HL),{storageKey:h}),global:$L},p=YL(i??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=GL(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new QO(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new VL(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new JO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:l,flowType:c,lock:h,debug:f,throwOnError:p},g,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sR({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),g),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,flowType:c,lock:h,debug:f,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aR=(t,e,n)=>new oR(t,e,n);function lR(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uR="https://oljxeosptnsmlcggzogw.supabase.co",cR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9sanhlb3NwdG5zbWxjZ2d6b2d3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NjY3MDksImV4cCI6MjA3OTI0MjcwOX0.niii7MFS8W9GHtjunloo94qxaDPWOq2aeDUu_fZklKk",We=aR(uR,cR),Bx="users",fo="drivers",Ci="rides",Bv=({type:t,onSuccess:e,onCancel:n})=>{const[i,s]=B.useState(!1),[o,l]=B.useState(null),[c,h]=B.useState({name:"",phone:"",tuktukNumber:""});B.useEffect(()=>{navigator.geolocation.getCurrentPosition(p=>l({lat:p.coords.latitude,lng:p.coords.longitude}),p=>console.error(p),{enableHighAccuracy:!0})},[]);const f=async p=>{if(p.preventDefault(),!o){alert("    ");return}s(!0);try{const g=t==="user"?Bx:fo,v={name:c.name,phone:c.phone,location:o};t==="driver"&&(v.tuktuk_number=c.tuktukNumber,v.status="available");const{data:_}=await We.from(g).select("*").eq("phone",c.phone).single();if(_)await We.from(g).update({location:o}).eq("id",_.id),e({..._,location:o});else{const{data:b,error:T}=await We.from(g).insert([v]).select().single();if(T)throw T;e(b)}}catch(g){alert(" : "+g.message)}finally{s(!1)}};return R.jsx("div",{className:"flex items-center justify-center h-full p-6",children:R.jsxs("div",{className:"bg-brand-gray w-full max-w-md p-8 rounded-2xl shadow-2xl border border-white/10",children:[R.jsx("h2",{className:"text-3xl font-bold text-brand-yellow mb-6 text-center",children:t==="user"?"  ":"  "}),R.jsxs("form",{onSubmit:f,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:""}),R.jsx("input",{required:!0,type:"text",className:"w-full bg-black/50 border border-gray-700 rounded-lg p-3 focus:border-brand-yellow focus:outline-none text-white",placeholder:" ",value:c.name,onChange:p=>h({...c,name:p.target.value})})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:" "}),R.jsx("input",{required:!0,type:"tel",className:"w-full bg-black/50 border border-gray-700 rounded-lg p-3 focus:border-brand-yellow focus:outline-none text-white",placeholder:"01xxxxxxxxx",value:c.phone,onChange:p=>h({...c,phone:p.target.value})})]}),t==="driver"&&R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:" "}),R.jsx("input",{required:!0,type:"text",className:"w-full bg-black/50 border border-gray-700 rounded-lg p-3 focus:border-brand-yellow focus:outline-none text-white",placeholder:": 123   ",value:c.tuktukNumber,onChange:p=>h({...c,tuktukNumber:p.target.value})})]}),R.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 my-4",children:[R.jsx(Vd,{size:16,className:o?"text-green-500":"text-red-500"}),R.jsx("span",{children:o?"   ":"  ..."})]}),R.jsx("button",{disabled:i||!o,type:"submit",className:"w-full bg-brand-yellow text-black font-bold py-3 rounded-lg hover:bg-yellow-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:i?R.jsx(t0,{className:"animate-spin"}):" / "}),R.jsx("button",{type:"button",onClick:n,className:"w-full bg-transparent text-gray-400 text-sm hover:text-white transition-colors",children:""})]})]})})};function zx(t,e){const n=B.useRef(e);B.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const hR=1;function dR(t){return Object.freeze({__version:hR,map:t})}function fR(t,e){return Object.freeze({...t,...e})}const Vx=B.createContext(null),Ux=Vx.Provider;function Of(){const t=B.useContext(Vx);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function pR(t){function e(n,i){const{instance:s,context:o}=t(n).current;return B.useImperativeHandle(i,()=>s),n.children==null?null:Da.createElement(Ux,{value:o},n.children)}return B.forwardRef(e)}function mR(t){function e(n,i){const[s,o]=B.useState(!1),{instance:l}=t(n,o).current;B.useImperativeHandle(i,()=>l),B.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?Qy.createPortal(n.children,c):null}return B.forwardRef(e)}function gR(t){function e(n,i){const{instance:s}=t(n).current;return B.useImperativeHandle(i,()=>s),null}return B.forwardRef(e)}function Fx(t,e){const n=B.useRef();B.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Lf(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function vR(t,e){return function(i,s){const o=Of(),l=t(Lf(i,o),o);return zx(o.map,i.attribution),Fx(l.current,i.eventHandlers),e(l.current,o,i,s),l}}var Wh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(vb,function(n){var i="1.9.4";function s(r){var a,u,d,m;for(u=1,d=arguments.length;u<d;u++){m=arguments[u];for(a in m)r[a]=m[a]}return r}var o=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function l(r,a){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var d=u.call(arguments,2);return function(){return r.apply(a,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function f(r,a,u){var d,m,y,P;return P=function(){d=!1,m&&(y.apply(u,m),m=!1)},y=function(){d?m=arguments:(r.apply(u,arguments),setTimeout(P,a),d=!0)},y}function p(r,a,u){var d=a[1],m=a[0],y=d-m;return r===d&&u?r:((r-m)%y+y)%y+m}function g(){return!1}function v(r,a){if(a===!1)return r;var u=Math.pow(10,a===void 0?6:a);return Math.round(r*u)/u}function _(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function b(r){return _(r).split(/\s+/)}function T(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var u in a)r.options[u]=a[u];return r.options}function k(r,a,u){var d=[];for(var m in r)d.push(encodeURIComponent(u?m.toUpperCase():m)+"="+encodeURIComponent(r[m]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function w(r,a){return r.replace(S,function(u,d){var m=a[d];if(m===void 0)throw new Error("No value provided for variable "+u);return typeof m=="function"&&(m=m(a)),m})}var x=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function E(r,a){for(var u=0;u<r.length;u++)if(r[u]===a)return u;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var D=0;function N(r){var a=+new Date,u=Math.max(0,16-(a-D));return D=a+u,window.setTimeout(r,u)}var q=window.requestAnimationFrame||M("RequestAnimationFrame")||N,K=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function se(r,a,u){if(u&&q===N)r.call(a);else return q.call(window,l(r,a))}function Ce(r){r&&K.call(window,r)}var dn={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:h,throttle:f,wrapNum:p,falseFn:g,formatNum:v,trim:_,splitWords:b,setOptions:T,getParamString:k,template:w,isArray:x,indexOf:E,emptyImageUrl:A,requestFn:q,cancelFn:K,requestAnimFrame:se,cancelAnimFrame:Ce};function it(){}it.extend=function(r){var a=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,d=o(u);d.constructor=a,a.prototype=d;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(a[m]=this[m]);return r.statics&&s(a,r.statics),r.includes&&(Vi(r.includes),s.apply(null,[d].concat(r.includes))),s(d,r),delete d.statics,delete d.includes,d.options&&(d.options=u.options?o(u.options):{},s(d.options,r.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,P=d._initHooks.length;y<P;y++)d._initHooks[y].call(this)}},a},it.include=function(r){var a=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},it.mergeOptions=function(r){return s(this.prototype.options,r),this},it.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Vi(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=x(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ue={on:function(r,a,u){if(typeof r=="object")for(var d in r)this._on(d,r[d],a);else{r=b(r);for(var m=0,y=r.length;m<y;m++)this._on(r[m],a,u)}return this},off:function(r,a,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var d in r)this._off(d,r[d],a);else{r=b(r);for(var m=arguments.length===1,y=0,P=r.length;y<P;y++)m?this._off(r[y]):this._off(r[y],a,u)}return this},_on:function(r,a,u,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,u)===!1){u===this&&(u=void 0);var m={fn:a,ctx:u};d&&(m.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(m)}},_off:function(r,a,u){var d,m,y;if(this._events&&(d=this._events[r],!!d)){if(arguments.length===1){if(this._firingCount)for(m=0,y=d.length;m<y;m++)d[m].fn=g;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var P=this._listens(r,a,u);if(P!==!1){var C=d[P];this._firingCount&&(C.fn=g,this._events[r]=d=d.slice()),d.splice(P,1)}}},fire:function(r,a,u){if(!this.listens(r,u))return this;var d=s({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var m=this._events[r];if(m){this._firingCount=this._firingCount+1||1;for(var y=0,P=m.length;y<P;y++){var C=m[y],O=C.fn;C.once&&this.off(r,O,C.ctx),O.call(C.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(r,a,u,d){typeof r!="string"&&console.warn('"string" type argument expected');var m=a;typeof a!="function"&&(d=!!a,m=void 0,u=void 0);var y=this._events&&this._events[r];if(y&&y.length&&this._listens(r,m,u)!==!1)return!0;if(d){for(var P in this._eventParents)if(this._eventParents[P].listens(r,a,u,d))return!0}return!1},_listens:function(r,a,u){if(!this._events)return!1;var d=this._events[r]||[];if(!a)return!!d.length;u===this&&(u=void 0);for(var m=0,y=d.length;m<y;m++)if(d[m].fn===a&&d[m].ctx===u)return m;return!1},once:function(r,a,u){if(typeof r=="object")for(var d in r)this._on(d,r[d],a,!0);else{r=b(r);for(var m=0,y=r.length;m<y;m++)this._on(r[m],a,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};Ue.addEventListener=Ue.on,Ue.removeEventListener=Ue.clearAllEventListeners=Ue.off,Ue.addOneTimeEventListener=Ue.once,Ue.fireEvent=Ue.fire,Ue.hasEventListeners=Ue.listens;var de=it.extend(Ue);function I(r,a,u){this.x=u?Math.round(r):r,this.y=u?Math.round(a):a}var Z=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(r){return this.clone()._add(V(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(V(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new I(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new I(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(r){r=V(r);var a=r.x-this.x,u=r.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(r){return r=V(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=V(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function V(r,a,u){return r instanceof I?r:x(r)?new I(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new I(r.x,r.y):new I(r,a,u)}function X(r,a){if(r)for(var u=a?[r,a]:r,d=0,m=u.length;d<m;d++)this.extend(u[d])}X.prototype={extend:function(r){var a,u;if(!r)return this;if(r instanceof I||typeof r[0]=="number"||"x"in r)a=u=V(r);else if(r=oe(r),a=r.min,u=r.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,u;return typeof r[0]=="number"||r instanceof I?r=V(r):r=oe(r),r instanceof X?(a=r.min,u=r.max):a=u=r,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=oe(r);var a=this.min,u=this.max,d=r.min,m=r.max,y=m.x>=a.x&&d.x<=u.x,P=m.y>=a.y&&d.y<=u.y;return y&&P},overlaps:function(r){r=oe(r);var a=this.min,u=this.max,d=r.min,m=r.max,y=m.x>a.x&&d.x<u.x,P=m.y>a.y&&d.y<u.y;return y&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,u=this.max,d=Math.abs(a.x-u.x)*r,m=Math.abs(a.y-u.y)*r;return oe(V(a.x-d,a.y-m),V(u.x+d,u.y+m))},equals:function(r){return r?(r=oe(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function oe(r,a){return!r||r instanceof X?r:new X(r,a)}function De(r,a){if(r)for(var u=a?[r,a]:r,d=0,m=u.length;d<m;d++)this.extend(u[d])}De.prototype={extend:function(r){var a=this._southWest,u=this._northEast,d,m;if(r instanceof le)d=r,m=r;else if(r instanceof De){if(d=r._southWest,m=r._northEast,!d||!m)return this}else return r?this.extend(Q(r)||he(r)):this;return!a&&!u?(this._southWest=new le(d.lat,d.lng),this._northEast=new le(m.lat,m.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),u.lat=Math.max(m.lat,u.lat),u.lng=Math.max(m.lng,u.lng)),this},pad:function(r){var a=this._southWest,u=this._northEast,d=Math.abs(a.lat-u.lat)*r,m=Math.abs(a.lng-u.lng)*r;return new De(new le(a.lat-d,a.lng-m),new le(u.lat+d,u.lng+m))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof le||"lat"in r?r=Q(r):r=he(r);var a=this._southWest,u=this._northEast,d,m;return r instanceof De?(d=r.getSouthWest(),m=r.getNorthEast()):d=m=r,d.lat>=a.lat&&m.lat<=u.lat&&d.lng>=a.lng&&m.lng<=u.lng},intersects:function(r){r=he(r);var a=this._southWest,u=this._northEast,d=r.getSouthWest(),m=r.getNorthEast(),y=m.lat>=a.lat&&d.lat<=u.lat,P=m.lng>=a.lng&&d.lng<=u.lng;return y&&P},overlaps:function(r){r=he(r);var a=this._southWest,u=this._northEast,d=r.getSouthWest(),m=r.getNorthEast(),y=m.lat>a.lat&&d.lat<u.lat,P=m.lng>a.lng&&d.lng<u.lng;return y&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=he(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(r,a){return r instanceof De?r:new De(r,a)}function le(r,a,u){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,u!==void 0&&(this.alt=+u)}le.prototype={equals:function(r,a){if(!r)return!1;r=Q(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return An.distance(this,Q(r))},wrap:function(){return An.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,u=a/Math.cos(Math.PI/180*this.lat);return he([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function Q(r,a,u){return r instanceof le?r:x(r)&&typeof r[0]!="object"?r.length===3?new le(r[0],r[1],r[2]):r.length===2?new le(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new le(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new le(r,a,u)}var ht={latLngToPoint:function(r,a){var u=this.projection.project(r),d=this.scale(a);return this.transformation._transform(u,d)},pointToLatLng:function(r,a){var u=this.scale(a),d=this.transformation.untransform(r,u);return this.projection.unproject(d)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(r),d=this.transformation.transform(a.min,u),m=this.transformation.transform(a.max,u);return new X(d,m)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?p(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?p(r.lat,this.wrapLat,!0):r.lat,d=r.alt;return new le(u,a,d)},wrapLatLngBounds:function(r){var a=r.getCenter(),u=this.wrapLatLng(a),d=a.lat-u.lat,m=a.lng-u.lng;if(d===0&&m===0)return r;var y=r.getSouthWest(),P=r.getNorthEast(),C=new le(y.lat-d,y.lng-m),O=new le(P.lat-d,P.lng-m);return new De(C,O)}},An=s({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var u=Math.PI/180,d=r.lat*u,m=a.lat*u,y=Math.sin((a.lat-r.lat)*u/2),P=Math.sin((a.lng-r.lng)*u/2),C=y*y+Math.cos(d)*Math.cos(m)*P*P,O=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*O}}),Mf=6378137,zl={R:Mf,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,r.lat),-u),m=Math.sin(d*a);return new I(this.R*r.lng*a,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(r){var a=180/Math.PI;return new le((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=Mf*Math.PI;return new X([-r,-r],[r,r])}()};function Vl(r,a,u,d){if(x(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=u,this._d=d}Vl.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new I((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function qr(r,a,u,d){return new Vl(r,a,u,d)}var Ul=s({},An,{code:"EPSG:3857",projection:zl,transformation:function(){var r=.5/(Math.PI*zl.R);return qr(r,.5,-r,.5)}()}),Zx=s({},Ul,{code:"EPSG:900913"});function jf(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Nf(r,a){var u="",d,m,y,P,C,O;for(d=0,y=r.length;d<y;d++){for(C=r[d],m=0,P=C.length;m<P;m++)O=C[m],u+=(m?"L":"M")+O.x+" "+O.y;u+=a?H.svg?"z":"x":""}return u||"M0 0"}var Fl=document.documentElement.style,Po="ActiveXObject"in window,Kx=Po&&!document.addEventListener,Df="msLaunchUri"in navigator&&!("documentMode"in document),$l=en("webkit"),Bf=en("android"),zf=en("android 2")||en("android 3"),qx=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gx=Bf&&en("Google")&&qx<537&&!("AudioNode"in window),Wl=!!window.opera,Vf=!Df&&en("chrome"),Uf=en("gecko")&&!$l&&!Wl&&!Po,Jx=!Vf&&en("safari"),Ff=en("phantom"),$f="OTransition"in Fl,Yx=navigator.platform.indexOf("Win")===0,Wf=Po&&"transition"in Fl,Hl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zf,Hf="MozPerspective"in Fl,Xx=!window.L_DISABLE_3D&&(Wf||Hl||Hf)&&!$f&&!Ff,Gr=typeof orientation<"u"||en("mobile"),Qx=Gr&&$l,eS=Gr&&Hl,Zf=!window.PointerEvent&&window.MSPointerEvent,Kf=!!(window.PointerEvent||Zf),qf="ontouchstart"in window||!!window.TouchEvent,tS=!window.L_NO_TOUCH&&(qf||Kf),nS=Gr&&Wl,iS=Gr&&Uf,rS=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sS=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",g,a),window.removeEventListener("testPassiveEventSupport",g,a)}catch{}return r}(),oS=function(){return!!document.createElement("canvas").getContext}(),Zl=!!(document.createElementNS&&jf("svg").createSVGRect),aS=!!Zl&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),lS=!Zl&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),uS=navigator.platform.indexOf("Mac")===0,cS=navigator.platform.indexOf("Linux")===0;function en(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var H={ie:Po,ielt9:Kx,edge:Df,webkit:$l,android:Bf,android23:zf,androidStock:Gx,opera:Wl,chrome:Vf,gecko:Uf,safari:Jx,phantom:Ff,opera12:$f,win:Yx,ie3d:Wf,webkit3d:Hl,gecko3d:Hf,any3d:Xx,mobile:Gr,mobileWebkit:Qx,mobileWebkit3d:eS,msPointer:Zf,pointer:Kf,touch:tS,touchNative:qf,mobileOpera:nS,mobileGecko:iS,retina:rS,passiveEvents:sS,canvas:oS,svg:Zl,vml:lS,inlineSvg:aS,mac:uS,linux:cS},Gf=H.msPointer?"MSPointerDown":"pointerdown",Jf=H.msPointer?"MSPointerMove":"pointermove",Yf=H.msPointer?"MSPointerUp":"pointerup",Xf=H.msPointer?"MSPointerCancel":"pointercancel",Kl={touchstart:Gf,touchmove:Jf,touchend:Yf,touchcancel:Xf},Qf={touchstart:gS,touchmove:ko,touchend:ko,touchcancel:ko},Ui={},ep=!1;function hS(r,a,u){return a==="touchstart"&&mS(),Qf[a]?(u=Qf[a].bind(this,u),r.addEventListener(Kl[a],u,!1),u):(console.warn("wrong event specified:",a),g)}function dS(r,a,u){if(!Kl[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(Kl[a],u,!1)}function fS(r){Ui[r.pointerId]=r}function pS(r){Ui[r.pointerId]&&(Ui[r.pointerId]=r)}function tp(r){delete Ui[r.pointerId]}function mS(){ep||(document.addEventListener(Gf,fS,!0),document.addEventListener(Jf,pS,!0),document.addEventListener(Yf,tp,!0),document.addEventListener(Xf,tp,!0),ep=!0)}function ko(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in Ui)a.touches.push(Ui[u]);a.changedTouches=[a],r(a)}}function gS(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ze(a),ko(r,a)}function vS(r){var a={},u,d;for(d in r)u=r[d],a[d]=u&&u.bind?u.bind(r):u;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var _S=200;function yS(r,a){r.addEventListener("dblclick",a);var u=0,d;function m(y){if(y.detail!==1){d=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var P=op(y);if(!(P.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!P.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var C=Date.now();C-u<=_S?(d++,d===2&&a(vS(y))):d=1,u=C}}}return r.addEventListener("click",m),{dblclick:a,simDblclick:m}}function wS(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var ql=Oo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jr=Oo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),np=Jr==="webkitTransition"||Jr==="OTransition"?Jr+"End":"transitionend";function ip(r){return typeof r=="string"?document.getElementById(r):r}function Yr(r,a){var u=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(r,null);u=d?d[a]:null}return u==="auto"?null:u}function ue(r,a,u){var d=document.createElement(r);return d.className=a||"",u&&u.appendChild(d),d}function we(r){var a=r.parentNode;a&&a.removeChild(r)}function Eo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Fi(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function $i(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Gl(r,a){if(r.classList!==void 0)return r.classList.contains(a);var u=Co(r);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function te(r,a){if(r.classList!==void 0)for(var u=b(a),d=0,m=u.length;d<m;d++)r.classList.add(u[d]);else if(!Gl(r,a)){var y=Co(r);Jl(r,(y?y+" ":"")+a)}}function Oe(r,a){r.classList!==void 0?r.classList.remove(a):Jl(r,_((" "+Co(r)+" ").replace(" "+a+" "," ")))}function Jl(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function Co(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ct(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&xS(r,a)}function xS(r,a){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):r.style.filter+=" progid:"+d+"(opacity="+a+")"}function Oo(r){for(var a=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in a)return r[u];return!1}function ai(r,a,u){var d=a||new I(0,0);r.style[ql]=(H.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function Re(r,a){r._leaflet_pos=a,H.any3d?ai(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function li(r){return r._leaflet_pos||new I(0,0)}var Xr,Qr,Yl;if("onselectstart"in document)Xr=function(){ee(window,"selectstart",Ze)},Qr=function(){fe(window,"selectstart",Ze)};else{var es=Oo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xr=function(){if(es){var r=document.documentElement.style;Yl=r[es],r[es]="none"}},Qr=function(){es&&(document.documentElement.style[es]=Yl,Yl=void 0)}}function Xl(){ee(window,"dragstart",Ze)}function Ql(){fe(window,"dragstart",Ze)}var Lo,eu;function tu(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ao(),Lo=r,eu=r.style.outlineStyle,r.style.outlineStyle="none",ee(window,"keydown",Ao))}function Ao(){Lo&&(Lo.style.outlineStyle=eu,Lo=void 0,eu=void 0,fe(window,"keydown",Ao))}function rp(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function nu(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var SS={__proto__:null,TRANSFORM:ql,TRANSITION:Jr,TRANSITION_END:np,get:ip,getStyle:Yr,create:ue,remove:we,empty:Eo,toFront:Fi,toBack:$i,hasClass:Gl,addClass:te,removeClass:Oe,setClass:Jl,getClass:Co,setOpacity:Ct,testProp:Oo,setTransform:ai,setPosition:Re,getPosition:li,get disableTextSelection(){return Xr},get enableTextSelection(){return Qr},disableImageDrag:Xl,enableImageDrag:Ql,preventOutline:tu,restoreOutline:Ao,getSizedParentNode:rp,getScale:nu};function ee(r,a,u,d){if(a&&typeof a=="object")for(var m in a)ru(r,m,a[m],u);else{a=b(a);for(var y=0,P=a.length;y<P;y++)ru(r,a[y],u,d)}return this}var tn="_leaflet_events";function fe(r,a,u,d){if(arguments.length===1)sp(r),delete r[tn];else if(a&&typeof a=="object")for(var m in a)su(r,m,a[m],u);else if(a=b(a),arguments.length===2)sp(r,function(C){return E(a,C)!==-1});else for(var y=0,P=a.length;y<P;y++)su(r,a[y],u,d);return this}function sp(r,a){for(var u in r[tn]){var d=u.split(/\d/)[0];(!a||a(d))&&su(r,d,null,null,u)}}var iu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ru(r,a,u,d){var m=a+h(u)+(d?"_"+h(d):"");if(r[tn]&&r[tn][m])return this;var y=function(C){return u.call(d||r,C||window.event)},P=y;!H.touchNative&&H.pointer&&a.indexOf("touch")===0?y=hS(r,a,y):H.touch&&a==="dblclick"?y=yS(r,y):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(iu[a]||a,y,H.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(y=function(C){C=C||window.event,au(r,C)&&P(C)},r.addEventListener(iu[a],y,!1)):r.addEventListener(a,P,!1):r.attachEvent("on"+a,y),r[tn]=r[tn]||{},r[tn][m]=y}function su(r,a,u,d,m){m=m||a+h(u)+(d?"_"+h(d):"");var y=r[tn]&&r[tn][m];if(!y)return this;!H.touchNative&&H.pointer&&a.indexOf("touch")===0?dS(r,a,y):H.touch&&a==="dblclick"?wS(r,y):"removeEventListener"in r?r.removeEventListener(iu[a]||a,y,!1):r.detachEvent("on"+a,y),r[tn][m]=null}function ui(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ou(r){return ru(r,"wheel",ui),this}function ts(r){return ee(r,"mousedown touchstart dblclick contextmenu",ui),r._leaflet_disable_click=!0,this}function Ze(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ci(r){return Ze(r),ui(r),this}function op(r){if(r.composedPath)return r.composedPath();for(var a=[],u=r.target;u;)a.push(u),u=u.parentNode;return a}function ap(r,a){if(!a)return new I(r.clientX,r.clientY);var u=nu(a),d=u.boundingClientRect;return new I((r.clientX-d.left)/u.x-a.clientLeft,(r.clientY-d.top)/u.y-a.clientTop)}var bS=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lp(r){return H.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/bS:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function au(r,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var TS={__proto__:null,on:ee,off:fe,stopPropagation:ui,disableScrollPropagation:ou,disableClickPropagation:ts,preventDefault:Ze,stop:ci,getPropagationPath:op,getMousePosition:ap,getWheelDelta:lp,isExternalTarget:au,addListener:ee,removeListener:fe},up=de.extend({run:function(r,a,u,d){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=li(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=se(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var u=this._startPos.add(this._offset.multiplyBy(r));a&&u._round(),Re(this._el,u),this.fire("step")},_complete:function(){Ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),re=de.extend({options:{crs:Ul,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=T(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Q(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jr&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,np,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(Q(r),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,u.zoom):this._tryAnimatedPan(r,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,u){var d=this.getZoomScale(a),m=this.getSize().divideBy(2),y=r instanceof I?r:this.latLngToContainerPoint(r),P=y.subtract(m).multiplyBy(1-1/d),C=this.containerPointToLatLng(m.add(P));return this.setView(C,a,{zoom:u})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():he(r);var u=V(a.paddingTopLeft||a.padding||[0,0]),d=V(a.paddingBottomRight||a.padding||[0,0]),m=this.getBoundsZoom(r,!1,u.add(d));if(m=typeof a.maxZoom=="number"?Math.min(a.maxZoom,m):m,m===1/0)return{center:r.getCenter(),zoom:m};var y=d.subtract(u).divideBy(2),P=this.project(r.getSouthWest(),m),C=this.project(r.getNorthEast(),m),O=this.unproject(P.add(C).divideBy(2).add(y),m);return{center:O,zoom:m}},fitBounds:function(r,a){if(r=he(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=V(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new up,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){te(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,u){if(u=u||{},u.animate===!1||!H.any3d)return this.setView(r,a,u);this._stop();var d=this.project(this.getCenter()),m=this.project(r),y=this.getSize(),P=this._zoom;r=Q(r),a=a===void 0?P:a;var C=Math.max(y.x,y.y),O=C*this.getZoomScale(P,a),j=m.distanceTo(d)||1,U=1.42,J=U*U;function ne(Ie){var $o=Ie?-1:1,db=Ie?O:C,fb=O*O-C*C+$o*J*J*j*j,pb=2*db*J*j,_u=fb/pb,$p=Math.sqrt(_u*_u+1)-_u,mb=$p<1e-9?-18:Math.log($p);return mb}function rt(Ie){return(Math.exp(Ie)-Math.exp(-Ie))/2}function Fe(Ie){return(Math.exp(Ie)+Math.exp(-Ie))/2}function Lt(Ie){return rt(Ie)/Fe(Ie)}var dt=ne(0);function Gi(Ie){return C*(Fe(dt)/Fe(dt+U*Ie))}function lb(Ie){return C*(Fe(dt)*Lt(dt+U*Ie)-rt(dt))/J}function ub(Ie){return 1-Math.pow(1-Ie,1.5)}var cb=Date.now(),Up=(ne(1)-dt)/U,hb=u.duration?1e3*u.duration:1e3*Up*.8;function Fp(){var Ie=(Date.now()-cb)/hb,$o=ub(Ie)*Up;Ie<=1?(this._flyToFrame=se(Fp,this),this._move(this.unproject(d.add(m.subtract(d).multiplyBy(lb($o)/j)),P),this.getScaleZoom(C/Gi($o),P),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Fp.call(this),this},flyToBounds:function(r,a){var u=this._getBoundsCenterZoom(r,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(r){return r=he(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,he(r));return u.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var u=V(a.paddingTopLeft||a.padding||[0,0]),d=V(a.paddingBottomRight||a.padding||[0,0]),m=this.project(this.getCenter()),y=this.project(r),P=this.getPixelBounds(),C=oe([P.min.add(u),P.max.subtract(d)]),O=C.getSize();if(!C.contains(y)){this._enforcingBounds=!0;var j=y.subtract(C.getCenter()),U=C.extend(y).getSize().subtract(O);m.x+=j.x<0?-U.x:U.x,m.y+=j.y<0?-U.y:U.y,this.panTo(this.unproject(m),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=a.divideBy(2).round(),m=u.divideBy(2).round(),y=d.subtract(m);return!y.x&&!y.y?this:(r.animate&&r.pan?this.panBy(y):(r.pan&&this._rawPanBy(y),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,r):navigator.geolocation.getCurrentPosition(a,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,u=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,u=r.coords.longitude,d=new le(a,u),m=d.toBounds(r.coords.accuracy*2),y=this._locateOptions;if(y.setView){var P=this.getBoundsZoom(m);this.setView(d,y.maxZoom?Math.min(P,y.maxZoom):P)}var C={latlng:d,bounds:m,timestamp:r.timestamp};for(var O in r.coords)typeof r.coords[O]=="number"&&(C[O]=r.coords[O]);this.fire("locationfound",C)}},addHandler:function(r,a){if(!a)return this;var u=this[r]=new a(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),we(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)we(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),d=ue("div",u,a||this._mapPane);return r&&(this._panes[r]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new De(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,u){r=he(r),u=V(u||[0,0]);var d=this.getZoom()||0,m=this.getMinZoom(),y=this.getMaxZoom(),P=r.getNorthWest(),C=r.getSouthEast(),O=this.getSize().subtract(u),j=oe(this.project(C,d),this.project(P,d)).getSize(),U=H.any3d?this.options.zoomSnap:1,J=O.x/j.x,ne=O.y/j.y,rt=a?Math.max(J,ne):Math.min(J,ne);return d=this.getScaleZoom(rt,d),U&&(d=Math.round(d/(U/100))*(U/100),d=a?Math.ceil(d/U)*U:Math.floor(d/U)*U),Math.max(m,Math.min(y,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var u=this._getTopLeftPoint(r,a);return new X(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(r)/u.scale(a)},getScaleZoom:function(r,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var d=u.zoom(r*u.scale(a));return isNaN(d)?1/0:d},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Q(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(V(r),a)},layerPointToLatLng:function(r){var a=V(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(Q(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Q(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(he(r))},distance:function(r,a){return this.options.crs.distance(Q(r),Q(a))},containerPointToLayerPoint:function(r){return V(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return V(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(V(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Q(r)))},mouseEventToContainerPoint:function(r){return ap(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=ip(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,te(r,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Yr(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Re(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(te(r.markerPane,"leaflet-zoom-hide"),te(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,u){Re(this._mapPane,new I(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var m=this._zoom!==a;this._moveStart(m,u)._move(r,a)._moveEnd(m),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,u,d){a===void 0&&(a=this._zoom);var m=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),d?u&&u.pinch&&this.fire("zoom",u):((m||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Re(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var a=r?fe:ee;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ce(this._resizeRequest),this._resizeRequest=se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var u=[],d,m=a==="mouseout"||a==="mouseover",y=r.target||r.srcElement,P=!1;y;){if(d=this._targets[h(y)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){P=!0;break}if(d&&d.listens(a,!0)&&(m&&!au(y,r)||(u.push(d),m))||y===this._container)break;y=y.parentNode}return!u.length&&!P&&!m&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var u=r.type;u==="mousedown"&&tu(a),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,u){if(r.type==="click"){var d=s({},r);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var m=this._findEventTargets(r,a);if(u){for(var y=[],P=0;P<u.length;P++)u[P].listens(a,!0)&&y.push(u[P]);m=y.concat(m)}if(m.length){a==="contextmenu"&&Ze(r);var C=m[0],O={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var j=C.getLatLng&&(!C._radius||C._radius<=10);O.containerPoint=j?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(r),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=j?C.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(P=0;P<m.length;P++)if(m[P].fire(a,O,!0),O.originalEvent._stopped||m[P].options.bubblingMouseEvents===!1&&E(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return li(this._mapPane)||new I(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var u=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var u=this.getSize()._divideBy(2);return this.project(r,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,u){var d=this._getNewPixelOrigin(u,a);return this.project(r,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(r,a,u){var d=this._getNewPixelOrigin(u,a);return oe([this.project(r.getSouthWest(),a)._subtract(d),this.project(r.getNorthWest(),a)._subtract(d),this.project(r.getSouthEast(),a)._subtract(d),this.project(r.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,u){if(!u)return r;var d=this.project(r,a),m=this.getSize().divideBy(2),y=new X(d.subtract(m),d.add(m)),P=this._getBoundsOffset(y,u,a);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?r:this.unproject(d.add(P),a)},_limitOffset:function(r,a){if(!a)return r;var u=this.getPixelBounds(),d=new X(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(r,a,u){var d=oe(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),m=d.min.subtract(r.min),y=d.max.subtract(r.max),P=this._rebound(m.x,-y.x),C=this._rebound(m.y,-y.y);return new I(P,C)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),u=this.getMaxZoom(),d=H.any3d?this.options.zoomSnap:1;return d&&(r=Math.round(r/d)*d),Math.max(a,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var u=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var r=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var u=ql,d=this._proxy.style[u];ai(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){we(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();ai(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),m=this._getCenterOffset(r)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(m)?!1:(se(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function PS(r,a){return new re(r,a)}var Ut=it.extend({options:{position:"topright"},initialize:function(r){T(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),u=this.getPosition(),d=r._controlCorners[u];return te(a,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(we(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ns=function(r){return new Ut(r)};re.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",u=this._controlContainer=ue("div",a+"control-container",this._container);function d(m,y){var P=a+m+" "+a+y;r[m+y]=ue("div",P,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)we(this._controlCorners[r]);we(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cp=Ut.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,u,d){return u<d?-1:d<u?1:0}},initialize:function(r,a,u){T(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in r)this._addLayer(r[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ut.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=ue("div",r),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),ts(a),ou(a);var d=this._section=ue("section",r+"-list");u&&(this._map.on("click",this.collapse,this),ee(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=ue("a",r+"-toggle",a);m.href="#",m.title="Layers",m.setAttribute("role","button"),ee(m,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){Ze(y),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ue("div",r+"-base",d),this._separator=ue("div",r+"-separator",d),this._overlaysList=ue("div",r+"-overlays",d),a.appendChild(d)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(d,m){return this.options.sortFunction(d.layer,m.layer,d.name,m.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Eo(this._baseLayersList),Eo(this._overlaysList),this._layerControlInputs=[];var r,a,u,d,m=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),a=a||d.overlay,r=r||!d.overlay,m+=d.overlay?0:1;return this.options.hideSingleBase&&(r=r&&m>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(h(r.target)),u=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(r,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(r){var a=document.createElement("label"),u=this._map.hasLayer(r.layer),d;r.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(r.layer),ee(d,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+r.name;var y=document.createElement("span");a.appendChild(y),y.appendChild(d),y.appendChild(m);var P=r.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,u,d=[],m=[];this._handlingClick=!0;for(var y=r.length-1;y>=0;y--)a=r[y],u=this._getLayer(a.layerId).layer,a.checked?d.push(u):a.checked||m.push(u);for(y=0;y<m.length;y++)this._map.hasLayer(m[y])&&this._map.removeLayer(m[y]);for(y=0;y<d.length;y++)this._map.hasLayer(d[y])||this._map.addLayer(d[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,u,d=this._map.getZoom(),m=r.length-1;m>=0;m--)a=r[m],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ee(r,"click",Ze),this.expand();var a=this;setTimeout(function(){fe(r,"click",Ze),a._preventClick=!1})}}),kS=function(r,a,u){return new cp(r,a,u)},lu=Ut.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",u=ue("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,u,d,m){var y=ue("a",u,d);return y.innerHTML=r,y.href="#",y.title=a,y.setAttribute("role","button"),y.setAttribute("aria-label",a),ts(y),ee(y,"click",ci),ee(y,"click",m,this),ee(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Oe(this._zoomInButton,a),Oe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(te(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(te(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lu,this.addControl(this.zoomControl))});var ES=function(r){return new lu(r)},hp=Ut.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",u=ue("div",a),d=this.options;return this._addScales(d,a+"-line",u),r.on(d.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,u){r.metric&&(this._mScale=ue("div",a,u)),r.imperial&&(this._iScale=ue("div",a,u))},_update:function(){var r=this._map,a=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/r)},_updateImperial:function(r){var a=r*3.2808399,u,d,m;a>5280?(u=a/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(m=this._getRoundNum(a),this._updateScale(this._iScale,m+" ft",m/a))},_updateScale:function(r,a,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),u=r/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),CS=function(r){return new hp(r)},OS='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',uu=Ut.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?OS+" ":"")+"Leaflet</a>"},initialize:function(r){T(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),ts(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new uu().addTo(this)});var LS=function(r){return new uu(r)};Ut.Layers=cp,Ut.Zoom=lu,Ut.Scale=hp,Ut.Attribution=uu,ns.layers=kS,ns.zoom=ES,ns.scale=CS,ns.attribution=LS;var nn=it.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(r,a){return r.addHandler(a,this),this};var AS={Events:Ue},dp=H.touch?"touchstart mousedown":"mousedown",Rn=de.extend({options:{clickTolerance:3},initialize:function(r,a,u,d){T(this,d),this._element=r,this._dragStartTarget=a||r,this._preventOutline=u},enable:function(){this._enabled||(ee(this._dragStartTarget,dp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Rn._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,dp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Gl(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Rn._dragging===this&&this.finishDrag();return}if(!(Rn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Rn._dragging=this,this._preventOutline&&tu(this._element),Xl(),Xr(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,u=rp(this._element);this._startPoint=new I(a.clientX,a.clientY),this._startPos=li(this._element),this._parentScale=nu(u);var d=r.type==="mousedown";ee(document,d?"mousemove":"touchmove",this._onMove,this),ee(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,u=new I(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ze(r),this._moved||(this.fire("dragstart"),this._moved=!0,te(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Re(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),Ql(),Qr();var a=this._moved&&this._moving;this._moving=!1,Rn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function fp(r,a,u){var d,m=[1,4,2,8],y,P,C,O,j,U,J,ne;for(y=0,U=r.length;y<U;y++)r[y]._code=hi(r[y],a);for(C=0;C<4;C++){for(J=m[C],d=[],y=0,U=r.length,P=U-1;y<U;P=y++)O=r[y],j=r[P],O._code&J?j._code&J||(ne=Ro(j,O,J,a,u),ne._code=hi(ne,a),d.push(ne)):(j._code&J&&(ne=Ro(j,O,J,a,u),ne._code=hi(ne,a),d.push(ne)),d.push(O));r=d}return r}function pp(r,a){var u,d,m,y,P,C,O,j,U;if(!r||r.length===0)throw new Error("latlngs not passed");Ot(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var J=Q([0,0]),ne=he(r),rt=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());rt<1700&&(J=cu(r));var Fe=r.length,Lt=[];for(u=0;u<Fe;u++){var dt=Q(r[u]);Lt.push(a.project(Q([dt.lat-J.lat,dt.lng-J.lng])))}for(C=O=j=0,u=0,d=Fe-1;u<Fe;d=u++)m=Lt[u],y=Lt[d],P=m.y*y.x-y.y*m.x,O+=(m.x+y.x)*P,j+=(m.y+y.y)*P,C+=P*3;C===0?U=Lt[0]:U=[O/C,j/C];var Gi=a.unproject(V(U));return Q([Gi.lat+J.lat,Gi.lng+J.lng])}function cu(r){for(var a=0,u=0,d=0,m=0;m<r.length;m++){var y=Q(r[m]);a+=y.lat,u+=y.lng,d++}return Q([a/d,u/d])}var RS={__proto__:null,clipPolygon:fp,polygonCenter:pp,centroid:cu};function mp(r,a){if(!a||!r.length)return r.slice();var u=a*a;return r=jS(r,u),r=MS(r,u),r}function gp(r,a,u){return Math.sqrt(is(r,a,u,!0))}function IS(r,a,u){return is(r,a,u)}function MS(r,a){var u=r.length,d=typeof Uint8Array<"u"?Uint8Array:Array,m=new d(u);m[0]=m[u-1]=1,hu(r,m,a,0,u-1);var y,P=[];for(y=0;y<u;y++)m[y]&&P.push(r[y]);return P}function hu(r,a,u,d,m){var y=0,P,C,O;for(C=d+1;C<=m-1;C++)O=is(r[C],r[d],r[m],!0),O>y&&(P=C,y=O);y>u&&(a[P]=1,hu(r,a,u,d,P),hu(r,a,u,P,m))}function jS(r,a){for(var u=[r[0]],d=1,m=0,y=r.length;d<y;d++)NS(r[d],r[m])>a&&(u.push(r[d]),m=d);return m<y-1&&u.push(r[y-1]),u}var vp;function _p(r,a,u,d,m){var y=d?vp:hi(r,u),P=hi(a,u),C,O,j;for(vp=P;;){if(!(y|P))return[r,a];if(y&P)return!1;C=y||P,O=Ro(r,a,C,u,m),j=hi(O,u),C===y?(r=O,y=j):(a=O,P=j)}}function Ro(r,a,u,d,m){var y=a.x-r.x,P=a.y-r.y,C=d.min,O=d.max,j,U;return u&8?(j=r.x+y*(O.y-r.y)/P,U=O.y):u&4?(j=r.x+y*(C.y-r.y)/P,U=C.y):u&2?(j=O.x,U=r.y+P*(O.x-r.x)/y):u&1&&(j=C.x,U=r.y+P*(C.x-r.x)/y),new I(j,U,m)}function hi(r,a){var u=0;return r.x<a.min.x?u|=1:r.x>a.max.x&&(u|=2),r.y<a.min.y?u|=4:r.y>a.max.y&&(u|=8),u}function NS(r,a){var u=a.x-r.x,d=a.y-r.y;return u*u+d*d}function is(r,a,u,d){var m=a.x,y=a.y,P=u.x-m,C=u.y-y,O=P*P+C*C,j;return O>0&&(j=((r.x-m)*P+(r.y-y)*C)/O,j>1?(m=u.x,y=u.y):j>0&&(m+=P*j,y+=C*j)),P=r.x-m,C=r.y-y,d?P*P+C*C:new I(m,y)}function Ot(r){return!x(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function yp(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ot(r)}function wp(r,a){var u,d,m,y,P,C,O,j;if(!r||r.length===0)throw new Error("latlngs not passed");Ot(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var U=Q([0,0]),J=he(r),ne=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());ne<1700&&(U=cu(r));var rt=r.length,Fe=[];for(u=0;u<rt;u++){var Lt=Q(r[u]);Fe.push(a.project(Q([Lt.lat-U.lat,Lt.lng-U.lng])))}for(u=0,d=0;u<rt-1;u++)d+=Fe[u].distanceTo(Fe[u+1])/2;if(d===0)j=Fe[0];else for(u=0,y=0;u<rt-1;u++)if(P=Fe[u],C=Fe[u+1],m=P.distanceTo(C),y+=m,y>d){O=(y-d)/m,j=[C.x-O*(C.x-P.x),C.y-O*(C.y-P.y)];break}var dt=a.unproject(V(j));return Q([dt.lat+U.lat,dt.lng+U.lng])}var DS={__proto__:null,simplify:mp,pointToSegmentDistance:gp,closestPointOnSegment:IS,clipSegment:_p,_getEdgeIntersection:Ro,_getBitCode:hi,_sqClosestPointOnSegment:is,isFlat:Ot,_flat:yp,polylineCenter:wp},du={project:function(r){return new I(r.lng,r.lat)},unproject:function(r){return new le(r.y,r.x)},bounds:new X([-180,-90],[180,90])},fu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,u=this.R,d=r.lat*a,m=this.R_MINOR/u,y=Math.sqrt(1-m*m),P=y*Math.sin(d),C=Math.tan(Math.PI/4-d/2)/Math.pow((1-P)/(1+P),y/2);return d=-u*Math.log(Math.max(C,1e-10)),new I(r.lng*a*u,d)},unproject:function(r){for(var a=180/Math.PI,u=this.R,d=this.R_MINOR/u,m=Math.sqrt(1-d*d),y=Math.exp(-r.y/u),P=Math.PI/2-2*Math.atan(y),C=0,O=.1,j;C<15&&Math.abs(O)>1e-7;C++)j=m*Math.sin(P),j=Math.pow((1-j)/(1+j),m/2),O=Math.PI/2-2*Math.atan(y*j)-P,P+=O;return new le(P*a,r.x*a/u)}},BS={__proto__:null,LonLat:du,Mercator:fu,SphericalMercator:zl},zS=s({},An,{code:"EPSG:3395",projection:fu,transformation:function(){var r=.5/(Math.PI*fu.R);return qr(r,.5,-r,.5)}()}),xp=s({},An,{code:"EPSG:4326",projection:du,transformation:qr(1/180,1,-1/180,.5)}),VS=s({},ht,{projection:du,transformation:qr(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var u=a.lng-r.lng,d=a.lat-r.lat;return Math.sqrt(u*u+d*d)},infinite:!0});ht.Earth=An,ht.EPSG3395=zS,ht.EPSG3857=Ul,ht.EPSG900913=Zx,ht.EPSG4326=xp,ht.Simple=VS;var Ft=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});re.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=h(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},_addLayers:function(r){r=r?x(r)?r:[r]:[];for(var a=0,u=r.length;a<u;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=h(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var m=this._zoomBoundLayers[d].options;r=m.minZoom===void 0?r:Math.min(r,m.minZoom),a=m.maxZoom===void 0?a:Math.max(a,m.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wi=Ft.extend({initialize:function(r,a){T(this,a),this._layers={};var u,d;if(r)for(u=0,d=r.length;u<d;u++)this.addLayer(r[u])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[r]&&d[r].apply(d,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),US=function(r,a){return new Wi(r,a)},fn=Wi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Wi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Wi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new De;for(var a in this._layers){var u=this._layers[a];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),FS=function(r,a){return new fn(r,a)},Hi=it.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){T(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(r,a){var u=this.options,d=u[a+"Size"];typeof d=="number"&&(d=[d,d]);var m=V(d),y=V(a==="shadow"&&u.shadowAnchor||u.iconAnchor||m&&m.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(u.className||""),y&&(r.style.marginLeft=-y.x+"px",r.style.marginTop=-y.y+"px"),m&&(r.style.width=m.x+"px",r.style.height=m.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return H.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function $S(r){return new Hi(r)}var rs=Hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof rs.imagePath!="string"&&(rs.imagePath=this._detectIconPath()),(this.options.imagePath||rs.imagePath)+Hi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(u,d,m){var y=d.exec(u);return y&&y[m]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ue("div","leaflet-default-icon-path",document.body),a=Yr(r,"background-image")||Yr(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Sp=nn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Rn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),te(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,u=a._map,d=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,y=li(a._icon),P=u.getPixelBounds(),C=u.getPixelOrigin(),O=oe(P.min._subtract(C).add(m),P.max._subtract(C).subtract(m));if(!O.contains(y)){var j=V((Math.max(O.max.x,y.x)-O.max.x)/(P.max.x-O.max.x)-(Math.min(O.min.x,y.x)-O.min.x)/(P.min.x-O.min.x),(Math.max(O.max.y,y.y)-O.max.y)/(P.max.y-O.max.y)-(Math.min(O.min.y,y.y)-O.min.y)/(P.min.y-O.min.y)).multiplyBy(d);u.panBy(j,{animate:!1}),this._draggable._newPos._add(j),this._draggable._startPos._add(j),Re(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=se(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ce(this._panRequest),this._panRequest=se(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,u=a._shadow,d=li(a._icon),m=a._map.layerPointToLatLng(d);u&&Re(u,d),a._latlng=m,r.latlng=m,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Io=Ft.extend({options:{icon:new rs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){T(this,a),this._latlng=Q(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=Q(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),te(u,a),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(u,"focus",this._panOnFocus,this);var m=r.icon.createShadow(this._shadow),y=!1;m!==this._shadow&&(this._removeShadow(),y=!0),m&&(te(m,a),m.alt=""),this._shadow=m,r.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&y&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),we(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&we(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Re(this._icon,r),this._shadow&&Re(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sp)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sp(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ct(this._icon,r),this._shadow&&Ct(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,u=a.iconSize?V(a.iconSize):V(0,0),d=a.iconAnchor?V(a.iconAnchor):V(0,0);r.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function WS(r,a){return new Io(r,a)}var In=Ft.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return T(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Mo=In.extend({options:{fill:!0,radius:10},initialize:function(r,a){T(this,a),this._latlng=Q(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=Q(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return In.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,u=this._clickTolerance(),d=[r+u,a+u];this._pxBounds=new X(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function HS(r,a){return new Mo(r,a)}var pu=Mo.extend({initialize:function(r,a,u){if(typeof a=="number"&&(a=s({},u,{radius:a})),T(this,a),this._latlng=Q(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new De(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:In.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===An.distance){var m=Math.PI/180,y=this._mRadius/An.R/m,P=u.project([a+y,r]),C=u.project([a-y,r]),O=P.add(C).divideBy(2),j=u.unproject(O).lat,U=Math.acos((Math.cos(y*m)-Math.sin(a*m)*Math.sin(j*m))/(Math.cos(a*m)*Math.cos(j*m)))/m;(isNaN(U)||U===0)&&(U=y/Math.cos(Math.PI/180*a)),this._point=O.subtract(u.getPixelOrigin()),this._radius=isNaN(U)?0:O.x-u.project([j,r-U]).x,this._radiusY=O.y-P.y}else{var J=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(J).x}this._updateBounds()}});function ZS(r,a,u){return new pu(r,a,u)}var pn=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){T(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,u=null,d=is,m,y,P=0,C=this._parts.length;P<C;P++)for(var O=this._parts[P],j=1,U=O.length;j<U;j++){m=O[j-1],y=O[j];var J=d(r,m,y,!0);J<a&&(a=J,u=d(r,m,y))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=Q(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new De,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],u=Ot(r),d=0,m=r.length;d<m;d++)u?(a[d]=Q(r[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(r[d]);return a},_project:function(){var r=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new I(r,r);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,u){var d=r[0]instanceof le,m=r.length,y,P;if(d){for(P=[],y=0;y<m;y++)P[y]=this._map.latLngToLayerPoint(r[y]),u.extend(P[y]);a.push(P)}else for(y=0;y<m;y++)this._projectLatlngs(r[y],a,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,d,m,y,P,C,O;for(u=0,m=0,y=this._rings.length;u<y;u++)for(O=this._rings[u],d=0,P=O.length;d<P-1;d++)C=_p(O[d],O[d+1],r,d,!0),C&&(a[m]=a[m]||[],a[m].push(C[0]),(C[1]!==O[d+1]||d===P-2)&&(a[m].push(C[1]),m++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,u=0,d=r.length;u<d;u++)r[u]=mp(r[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var u,d,m,y,P,C,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,y=this._parts.length;u<y;u++)for(C=this._parts[u],d=0,P=C.length,m=P-1;d<P;m=d++)if(!(!a&&d===0)&&gp(r,C[m],C[d])<=O)return!0;return!1}});function KS(r,a){return new pn(r,a)}pn._flat=yp;var Zi=pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=pn.prototype._convertLatLngs.call(this,r),u=a.length;return u>=2&&a[0]instanceof le&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(r){pn.prototype._setLatLngs.call(this,r),Ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,u=new I(a,a);if(r=new X(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,m=this._rings.length,y;d<m;d++)y=fp(this._rings[d],r,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,u,d,m,y,P,C,O,j;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(y=0,O=this._parts.length;y<O;y++)for(u=this._parts[y],P=0,j=u.length,C=j-1;P<j;C=P++)d=u[P],m=u[C],d.y>r.y!=m.y>r.y&&r.x<(m.x-d.x)*(r.y-d.y)/(m.y-d.y)+d.x&&(a=!a);return a||pn.prototype._containsPoint.call(this,r,!0)}});function qS(r,a){return new Zi(r,a)}var mn=fn.extend({initialize:function(r,a){T(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=x(r)?r:r.features,u,d,m;if(a){for(u=0,d=a.length;u<d;u++)m=a[u],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var y=this.options;if(y.filter&&!y.filter(r))return this;var P=jo(r,y);return P?(P.feature=Bo(r),P.defaultOptions=P.options,this.resetStyle(P),y.onEachFeature&&y.onEachFeature(r,P),this.addLayer(P)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function jo(r,a){var u=r.type==="Feature"?r.geometry:r,d=u?u.coordinates:null,m=[],y=a&&a.pointToLayer,P=a&&a.coordsToLatLng||mu,C,O,j,U;if(!d&&!u)return null;switch(u.type){case"Point":return C=P(d),bp(y,r,C,a);case"MultiPoint":for(j=0,U=d.length;j<U;j++)C=P(d[j]),m.push(bp(y,r,C,a));return new fn(m);case"LineString":case"MultiLineString":return O=No(d,u.type==="LineString"?0:1,P),new pn(O,a);case"Polygon":case"MultiPolygon":return O=No(d,u.type==="Polygon"?1:2,P),new Zi(O,a);case"GeometryCollection":for(j=0,U=u.geometries.length;j<U;j++){var J=jo({geometry:u.geometries[j],type:"Feature",properties:r.properties},a);J&&m.push(J)}return new fn(m);case"FeatureCollection":for(j=0,U=u.features.length;j<U;j++){var ne=jo(u.features[j],a);ne&&m.push(ne)}return new fn(m);default:throw new Error("Invalid GeoJSON object.")}}function bp(r,a,u,d){return r?r(a,u):new Io(u,d&&d.markersInheritOptions&&d)}function mu(r){return new le(r[1],r[0],r[2])}function No(r,a,u){for(var d=[],m=0,y=r.length,P;m<y;m++)P=a?No(r[m],a-1,u):(u||mu)(r[m]),d.push(P);return d}function gu(r,a){return r=Q(r),r.alt!==void 0?[v(r.lng,a),v(r.lat,a),v(r.alt,a)]:[v(r.lng,a),v(r.lat,a)]}function Do(r,a,u,d){for(var m=[],y=0,P=r.length;y<P;y++)m.push(a?Do(r[y],Ot(r[y])?0:a-1,u,d):gu(r[y],d));return!a&&u&&m.length>0&&m.push(m[0].slice()),m}function Ki(r,a){return r.feature?s({},r.feature,{geometry:a}):Bo(a)}function Bo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var vu={toGeoJSON:function(r){return Ki(this,{type:"Point",coordinates:gu(this.getLatLng(),r)})}};Io.include(vu),pu.include(vu),Mo.include(vu),pn.include({toGeoJSON:function(r){var a=!Ot(this._latlngs),u=Do(this._latlngs,a?1:0,!1,r);return Ki(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),Zi.include({toGeoJSON:function(r){var a=!Ot(this._latlngs),u=a&&!Ot(this._latlngs[0]),d=Do(this._latlngs,u?2:a?1:0,!0,r);return a||(d=[d]),Ki(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Wi.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(r).geometry.coordinates)}),Ki(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var u=a==="GeometryCollection",d=[];return this.eachLayer(function(m){if(m.toGeoJSON){var y=m.toGeoJSON(r);if(u)d.push(y.geometry);else{var P=Bo(y);P.type==="FeatureCollection"?d.push.apply(d,P.features):d.push(P)}}}),u?Ki(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Tp(r,a){return new mn(r,a)}var GS=Tp,zo=Ft.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,u){this._url=r,this._bounds=he(a),T(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){we(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Fi(this._image),this},bringToBack:function(){return this._map&&$i(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=he(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:ue("img");if(te(a,"leaflet-image-layer"),this._zoomAnimated&&te(a,"leaflet-zoom-animated"),this.options.className&&te(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ai(this._image,u,a)},_reset:function(){var r=this._image,a=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();Re(r,a.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),JS=function(r,a,u){return new zo(r,a,u)},Pp=zo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:ue("video");if(te(a,"leaflet-image-layer"),this._zoomAnimated&&te(a,"leaflet-zoom-animated"),this.options.className&&te(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onloadeddata=l(this.fire,this,"load"),r){for(var u=a.getElementsByTagName("source"),d=[],m=0;m<u.length;m++)d.push(u[m].src);this._url=u.length>0?d:[a.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var P=ue("source");P.src=this._url[y],a.appendChild(P)}}});function YS(r,a,u){return new Pp(r,a,u)}var kp=zo.extend({_initImage:function(){var r=this._image=this._url;te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=g,r.onmousemove=g}});function XS(r,a,u){return new kp(r,a,u)}var rn=Ft.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof le||x(r))?(this._latlng=Q(r),T(this,a)):(T(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(l(we,void 0,this._container),200)):we(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Q(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fi(this._container),this},bringToBack:function(){return this._map&&$i(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof fn){a=null;var u=this._source._layers;for(var d in u)if(u[d]._map){a=u[d];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=V(this.options.offset),u=this._getAnchor();this._zoomAnimated?Re(this._container,r.add(u)):a=a.add(r).add(u);var d=this._containerBottom=-a.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(r,a,u,d){var m=a;return m instanceof r||(m=new r(d).setContent(a)),u&&m.setLatLng(u),m}}),Ft.include({_initOverlay:function(r,a,u,d){var m=u;return m instanceof r?(T(m,d),m._source=this):(m=a&&!d?a:new r(d,this),m.setContent(u)),m}});var Vo=rn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,rn.prototype.openOn.call(this,r)},onAdd:function(r){rn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",ui))},onRemove:function(r){rn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",ui))},getEvents:function(){var r=rn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=ue("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ue("div",r+"-content-wrapper",a);if(this._contentNode=ue("div",r+"-content",u),ts(a),ou(this._contentNode),ee(a,"contextmenu",ui),this._tipContainer=ue("div",r+"-tip-container",a),this._tip=ue("div",r+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ue("a",r+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',ee(d,"click",function(m){Ze(m),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var d=r.offsetHeight,m=this.options.maxHeight,y="leaflet-popup-scrolled";m&&d>m?(a.height=m+"px",te(r,y)):Oe(r,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();Re(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(Yr(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,d=this._containerWidth,m=new I(this._containerLeft,-u-this._containerBottom);m._add(li(this._container));var y=r.layerPointToContainerPoint(m),P=V(this.options.autoPanPadding),C=V(this.options.autoPanPaddingTopLeft||P),O=V(this.options.autoPanPaddingBottomRight||P),j=r.getSize(),U=0,J=0;y.x+d+O.x>j.x&&(U=y.x+d-j.x+O.x),y.x-U-C.x<0&&(U=y.x-C.x),y.y+u+O.y>j.y&&(J=y.y+u-j.y+O.y),y.y-J-C.y<0&&(J=y.y-C.y),(U||J)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([U,J]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),QS=function(r,a){return new Vo(r,a)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(r,a,u){return this._initOverlay(Vo,r,a,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ft.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Vo,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof fn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ci(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof In)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Uo=rn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){rn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){rn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=rn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,u,d=this._map,m=this._container,y=d.latLngToContainerPoint(d.getCenter()),P=d.layerPointToContainerPoint(r),C=this.options.direction,O=m.offsetWidth,j=m.offsetHeight,U=V(this.options.offset),J=this._getAnchor();C==="top"?(a=O/2,u=j):C==="bottom"?(a=O/2,u=0):C==="center"?(a=O/2,u=j/2):C==="right"?(a=0,u=j/2):C==="left"?(a=O,u=j/2):P.x<y.x?(C="right",a=0,u=j/2):(C="left",a=O+(U.x+J.x)*2,u=j/2),r=r.subtract(V(a,u,!0)).add(U).add(J),Oe(m,"leaflet-tooltip-right"),Oe(m,"leaflet-tooltip-left"),Oe(m,"leaflet-tooltip-top"),Oe(m,"leaflet-tooltip-bottom"),te(m,"leaflet-tooltip-"+C),Re(m,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ct(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),eb=function(r,a){return new Uo(r,a)};re.include({openTooltip:function(r,a,u){return this._initOverlay(Uo,r,a,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ft.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Uo,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof fn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(ee(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ee(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,u,d;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),d=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var Ep=Hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Eo(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=V(u.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function tb(r){return new Ep(r)}Hi.Default=rs;var ss=Ft.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){T(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),we(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($i(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof I?r:new I(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,u=-r(-1/0,1/0),d=0,m=a.length,y;d<m;d++)y=a[d].style.zIndex,a[d]!==this._container&&y&&(u=r(u,+y));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){Ct(this._container,this.options.opacity);var r=+new Date,a=!1,u=!1;for(var d in this._tiles){var m=this._tiles[d];if(!(!m.current||!m.loaded)){var y=Math.min(1,(r-m.loaded)/200);Ct(m.el,y),y<1?a=!0:(m.active?u=!0:this._onOpaqueTile(m),m.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(Ce(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=a-Math.abs(r-u),this._onUpdateLevel(u)):(we(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[r],m=this._map;return d||(d=this._levels[r]={},d.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=m.project(m.unproject(m.getPixelOrigin()),r).round(),d.zoom=r,this._setZoomTransform(d,m.getCenter(),m.getZoom()),g(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var r,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)we(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,u,d){var m=Math.floor(r/2),y=Math.floor(a/2),P=u-1,C=new I(+m,+y);C.z=+P;var O=this._tileCoordsToKey(C),j=this._tiles[O];return j&&j.active?(j.retain=!0,!0):(j&&j.loaded&&(j.retain=!0),P>d?this._retainParent(m,y,P,d):!1)},_retainChildren:function(r,a,u,d){for(var m=2*r;m<2*r+2;m++)for(var y=2*a;y<2*a+2;y++){var P=new I(m,y);P.z=u+1;var C=this._tileCoordsToKey(P),O=this._tiles[C];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);u+1<d&&this._retainChildren(m,y,u+1,d)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,u,d){var m=Math.round(a);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var y=this.options.updateWhenZooming&&m!==this._tileZoom;(!d||y)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,a)},_setZoomTransform:function(r,a,u){var d=this._map.getZoomScale(u,r.zoom),m=r.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,u)).round();H.any3d?ai(r.el,m,d):Re(r.el,m)},_resetGrid:function(){var r=this._map,a=r.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],d).x/u.x),Math.ceil(r.project([0,a.wrapLng[1]],d).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],d).y/u.x),Math.ceil(r.project([a.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(u,this._tileZoom),m=a.project(r,this._tileZoom).floor(),y=a.getSize().divideBy(d*2);return new X(m.subtract(y),m.add(y))},_update:function(r){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(r),m=this._pxBoundsToTileRange(d),y=m.getCenter(),P=[],C=this.options.keepBuffer,O=new X(m.getBottomLeft().subtract([C,-C]),m.getTopRight().add([C,-C]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var j in this._tiles){var U=this._tiles[j].coords;(U.z!==this._tileZoom||!O.contains(new I(U.x,U.y)))&&(this._tiles[j].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var J=m.min.y;J<=m.max.y;J++)for(var ne=m.min.x;ne<=m.max.x;ne++){var rt=new I(ne,J);if(rt.z=this._tileZoom,!!this._isValidTile(rt)){var Fe=this._tiles[this._tileCoordsToKey(rt)];Fe?Fe.current=!0:P.push(rt)}}if(P.sort(function(dt,Gi){return dt.distanceTo(y)-Gi.distanceTo(y)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Lt=document.createDocumentFragment();for(ne=0;ne<P.length;ne++)this._addTile(P[ne],Lt);this._level.el.appendChild(Lt)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!a.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(r);return he(this.options.bounds).overlaps(d)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,u=this.getTileSize(),d=r.scaleBy(u),m=d.add(u),y=a.unproject(d,r.z),P=a.unproject(m,r.z);return[y,P]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),u=new De(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),u=new I(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(r){var a=this._tiles[r];a&&(we(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){te(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=g,r.onmousemove=g,H.ielt9&&this.options.opacity<1&&Ct(r,this.options.opacity)},_addTile:function(r,a){var u=this._getTilePos(r),d=this._tileCoordsToKey(r),m=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(m),this.createTile.length<2&&se(l(this._tileReady,this,r,null,m)),Re(m,u),this._tiles[d]={el:m,coords:r,current:!0},a.appendChild(m),this.fire("tileloadstart",{tile:m,coords:r})},_tileReady:function(r,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:r});var d=this._tileCoordsToKey(r);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Ct(u.el,0),Ce(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(te(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?se(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new I(this._wrapX?p(r.x,this._wrapX):r.x,this._wrapY?p(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new X(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function nb(r){return new ss(r)}var qi=ss.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=T(this,a),a.detectRetina&&H.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var u=document.createElement("img");return ee(u,"load",l(this._tileOnLoad,this,a,u)),ee(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var a={r:H.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=u),a["-y"]=u}return w(this._url,s(a,this.options))},_tileOnLoad:function(r,a){H.ielt9?setTimeout(l(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,u){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),r(u,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(r=a-r),r+d},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=g,a.onerror=g,!a.complete)){a.src=A;var u=this._tiles[r].coords;we(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",A),ss.prototype._removeTile.call(this,r)},_tileReady:function(r,a,u){if(!(!this._map||u&&u.getAttribute("src")===A))return ss.prototype._tileReady.call(this,r,a,u)}});function Cp(r,a){return new qi(r,a)}var Op=qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var u=s({},this.defaultWmsParams);for(var d in a)d in this.options||(u[d]=a[d]);a=T(this,a);var m=a.detectRetina&&H.retina?2:1,y=this.getTileSize();u.width=y.x*m,u.height=y.y*m,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,qi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),u=this._crs,d=oe(u.project(a[0]),u.project(a[1])),m=d.min,y=d.max,P=(this._wmsVersion>=1.3&&this._crs===xp?[m.y,m.x,y.y,y.x]:[m.x,m.y,y.x,y.y]).join(","),C=qi.prototype.getTileUrl.call(this,r);return C+k(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(r,a){return s(this.wmsParams,r),a||this.redraw(),this}});function ib(r,a){return new Op(r,a)}qi.WMS=Op,Cp.wms=ib;var gn=Ft.extend({options:{padding:.1},initialize:function(r){T(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var u=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,a),y=d.multiplyBy(-u).add(m).subtract(this._map._getNewPixelOrigin(r,a));H.any3d?ai(this._container,y,u):Re(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new X(u,u.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lp=gn.extend({options:{tolerance:0},getEvents:function(){var r=gn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ee(r,"mousemove",this._onMouseMove,this),ee(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ce(this._redrawRequest),delete this._ctx,we(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var r=this._bounds,a=this._container,u=r.getSize(),d=H.retina?2:1;Re(a,r.min),a.width=d*u.x,a.height=d*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){gn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,u=a.next,d=a.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),u=[],d,m;for(m=0;m<a.length;m++){if(d=Number(a[m]),isNaN(d))return;u.push(d)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||se(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)r=d.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var u,d,m,y,P=r._parts,C=P.length,O=this._ctx;if(C){for(O.beginPath(),u=0;u<C;u++){for(d=0,m=P[u].length;d<m;d++)y=P[u][d],O[d?"lineTo":"moveTo"](y.x,y.y);a&&O.closePath()}this._fillStroke(O,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,u=this._ctx,d=Math.max(Math.round(r._radius),1),m=(Math.max(Math.round(r._radiusY),1)||d)/d;m!==1&&(u.save(),u.scale(1,m)),u.beginPath(),u.arc(a.x,a.y/m,d,0,Math.PI*2,!1),m!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,a){var u=a.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(a)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(r),d&&(te(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,u){this._map._fireDOMEvent(a,u||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var u=a.next,d=a.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var u=a.next,d=a.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function Ap(r){return H.canvas?new Lp(r):null}var os=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),rb={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=os("shape");te(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=os("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;we(a),r.removeInteractiveTarget(a),delete this._layers[h(r)]},_updateStyle:function(r){var a=r._stroke,u=r._fill,d=r.options,m=r._container;m.stroked=!!d.stroke,m.filled=!!d.fill,d.stroke?(a||(a=r._stroke=os("stroke")),m.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=x(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(m.removeChild(a),r._stroke=null),d.fill?(u||(u=r._fill=os("fill")),m.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(m.removeChild(u),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),u=Math.round(r._radius),d=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){Fi(r._container)},_bringToBack:function(r){$i(r._container)}},Fo=H.vml?os:jf,as=gn.extend({_initContainer:function(){this._container=Fo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){we(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var r=this._bounds,a=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),Re(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Fo("path");r.options.className&&te(a,r.options.className),r.options.interactive&&te(a,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){we(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,u=r.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,Nf(r._parts,a))},_updateCircle:function(r){var a=r._point,u=Math.max(Math.round(r._radius),1),d=Math.max(Math.round(r._radiusY),1)||u,m="a"+u+","+d+" 0 1,0 ",y=r._empty()?"M0 0":"M"+(a.x-u)+","+a.y+m+u*2+",0 "+m+-u*2+",0 ";this._setPath(r,y)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){Fi(r._path)},_bringToBack:function(r){$i(r._path)}});H.vml&&as.include(rb);function Rp(r){return H.svg||H.vml?new as(r):null}re.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&Ap(r)||Rp(r)}});var Ip=Zi.extend({initialize:function(r,a){Zi.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=he(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function sb(r,a){return new Ip(r,a)}as.create=Fo,as.pointsToPath=Nf,mn.geometryToLayer=jo,mn.coordsToLatLng=mu,mn.coordsToLatLngs=No,mn.latLngToCoords=gu,mn.latLngsToCoords=Do,mn.getFeature=Ki,mn.asFeature=Bo,re.mergeOptions({boxZoom:!0});var Mp=nn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){we(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xr(),Xl(),this._startPoint=this._map.mouseEventToContainerPoint(r),ee(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new X(this._point,this._startPoint),u=a.getSize();Re(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(we(this._box),Oe(this._container,"leaflet-crosshair")),Qr(),Ql(),fe(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new De(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",Mp),re.mergeOptions({doubleClickZoom:!0});var jp=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,u=a.getZoom(),d=a.options.zoomDelta,m=r.originalEvent.shiftKey?u-d:u+d;a.options.doubleClickZoom==="center"?a.setZoom(m):a.setZoomAround(r.containerPoint,m)}});re.addInitHook("addHandler","doubleClickZoom",jp),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Np=nn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Rn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=he(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,m=(d-a+u)%r+a-u,y=(d+a+u)%r-a-u,P=Math.abs(m+u)<Math.abs(y+u)?m:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(r){var a=this._map,u=a.options,d=!u.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),d)a.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,P=u.easeLinearity,C=m.multiplyBy(P/y),O=C.distanceTo([0,0]),j=Math.min(u.inertiaMaxSpeed,O),U=C.multiplyBy(j/O),J=j/(u.inertiaDeceleration*P),ne=U.multiplyBy(-J/2).round();!ne.x&&!ne.y?a.fire("moveend"):(ne=a._limitOffset(ne,a.options.maxBounds),se(function(){a.panBy(ne,{duration:J,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",Np),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dp=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ee(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,u=r.scrollTop||a.scrollTop,d=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},u=this.keyCodes,d,m;for(d=0,m=u.left.length;d<m;d++)a[u.left[d]]=[-1*r,0];for(d=0,m=u.right.length;d<m;d++)a[u.right[d]]=[r,0];for(d=0,m=u.down.length;d<m;d++)a[u.down[d]]=[0,r];for(d=0,m=u.up.length;d<m;d++)a[u.up[d]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},u=this.keyCodes,d,m;for(d=0,m=u.zoomIn.length;d<m;d++)a[u.zoomIn[d]]=r;for(d=0,m=u.zoomOut.length;d<m;d++)a[u.zoomOut[d]]=-r},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,u=this._map,d;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[a],r.shiftKey&&(d=V(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(V(d),u.options.maxBounds)),u.options.worldCopyJump){var m=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(m)}else u.panBy(d)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ci(r)}}});re.addInitHook("addHandler","keyboard",Dp),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bp=nn.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=lp(r),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),ci(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,y=u?Math.ceil(m/u)*u:m,P=r._limitZoom(a+(this._delta>0?y:-y))-a;this._delta=0,this._startTime=null,P&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+P):r.setZoomAround(this._lastMousePos,a+P))}});re.addInitHook("addHandler","scrollWheelZoom",Bp);var ob=600;re.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var zp=nn.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new I(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",Ze),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),ob),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){fe(document,"touchend",Ze),fe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new I(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});re.addInitHook("addHandler","tapHold",zp),re.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var Vp=nn.extend({addHooks:function(){te(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(r.touches[0]),d=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),Ze(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(r.touches[0]),d=a.mouseEventToContainerPoint(r.touches[1]),m=u.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(m,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&m<1||this._zoom>a.getMaxZoom()&&m>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var y=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(m===1&&y.x===0&&y.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Ce(this._animRequest);var P=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=se(P,this,!0),Ze(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ce(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",Vp),re.BoxZoom=Mp,re.DoubleClickZoom=jp,re.Drag=Np,re.Keyboard=Dp,re.ScrollWheelZoom=Bp,re.TapHold=zp,re.TouchZoom=Vp,n.Bounds=X,n.Browser=H,n.CRS=ht,n.Canvas=Lp,n.Circle=pu,n.CircleMarker=Mo,n.Class=it,n.Control=Ut,n.DivIcon=Ep,n.DivOverlay=rn,n.DomEvent=TS,n.DomUtil=SS,n.Draggable=Rn,n.Evented=de,n.FeatureGroup=fn,n.GeoJSON=mn,n.GridLayer=ss,n.Handler=nn,n.Icon=Hi,n.ImageOverlay=zo,n.LatLng=le,n.LatLngBounds=De,n.Layer=Ft,n.LayerGroup=Wi,n.LineUtil=DS,n.Map=re,n.Marker=Io,n.Mixin=AS,n.Path=In,n.Point=I,n.PolyUtil=RS,n.Polygon=Zi,n.Polyline=pn,n.Popup=Vo,n.PosAnimation=up,n.Projection=BS,n.Rectangle=Ip,n.Renderer=gn,n.SVG=as,n.SVGOverlay=kp,n.TileLayer=qi,n.Tooltip=Uo,n.Transformation=Vl,n.Util=dn,n.VideoOverlay=Pp,n.bind=l,n.bounds=oe,n.canvas=Ap,n.circle=ZS,n.circleMarker=HS,n.control=ns,n.divIcon=tb,n.extend=s,n.featureGroup=FS,n.geoJSON=Tp,n.geoJson=GS,n.gridLayer=nb,n.icon=$S,n.imageOverlay=JS,n.latLng=Q,n.latLngBounds=he,n.layerGroup=US,n.map=PS,n.marker=WS,n.point=V,n.polygon=qS,n.polyline=KS,n.popup=QS,n.rectangle=sb,n.setOptions=T,n.stamp=h,n.svg=Rp,n.svgOverlay=XS,n.tileLayer=Cp,n.tooltip=eb,n.transformation=qr,n.version=i,n.videoOverlay=YS;var ab=window.L;n.noConflict=function(){return window.L=ab,this},window.L=n})})(Wh,Wh.exports);var To=Wh.exports;const Af=Vv(To);function Rf(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function If(t,e){return e==null?function(i,s){const o=B.useRef();return o.current||(o.current=t(i,s)),o}:function(i,s){const o=B.useRef();o.current||(o.current=t(i,s));const l=B.useRef(i),{instance:c}=o.current;return B.useEffect(function(){l.current!==i&&(e(c,i,l.current),l.current=i)},[c,i,s]),o}}function _R(t,e){B.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function $x(t){return function(n){const i=Of(),s=t(Lf(n,i),i);return zx(i.map,n.attribution),Fx(s.current,n.eventHandlers),_R(s.current,i),s}}function yR(t,e){const n=If(t,e),i=$x(n);return pR(i)}function wR(t,e){const n=If(t),i=vR(n,e);return mR(i)}function xR(t,e){const n=If(t,e),i=$x(n);return gR(i)}function SR(t,e,n){const{opacity:i,zIndex:s}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function Wx(){return Of().map}function bR(t){const e=Wx();return B.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function Hh(){return Hh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hh.apply(this,arguments)}function TR({bounds:t,boundsOptions:e,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:h,zoom:f,...p},g){const[v]=B.useState({className:s,id:o,style:c}),[_,b]=B.useState(null);B.useImperativeHandle(g,()=>(_==null?void 0:_.map)??null,[_]);const T=B.useCallback(S=>{if(S!==null&&_===null){const w=new To.Map(S,p);n!=null&&f!=null?w.setView(n,f):t!=null&&w.fitBounds(t,e),h!=null&&w.whenReady(h),b(dR(w))}},[]);B.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const k=_?Da.createElement(Ux,{value:_},i):l??null;return Da.createElement("div",Hh({},v,{ref:T}),k)}const PR=B.forwardRef(TR),mc=yR(function({position:e,...n},i){const s=new To.Marker(e,n);return Rf(s,fR(i,{overlayContainer:s}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),gc=wR(function(e,n){const i=new To.Popup(e,n.overlayContainer);return Rf(i,n)},function(e,n,{position:i},s){B.useEffect(function(){const{instance:l}=e;function c(f){f.popup===l&&(l.update(),s(!0))}function h(f){f.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var p;n.map.off({popupopen:c,popupclose:h}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(l)}},[e,n,s,i])}),kR=xR(function({url:e,...n},i){const s=new To.TileLayer(e,Lf(n,i));return Rf(s,i)},function(e,n,i){SR(e,n,i);const{url:s}=n;s!=null&&s!==i.url&&e.setUrl(s)}),ER=new Af.DivIcon({className:"custom-icon",html:'<div style="background-color: #FFD700; border: 2px solid black; padding: 5px; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 5px rgba(0,0,0,0.5);"></div>',iconSize:[30,30],iconAnchor:[15,15]}),CR=new Af.DivIcon({className:"custom-icon",html:'<div style="background-color: black; border: 2px solid white; padding: 5px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]}),OR=new Af.DivIcon({className:"custom-icon",html:'<div style="background-color: red; border: 2px solid white; padding: 5px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]}),LR=({center:t})=>{const e=Wx();return B.useEffect(()=>{e.setView([t.lat,t.lng],e.getZoom())},[t,e]),null},AR=({onSelect:t})=>(bR({click(e){t&&t({lat:e.latlng.lat,lng:e.latlng.lng})}}),null),RR=({center:t,drivers:e=[],destination:n,onLocationSelect:i,interactive:s=!0})=>R.jsxs(PR,{center:[t.lat,t.lng],zoom:15,scrollWheelZoom:s,style:{height:"100%",width:"100%"},children:[R.jsx(kR,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),R.jsx(LR,{center:t}),R.jsx(AR,{onSelect:i}),R.jsx(mc,{position:[t.lat,t.lng],icon:CR,children:R.jsx(gc,{children:" "})}),n&&R.jsx(mc,{position:[n.lat,n.lng],icon:OR,children:R.jsx(gc,{children:""})}),e.map(o=>R.jsx(mc,{position:[o.location.lat,o.location.lng],icon:ER,children:R.jsx(gc,{children:R.jsxs("div",{className:"text-black text-right",children:[R.jsx("p",{className:"font-bold",children:o.name}),R.jsxs("p",{children:[" ",o.rating]})]})})},o.id))]}),bs=(t,e)=>{const i=wa(e.lat-t.lat),s=wa(e.lng-t.lng),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(wa(t.lat))*Math.cos(wa(e.lat))*Math.sin(s/2)*Math.sin(s/2),c=6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)));return parseFloat(c.toFixed(2))},wa=t=>t*(Math.PI/180),zv=t=>Math.ceil(5+t*3),IR=({user:t})=>{const[e,n]=B.useState([]),[i,s]=B.useState(null),[o,l]=B.useState(null),[c,h]=B.useState(0),[f,p]=B.useState("");B.useEffect(()=>{const _=async()=>{const{data:T}=await We.from(fo).select("*").eq("status","available");T&&n(T)};_();const b=We.channel("public:drivers").on("postgres_changes",{event:"*",schema:"public",table:fo},T=>{_()}).subscribe();return()=>{We.removeChannel(b)}},[]),B.useEffect(()=>{(async()=>{const{data:T}=await We.from(Ci).select("*").eq("passenger_id",t.id).in("status",["pending","accepted","on_the_way"]).order("created_at",{ascending:!1}).limit(1).single();T&&(s(T),l(T.destination))})();const b=We.channel(`ride:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:Ci,filter:`passenger_id=eq.${t.id}`},T=>{const k=T.new;s(k),k.status==="finished"&&(s(null),l(null),alert(" !  ."))}).subscribe();return()=>{We.removeChannel(b)}},[t.id]);const g=_=>{if(i)return;l(_);const b=bs(t.location,_);h(zv(b))},v=async()=>{if(!o)return;let _=null,b=1/0;e.forEach(x=>{const E=bs(t.location,x.location);E<b&&(b=E,_=x)});const T=bs(t.location,o),k=zv(T),{data:S,error:w}=await We.from(Ci).insert([{passenger_id:t.id,driver_id:_?_.id:null,pickup:t.location,destination:o,status:"pending",price:k,distance:T}]).select().single();w?alert("Error requesting ride"):(s(S),p(_?"  ...":"   ..."))};return R.jsxs("div",{className:"h-[calc(100vh-64px)] relative",children:[R.jsx(RR,{center:t.location,drivers:e,destination:o,onLocationSelect:g,interactive:!i}),R.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-brand-dark border-t border-gray-700 p-4 rounded-t-3xl shadow-2xl z-[1000]",children:R.jsx("div",{className:"max-w-2xl mx-auto",children:i?R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${i.status==="pending"?"bg-yellow-500/20 text-yellow-500":i.status==="accepted"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:i.status==="pending"?"   ...":i.status==="accepted"?"   ":" "}),R.jsxs("span",{className:"font-mono text-lg",children:[i.price," ."]})]}),i.driver_id&&R.jsxs("div",{className:"flex items-center gap-4 bg-gray-800 p-4 rounded-xl border border-gray-700",children:[R.jsx("div",{className:"w-12 h-12 bg-brand-yellow rounded-full flex items-center justify-center text-2xl",children:""}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"font-bold text-lg",children:"  "}),R.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 text-sm",children:[R.jsx(uk,{size:14,fill:"currentColor"})," 4.8"]})]}),R.jsx("button",{className:"bg-green-600 p-3 rounded-full hover:bg-green-700",children:R.jsx(n0,{size:20})})]}),i.status==="pending"&&R.jsx("div",{className:"flex justify-center",children:R.jsx(t0,{className:"animate-spin text-brand-yellow",size:32})})]}):R.jsx(R.Fragment,{children:o?R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex justify-between items-center bg-black/30 p-4 rounded-xl",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-400 text-sm",children:" "}),R.jsxs("p",{className:"text-3xl font-bold text-brand-yellow",children:[c," ."]})]}),R.jsxs("div",{className:"text-right",children:[R.jsx("p",{className:"text-gray-400 text-sm",children:""}),R.jsxs("p",{className:"text-xl font-bold text-white",children:[bs(t.location,o)," "]})]})]}),R.jsx("button",{onClick:v,className:"w-full bg-brand-yellow text-black text-xl font-bold py-4 rounded-xl hover:bg-yellow-300 transition-transform active:scale-95 shadow-lg",children:"   "})]}):R.jsx("div",{className:"text-center py-4",children:R.jsx("p",{className:"text-xl text-gray-300 animate-pulse",children:"    "})})})})})]})},MR=({driver:t})=>{const[e,n]=B.useState(t.status==="available"),[i,s]=B.useState(null),[o,l]=B.useState(null),[c,h]=B.useState(""),f=async()=>{const _=e?"busy":"available",{error:b}=await We.from(fo).update({status:_}).eq("id",t.id);b||n(!e)};B.useEffect(()=>{if(!e)return;(async()=>{const{data:T}=await We.from(Ci).select("*").eq("driver_id",t.id).neq("status","finished").single();T&&(l(T),p(T.passenger_id))})();const b=We.channel("driver_rides").on("postgres_changes",{event:"*",schema:"public",table:Ci},T=>{const k=T.new;k.driver_id===t.id&&k.status!=="finished"?(l(k),s(null),p(k.passenger_id)):k.status==="pending"&&!k.driver_id&&!o&&s(k)}).subscribe();return()=>{We.removeChannel(b)}},[t.id,e,o]),B.useEffect(()=>{if(!e)return;const _=setInterval(()=>{navigator.geolocation.getCurrentPosition(async b=>{await We.from(fo).update({location:{lat:b.coords.latitude,lng:b.coords.longitude}}).eq("id",t.id)})},1e4);return()=>clearInterval(_)},[e,t.id]);const p=async _=>{const{data:b}=await We.from(Bx).select("name").eq("id",_).single();b&&h(b.name)},g=async()=>{i&&(await We.from(Ci).update({driver_id:t.id,status:"accepted"}).eq("id",i.id),l({...i,driver_id:t.id,status:"accepted"}),s(null),p(i.passenger_id))},v=async _=>{o&&(await We.from(Ci).update({status:_}).eq("id",o.id),_==="finished"?(l(null),h("")):l({...o,status:_}))};return R.jsxs("div",{className:"p-4 max-w-md mx-auto space-y-6",children:[R.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-lg flex items-center justify-between border border-gray-700",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl font-bold",children:t.name}),R.jsx("p",{className:e?"text-green-400":"text-gray-500",children:e?"  ":"  "})]}),R.jsx("button",{onClick:f,className:`px-6 py-2 rounded-full font-bold transition-colors ${e?"bg-red-500/20 text-red-500 border border-red-500":"bg-green-500/20 text-green-500 border border-green-500"}`,children:e?"":""})]}),i&&!o&&R.jsxs("div",{className:"bg-brand-yellow text-black p-6 rounded-2xl shadow-2xl animate-pulse",children:[R.jsx("h3",{className:"text-2xl font-black mb-2",children:"  !"}),R.jsxs("div",{className:"flex justify-between mb-4 text-lg",children:[R.jsxs("span",{children:[": ",bs(t.location,i.pickup)," "]}),R.jsxs("span",{className:"font-bold",children:[i.price," ."]})]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsxs("button",{onClick:g,className:"flex-1 bg-black text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[R.jsx(ek,{})," "]}),R.jsx("button",{onClick:()=>s(null),className:"flex-1 bg-white/20 py-3 rounded-xl font-bold",children:""})]})]}),o&&R.jsxs("div",{className:"bg-gray-800 border-2 border-brand-yellow p-6 rounded-2xl shadow-lg",children:[R.jsx("h3",{className:"text-xl font-bold text-brand-yellow mb-4",children:" "}),R.jsxs("div",{className:"space-y-4 mb-6",children:[R.jsxs("div",{className:"flex items-start gap-3",children:[R.jsx("div",{className:"bg-blue-500 p-2 rounded-full mt-1",children:R.jsx(Vd,{size:16})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-400 text-sm",children:" "}),R.jsx("p",{className:"font-bold",children:c||""})]})]}),o.destination&&R.jsxs("div",{className:"flex items-start gap-3",children:[R.jsx("div",{className:"bg-red-500 p-2 rounded-full mt-1",children:R.jsx(ok,{size:16})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-400 text-sm",children:""}),R.jsxs("p",{className:"font-bold",children:[": ",o.destination.lat.toFixed(4),", ",o.destination.lng.toFixed(4)]})]})]})]}),R.jsxs("div",{className:"flex flex-col gap-3",children:[o.status==="accepted"&&R.jsx("button",{onClick:()=>v("on_the_way"),className:"w-full bg-blue-600 py-3 rounded-xl font-bold",children:"  "}),o.status==="on_the_way"&&R.jsxs("button",{onClick:()=>v("finished"),className:"w-full bg-green-600 py-3 rounded-xl font-bold",children:["  (",o.price," .)"]}),R.jsxs("a",{href:`tel:${t.phone}`,className:"w-full bg-gray-700 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2",children:[R.jsx(n0,{size:18}),"  "]})]})]}),!e&&!o&&R.jsxs("div",{className:"text-center text-gray-500 mt-10",children:[R.jsx("p",{children:"    ."}),R.jsx("p",{children:' ""  .'})]})]})},jR=()=>{const[t,e]=B.useState("landing"),[n,i]=B.useState(null),[s,o]=B.useState(null);B.useEffect(()=>{const f=localStorage.getItem("tuktuk_user"),p=localStorage.getItem("tuktuk_driver");f?(i(JSON.parse(f)),e("user-dashboard")):p&&(o(JSON.parse(p)),e("driver-dashboard"))},[]);const l=f=>{i(f),localStorage.setItem("tuktuk_user",JSON.stringify(f)),localStorage.removeItem("tuktuk_driver"),o(null),e("user-dashboard")},c=f=>{o(f),localStorage.setItem("tuktuk_driver",JSON.stringify(f)),localStorage.removeItem("tuktuk_user"),i(null),e("driver-dashboard")},h=()=>{localStorage.removeItem("tuktuk_user"),localStorage.removeItem("tuktuk_driver"),i(null),o(null),e("landing")};return R.jsxs(ck,{currentView:t,onNavigate:e,onLogout:h,children:[t==="landing"&&R.jsx($O,{onNavigate:e}),t==="register-user"&&R.jsx(Bv,{type:"user",onSuccess:l,onCancel:()=>e("landing")}),t==="register-driver"&&R.jsx(Bv,{type:"driver",onSuccess:c,onCancel:()=>e("landing")}),t==="user-dashboard"&&n&&R.jsx(IR,{user:n}),t==="driver-dashboard"&&s&&R.jsx(MR,{driver:s})]})},Hx=document.getElementById("root");if(!Hx)throw new Error("Could not find root element to mount to");const NR=vc.createRoot(Hx);NR.render(R.jsx(Da.StrictMode,{children:R.jsx(jR,{})}));
